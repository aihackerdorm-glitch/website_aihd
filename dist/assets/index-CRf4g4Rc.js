var Az=Object.defineProperty;var wT=t=>{throw TypeError(t)};var Rz=(t,e,n)=>e in t?Az(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var It=(t,e,n)=>Rz(t,typeof e!="symbol"?e+"":e,n),zy=(t,e,n)=>e.has(t)||wT("Cannot "+n);var re=(t,e,n)=>(zy(t,e,"read from private field"),n?n.call(t):e.get(t)),mt=(t,e,n)=>e.has(t)?wT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ye=(t,e,n,i)=>(zy(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n),Wn=(t,e,n)=>(zy(t,e,"access private method"),n);var Pp=(t,e,n,i)=>({set _(r){Ye(t,e,r,n)},get _(){return re(t,e,i)}});function kz(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var Zk={exports:{}},kv={},e2={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep=Symbol.for("react.element"),Iz=Symbol.for("react.portal"),Lz=Symbol.for("react.fragment"),Oz=Symbol.for("react.strict_mode"),Nz=Symbol.for("react.profiler"),Uz=Symbol.for("react.provider"),Fz=Symbol.for("react.context"),zz=Symbol.for("react.forward_ref"),jz=Symbol.for("react.suspense"),Bz=Symbol.for("react.memo"),Vz=Symbol.for("react.lazy"),bT=Symbol.iterator;function Hz(t){return t===null||typeof t!="object"?null:(t=bT&&t[bT]||t["@@iterator"],typeof t=="function"?t:null)}var t2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},n2=Object.assign,i2={};function Ud(t,e,n){this.props=t,this.context=e,this.refs=i2,this.updater=n||t2}Ud.prototype.isReactComponent={};Ud.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ud.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function r2(){}r2.prototype=Ud.prototype;function CS(t,e,n){this.props=t,this.context=e,this.refs=i2,this.updater=n||t2}var PS=CS.prototype=new r2;PS.constructor=CS;n2(PS,Ud.prototype);PS.isPureReactComponent=!0;var ST=Array.isArray,s2=Object.prototype.hasOwnProperty,AS={current:null},o2={key:!0,ref:!0,__self:!0,__source:!0};function a2(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)s2.call(e,i)&&!o2.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:ep,type:t,key:s,ref:o,props:r,_owner:AS.current}}function Wz(t,e){return{$$typeof:ep,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function RS(t){return typeof t=="object"&&t!==null&&t.$$typeof===ep}function Gz(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ET=/\/+/g;function jy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Gz(""+t.key):e.toString(36)}function Wm(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ep:case Iz:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+jy(o,0):i,ST(r)?(n="",t!=null&&(n=t.replace(ET,"$&/")+"/"),Wm(r,e,n,"",function(c){return c})):r!=null&&(RS(r)&&(r=Wz(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(ET,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",ST(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+jy(s,a);o+=Wm(s,e,n,l,r)}else if(l=Hz(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+jy(s,a++),o+=Wm(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ap(t,e,n){if(t==null)return t;var i=[],r=0;return Wm(t,i,"","",function(s){return e.call(n,s,r++)}),i}function $z(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xi={current:null},Gm={transition:null},qz={ReactCurrentDispatcher:xi,ReactCurrentBatchConfig:Gm,ReactCurrentOwner:AS};function l2(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:Ap,forEach:function(t,e,n){Ap(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ap(t,function(){e++}),e},toArray:function(t){return Ap(t,function(e){return e})||[]},only:function(t){if(!RS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Ud;lt.Fragment=Lz;lt.Profiler=Nz;lt.PureComponent=CS;lt.StrictMode=Oz;lt.Suspense=jz;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qz;lt.act=l2;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=n2({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=AS.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)s2.call(e,l)&&!o2.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:ep,type:t.type,key:r,ref:s,props:i,_owner:o}};lt.createContext=function(t){return t={$$typeof:Fz,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Uz,_context:t},t.Consumer=t};lt.createElement=a2;lt.createFactory=function(t){var e=a2.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:zz,render:t}};lt.isValidElement=RS;lt.lazy=function(t){return{$$typeof:Vz,_payload:{_status:-1,_result:t},_init:$z}};lt.memo=function(t,e){return{$$typeof:Bz,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=Gm.transition;Gm.transition={};try{t()}finally{Gm.transition=e}};lt.unstable_act=l2;lt.useCallback=function(t,e){return xi.current.useCallback(t,e)};lt.useContext=function(t){return xi.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return xi.current.useDeferredValue(t)};lt.useEffect=function(t,e){return xi.current.useEffect(t,e)};lt.useId=function(){return xi.current.useId()};lt.useImperativeHandle=function(t,e,n){return xi.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return xi.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return xi.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return xi.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return xi.current.useReducer(t,e,n)};lt.useRef=function(t){return xi.current.useRef(t)};lt.useState=function(t){return xi.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return xi.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return xi.current.useTransition()};lt.version="18.3.1";e2.exports=lt;var M=e2.exports;const j=Qk(M),c2=kz({__proto__:null,default:j},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xz=M,Kz=Symbol.for("react.element"),Yz=Symbol.for("react.fragment"),Jz=Object.prototype.hasOwnProperty,Qz=Xz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Zz={key:!0,ref:!0,__self:!0,__source:!0};function u2(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)Jz.call(e,i)&&!Zz.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:Kz,type:t,key:s,ref:o,props:r,_owner:Qz.current}}kv.Fragment=Yz;kv.jsx=u2;kv.jsxs=u2;Zk.exports=kv;var x=Zk.exports,d2={exports:{}},ur={},h2={exports:{}},f2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,B){var K=D.length;D.push(B);e:for(;0<K;){var ne=K-1>>>1,te=D[ne];if(0<r(te,B))D[ne]=B,D[K]=te,K=ne;else break e}}function n(D){return D.length===0?null:D[0]}function i(D){if(D.length===0)return null;var B=D[0],K=D.pop();if(K!==B){D[0]=K;e:for(var ne=0,te=D.length,ye=te>>>1;ne<ye;){var pe=2*(ne+1)-1,Y=D[pe],oe=pe+1,$=D[oe];if(0>r(Y,K))oe<te&&0>r($,Y)?(D[ne]=$,D[oe]=K,ne=oe):(D[ne]=Y,D[pe]=K,ne=pe);else if(oe<te&&0>r($,K))D[ne]=$,D[oe]=K,ne=oe;else break e}}return B}function r(D,B){var K=D.sortIndex-B.sortIndex;return K!==0?K:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,v=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(D){for(var B=n(c);B!==null;){if(B.callback===null)i(c);else if(B.startTime<=D)i(c),B.sortIndex=B.expirationTime,e(l,B);else break;B=n(c)}}function w(D){if(m=!1,y(D),!v)if(n(l)!==null)v=!0,V(b);else{var B=n(c);B!==null&&z(w,B.startTime-D)}}function b(D,B){v=!1,m&&(m=!1,p(P),P=-1),f=!0;var K=h;try{for(y(B),d=n(l);d!==null&&(!(d.expirationTime>B)||D&&!R());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var te=ne(d.expirationTime<=B);B=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&i(l),y(B)}else i(l);d=n(l)}if(d!==null)var ye=!0;else{var pe=n(c);pe!==null&&z(w,pe.startTime-B),ye=!1}return ye}finally{d=null,h=K,f=!1}}var S=!1,E=null,P=-1,T=5,C=-1;function R(){return!(t.unstable_now()-C<T)}function N(){if(E!==null){var D=t.unstable_now();C=D;var B=!0;try{B=E(!0,D)}finally{B?I():(S=!1,E=null)}}else S=!1}var I;if(typeof _=="function")I=function(){_(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,H=O.port2;O.port1.onmessage=N,I=function(){H.postMessage(null)}}else I=function(){g(N,0)};function V(D){E=D,S||(S=!0,I())}function z(D,B){P=g(function(){D(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){v||f||(v=!0,V(b))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var K=h;h=B;try{return D()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=h;h=D;try{return B()}finally{h=K}},t.unstable_scheduleCallback=function(D,B,K){var ne=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ne+K:ne):K=ne,D){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,D={id:u++,callback:B,priorityLevel:D,startTime:K,expirationTime:te,sortIndex:-1},K>ne?(D.sortIndex=K,e(c,D),n(l)===null&&D===n(c)&&(m?(p(P),P=-1):m=!0,z(w,K-ne))):(D.sortIndex=te,e(l,D),v||f||(v=!0,V(b))),D},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(D){var B=h;return function(){var K=h;h=B;try{return D.apply(this,arguments)}finally{h=K}}}})(f2);h2.exports=f2;var ej=h2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tj=M,ar=ej;function de(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p2=new Set,sf={};function Cc(t,e){od(t,e),od(t+"Capture",e)}function od(t,e){for(sf[t]=e,t=0;t<e.length;t++)p2.add(e[t])}var Co=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hx=Object.prototype.hasOwnProperty,nj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,TT={},MT={};function ij(t){return hx.call(MT,t)?!0:hx.call(TT,t)?!1:nj.test(t)?MT[t]=!0:(TT[t]=!0,!1)}function rj(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function sj(t,e,n,i){if(e===null||typeof e>"u"||rj(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wi(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Hn[t]=new wi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Hn[e]=new wi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Hn[t]=new wi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Hn[t]=new wi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Hn[t]=new wi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Hn[t]=new wi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Hn[t]=new wi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Hn[t]=new wi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Hn[t]=new wi(t,5,!1,t.toLowerCase(),null,!1,!1)});var kS=/[\-:]([a-z])/g;function DS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kS,DS);Hn[e]=new wi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kS,DS);Hn[e]=new wi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kS,DS);Hn[e]=new wi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Hn[t]=new wi(t,1,!1,t.toLowerCase(),null,!1,!1)});Hn.xlinkHref=new wi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Hn[t]=new wi(t,1,!1,t.toLowerCase(),null,!0,!0)});function IS(t,e,n,i){var r=Hn.hasOwnProperty(e)?Hn[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(sj(e,n,r,i)&&(n=null),i||r===null?ij(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Bo=tj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rp=Symbol.for("react.element"),cu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),LS=Symbol.for("react.strict_mode"),fx=Symbol.for("react.profiler"),m2=Symbol.for("react.provider"),g2=Symbol.for("react.context"),OS=Symbol.for("react.forward_ref"),px=Symbol.for("react.suspense"),mx=Symbol.for("react.suspense_list"),NS=Symbol.for("react.memo"),sa=Symbol.for("react.lazy"),v2=Symbol.for("react.offscreen"),CT=Symbol.iterator;function eh(t){return t===null||typeof t!="object"?null:(t=CT&&t[CT]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,By;function wh(t){if(By===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);By=e&&e[1]||""}return`
`+By+t}var Vy=!1;function Hy(t,e){if(!t||Vy)return"";Vy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Vy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?wh(t):""}function oj(t){switch(t.tag){case 5:return wh(t.type);case 16:return wh("Lazy");case 13:return wh("Suspense");case 19:return wh("SuspenseList");case 0:case 2:case 15:return t=Hy(t.type,!1),t;case 11:return t=Hy(t.type.render,!1),t;case 1:return t=Hy(t.type,!0),t;default:return""}}function gx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uu:return"Fragment";case cu:return"Portal";case fx:return"Profiler";case LS:return"StrictMode";case px:return"Suspense";case mx:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case g2:return(t.displayName||"Context")+".Consumer";case m2:return(t._context.displayName||"Context")+".Provider";case OS:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case NS:return e=t.displayName||null,e!==null?e:gx(t.type)||"Memo";case sa:e=t._payload,t=t._init;try{return gx(t(e))}catch{}}return null}function aj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gx(e);case 8:return e===LS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Wa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function lj(t){var e=y2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kp(t){t._valueTracker||(t._valueTracker=lj(t))}function _2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=y2(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Tg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vx(t,e){var n=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function PT(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Wa(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x2(t,e){e=e.checked,e!=null&&IS(t,"checked",e,!1)}function yx(t,e){x2(t,e);var n=Wa(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_x(t,e.type,n):e.hasOwnProperty("defaultValue")&&_x(t,e.type,Wa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function _x(t,e,n){(e!=="number"||Tg(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bh=Array.isArray;function Du(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Wa(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function xx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(de(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function RT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(de(92));if(bh(n)){if(1<n.length)throw Error(de(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Wa(n)}}function w2(t,e){var n=Wa(e.value),i=Wa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function kT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wx(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dp,S2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dp=Dp||document.createElement("div"),Dp.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dp.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function of(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},cj=["Webkit","ms","Moz","O"];Object.keys(Ih).forEach(function(t){cj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ih[e]=Ih[t]})});function E2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ih.hasOwnProperty(t)&&Ih[t]?(""+e).trim():e+"px"}function T2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=E2(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var uj=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bx(t,e){if(e){if(uj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(de(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(de(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(de(61))}if(e.style!=null&&typeof e.style!="object")throw Error(de(62))}}function Sx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ex=null;function US(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tx=null,Iu=null,Lu=null;function DT(t){if(t=ip(t)){if(typeof Tx!="function")throw Error(de(280));var e=t.stateNode;e&&(e=Nv(e),Tx(t.stateNode,t.type,e))}}function M2(t){Iu?Lu?Lu.push(t):Lu=[t]:Iu=t}function C2(){if(Iu){var t=Iu,e=Lu;if(Lu=Iu=null,DT(t),e)for(t=0;t<e.length;t++)DT(e[t])}}function P2(t,e){return t(e)}function A2(){}var Wy=!1;function R2(t,e,n){if(Wy)return t(e,n);Wy=!0;try{return P2(t,e,n)}finally{Wy=!1,(Iu!==null||Lu!==null)&&(A2(),C2())}}function af(t,e){var n=t.stateNode;if(n===null)return null;var i=Nv(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(de(231,e,typeof n));return n}var Mx=!1;if(Co)try{var th={};Object.defineProperty(th,"passive",{get:function(){Mx=!0}}),window.addEventListener("test",th,th),window.removeEventListener("test",th,th)}catch{Mx=!1}function dj(t,e,n,i,r,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lh=!1,Mg=null,Cg=!1,Cx=null,hj={onError:function(t){Lh=!0,Mg=t}};function fj(t,e,n,i,r,s,o,a,l){Lh=!1,Mg=null,dj.apply(hj,arguments)}function pj(t,e,n,i,r,s,o,a,l){if(fj.apply(this,arguments),Lh){if(Lh){var c=Mg;Lh=!1,Mg=null}else throw Error(de(198));Cg||(Cg=!0,Cx=c)}}function Pc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function k2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IT(t){if(Pc(t)!==t)throw Error(de(188))}function mj(t){var e=t.alternate;if(!e){if(e=Pc(t),e===null)throw Error(de(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return IT(r),t;if(s===i)return IT(r),e;s=s.sibling}throw Error(de(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(de(189))}}if(n.alternate!==i)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?t:e}function D2(t){return t=mj(t),t!==null?I2(t):null}function I2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=I2(t);if(e!==null)return e;t=t.sibling}return null}var L2=ar.unstable_scheduleCallback,LT=ar.unstable_cancelCallback,gj=ar.unstable_shouldYield,vj=ar.unstable_requestPaint,un=ar.unstable_now,yj=ar.unstable_getCurrentPriorityLevel,FS=ar.unstable_ImmediatePriority,O2=ar.unstable_UserBlockingPriority,Pg=ar.unstable_NormalPriority,_j=ar.unstable_LowPriority,N2=ar.unstable_IdlePriority,Dv=null,Fs=null;function xj(t){if(Fs&&typeof Fs.onCommitFiberRoot=="function")try{Fs.onCommitFiberRoot(Dv,t,void 0,(t.current.flags&128)===128)}catch{}}var ls=Math.clz32?Math.clz32:Sj,wj=Math.log,bj=Math.LN2;function Sj(t){return t>>>=0,t===0?32:31-(wj(t)/bj|0)|0}var Ip=64,Lp=4194304;function Sh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ag(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=Sh(a):(s&=o,s!==0&&(i=Sh(s)))}else o=n&~r,o!==0?i=Sh(o):s!==0&&(i=Sh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-ls(e),r=1<<n,i|=t[n],e&=~r;return i}function Ej(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tj(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ls(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=Ej(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Px(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U2(){var t=Ip;return Ip<<=1,!(Ip&4194240)&&(Ip=64),t}function Gy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ls(e),t[e]=n}function Mj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-ls(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function zS(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-ls(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xt=0;function F2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var z2,jS,j2,B2,V2,Ax=!1,Op=[],Ra=null,ka=null,Da=null,lf=new Map,cf=new Map,ca=[],Cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OT(t,e){switch(t){case"focusin":case"focusout":Ra=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":lf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cf.delete(e.pointerId)}}function nh(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=ip(e),e!==null&&jS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Pj(t,e,n,i,r){switch(e){case"focusin":return Ra=nh(Ra,t,e,n,i,r),!0;case"dragenter":return ka=nh(ka,t,e,n,i,r),!0;case"mouseover":return Da=nh(Da,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return lf.set(s,nh(lf.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,cf.set(s,nh(cf.get(s)||null,t,e,n,i,r)),!0}return!1}function H2(t){var e=zl(t.target);if(e!==null){var n=Pc(e);if(n!==null){if(e=n.tag,e===13){if(e=k2(n),e!==null){t.blockedOn=e,V2(t.priority,function(){j2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $m(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);Ex=i,n.target.dispatchEvent(i),Ex=null}else return e=ip(n),e!==null&&jS(e),t.blockedOn=n,!1;e.shift()}return!0}function NT(t,e,n){$m(t)&&n.delete(e)}function Aj(){Ax=!1,Ra!==null&&$m(Ra)&&(Ra=null),ka!==null&&$m(ka)&&(ka=null),Da!==null&&$m(Da)&&(Da=null),lf.forEach(NT),cf.forEach(NT)}function ih(t,e){t.blockedOn===e&&(t.blockedOn=null,Ax||(Ax=!0,ar.unstable_scheduleCallback(ar.unstable_NormalPriority,Aj)))}function uf(t){function e(r){return ih(r,t)}if(0<Op.length){ih(Op[0],t);for(var n=1;n<Op.length;n++){var i=Op[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Ra!==null&&ih(Ra,t),ka!==null&&ih(ka,t),Da!==null&&ih(Da,t),lf.forEach(e),cf.forEach(e),n=0;n<ca.length;n++)i=ca[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ca.length&&(n=ca[0],n.blockedOn===null);)H2(n),n.blockedOn===null&&ca.shift()}var Ou=Bo.ReactCurrentBatchConfig,Rg=!0;function Rj(t,e,n,i){var r=xt,s=Ou.transition;Ou.transition=null;try{xt=1,BS(t,e,n,i)}finally{xt=r,Ou.transition=s}}function kj(t,e,n,i){var r=xt,s=Ou.transition;Ou.transition=null;try{xt=4,BS(t,e,n,i)}finally{xt=r,Ou.transition=s}}function BS(t,e,n,i){if(Rg){var r=Rx(t,e,n,i);if(r===null)t0(t,e,i,kg,n),OT(t,i);else if(Pj(r,t,e,n,i))i.stopPropagation();else if(OT(t,i),e&4&&-1<Cj.indexOf(t)){for(;r!==null;){var s=ip(r);if(s!==null&&z2(s),s=Rx(t,e,n,i),s===null&&t0(t,e,i,kg,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else t0(t,e,i,null,n)}}var kg=null;function Rx(t,e,n,i){if(kg=null,t=US(i),t=zl(t),t!==null)if(e=Pc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=k2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kg=t,null}function W2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yj()){case FS:return 1;case O2:return 4;case Pg:case _j:return 16;case N2:return 536870912;default:return 16}default:return 16}}var _a=null,VS=null,qm=null;function G2(){if(qm)return qm;var t,e=VS,n=e.length,i,r="value"in _a?_a.value:_a.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return qm=r.slice(t,1<i?1-i:void 0)}function Xm(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Np(){return!0}function UT(){return!1}function dr(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Np:UT,this.isPropagationStopped=UT,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Np)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Np)},persist:function(){},isPersistent:Np}),e}var Fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},HS=dr(Fd),np=Qt({},Fd,{view:0,detail:0}),Dj=dr(np),$y,qy,rh,Iv=Qt({},np,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:WS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rh&&(rh&&t.type==="mousemove"?($y=t.screenX-rh.screenX,qy=t.screenY-rh.screenY):qy=$y=0,rh=t),$y)},movementY:function(t){return"movementY"in t?t.movementY:qy}}),FT=dr(Iv),Ij=Qt({},Iv,{dataTransfer:0}),Lj=dr(Ij),Oj=Qt({},np,{relatedTarget:0}),Xy=dr(Oj),Nj=Qt({},Fd,{animationName:0,elapsedTime:0,pseudoElement:0}),Uj=dr(Nj),Fj=Qt({},Fd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zj=dr(Fj),jj=Qt({},Fd,{data:0}),zT=dr(jj),Bj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hj[t])?!!e[t]:!1}function WS(){return Wj}var Gj=Qt({},np,{key:function(t){if(t.key){var e=Bj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xm(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:WS,charCode:function(t){return t.type==="keypress"?Xm(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xm(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$j=dr(Gj),qj=Qt({},Iv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jT=dr(qj),Xj=Qt({},np,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:WS}),Kj=dr(Xj),Yj=Qt({},Fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jj=dr(Yj),Qj=Qt({},Iv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Zj=dr(Qj),eB=[9,13,27,32],GS=Co&&"CompositionEvent"in window,Oh=null;Co&&"documentMode"in document&&(Oh=document.documentMode);var tB=Co&&"TextEvent"in window&&!Oh,$2=Co&&(!GS||Oh&&8<Oh&&11>=Oh),BT=" ",VT=!1;function q2(t,e){switch(t){case"keyup":return eB.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var du=!1;function nB(t,e){switch(t){case"compositionend":return X2(e);case"keypress":return e.which!==32?null:(VT=!0,BT);case"textInput":return t=e.data,t===BT&&VT?null:t;default:return null}}function iB(t,e){if(du)return t==="compositionend"||!GS&&q2(t,e)?(t=G2(),qm=VS=_a=null,du=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $2&&e.locale!=="ko"?null:e.data;default:return null}}var rB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rB[t.type]:e==="textarea"}function K2(t,e,n,i){M2(i),e=Dg(e,"onChange"),0<e.length&&(n=new HS("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Nh=null,df=null;function sB(t){oD(t,0)}function Lv(t){var e=pu(t);if(_2(e))return t}function oB(t,e){if(t==="change")return e}var Y2=!1;if(Co){var Ky;if(Co){var Yy="oninput"in document;if(!Yy){var WT=document.createElement("div");WT.setAttribute("oninput","return;"),Yy=typeof WT.oninput=="function"}Ky=Yy}else Ky=!1;Y2=Ky&&(!document.documentMode||9<document.documentMode)}function GT(){Nh&&(Nh.detachEvent("onpropertychange",J2),df=Nh=null)}function J2(t){if(t.propertyName==="value"&&Lv(df)){var e=[];K2(e,df,t,US(t)),R2(sB,e)}}function aB(t,e,n){t==="focusin"?(GT(),Nh=e,df=n,Nh.attachEvent("onpropertychange",J2)):t==="focusout"&&GT()}function lB(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lv(df)}function cB(t,e){if(t==="click")return Lv(e)}function uB(t,e){if(t==="input"||t==="change")return Lv(e)}function dB(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ps=typeof Object.is=="function"?Object.is:dB;function hf(t,e){if(ps(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!hx.call(e,r)||!ps(t[r],e[r]))return!1}return!0}function $T(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qT(t,e){var n=$T(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$T(n)}}function Q2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Q2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Z2(){for(var t=window,e=Tg();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tg(t.document)}return e}function $S(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hB(t){var e=Z2(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Q2(n.ownerDocument.documentElement,n)){if(i!==null&&$S(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=qT(n,s);var o=qT(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fB=Co&&"documentMode"in document&&11>=document.documentMode,hu=null,kx=null,Uh=null,Dx=!1;function XT(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Dx||hu==null||hu!==Tg(i)||(i=hu,"selectionStart"in i&&$S(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Uh&&hf(Uh,i)||(Uh=i,i=Dg(kx,"onSelect"),0<i.length&&(e=new HS("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=hu)))}function Up(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fu={animationend:Up("Animation","AnimationEnd"),animationiteration:Up("Animation","AnimationIteration"),animationstart:Up("Animation","AnimationStart"),transitionend:Up("Transition","TransitionEnd")},Jy={},eD={};Co&&(eD=document.createElement("div").style,"AnimationEvent"in window||(delete fu.animationend.animation,delete fu.animationiteration.animation,delete fu.animationstart.animation),"TransitionEvent"in window||delete fu.transitionend.transition);function Ov(t){if(Jy[t])return Jy[t];if(!fu[t])return t;var e=fu[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eD)return Jy[t]=e[n];return t}var tD=Ov("animationend"),nD=Ov("animationiteration"),iD=Ov("animationstart"),rD=Ov("transitionend"),sD=new Map,KT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function il(t,e){sD.set(t,e),Cc(e,[t])}for(var Qy=0;Qy<KT.length;Qy++){var Zy=KT[Qy],pB=Zy.toLowerCase(),mB=Zy[0].toUpperCase()+Zy.slice(1);il(pB,"on"+mB)}il(tD,"onAnimationEnd");il(nD,"onAnimationIteration");il(iD,"onAnimationStart");il("dblclick","onDoubleClick");il("focusin","onFocus");il("focusout","onBlur");il(rD,"onTransitionEnd");od("onMouseEnter",["mouseout","mouseover"]);od("onMouseLeave",["mouseout","mouseover"]);od("onPointerEnter",["pointerout","pointerover"]);od("onPointerLeave",["pointerout","pointerover"]);Cc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gB=new Set("cancel close invalid load scroll toggle".split(" ").concat(Eh));function YT(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,pj(i,e,void 0,t),t.currentTarget=null}function oD(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;YT(r,a,c),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;YT(r,a,c),s=l}}}if(Cg)throw t=Cx,Cg=!1,Cx=null,t}function Ot(t,e){var n=e[Ux];n===void 0&&(n=e[Ux]=new Set);var i=t+"__bubble";n.has(i)||(aD(e,t,2,!1),n.add(i))}function e0(t,e,n){var i=0;e&&(i|=4),aD(n,t,i,e)}var Fp="_reactListening"+Math.random().toString(36).slice(2);function ff(t){if(!t[Fp]){t[Fp]=!0,p2.forEach(function(n){n!=="selectionchange"&&(gB.has(n)||e0(n,!1,t),e0(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fp]||(e[Fp]=!0,e0("selectionchange",!1,e))}}function aD(t,e,n,i){switch(W2(e)){case 1:var r=Rj;break;case 4:r=kj;break;default:r=BS}n=r.bind(null,e,n,t),r=void 0,!Mx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function t0(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=zl(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}R2(function(){var c=s,u=US(n),d=[];e:{var h=sD.get(t);if(h!==void 0){var f=HS,v=t;switch(t){case"keypress":if(Xm(n)===0)break e;case"keydown":case"keyup":f=$j;break;case"focusin":v="focus",f=Xy;break;case"focusout":v="blur",f=Xy;break;case"beforeblur":case"afterblur":f=Xy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=FT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Lj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Kj;break;case tD:case nD:case iD:f=Uj;break;case rD:f=Jj;break;case"scroll":f=Dj;break;case"wheel":f=Zj;break;case"copy":case"cut":case"paste":f=zj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=jT}var m=(e&4)!==0,g=!m&&t==="scroll",p=m?h!==null?h+"Capture":null:h;m=[];for(var _=c,y;_!==null;){y=_;var w=y.stateNode;if(y.tag===5&&w!==null&&(y=w,p!==null&&(w=af(_,p),w!=null&&m.push(pf(_,w,y)))),g)break;_=_.return}0<m.length&&(h=new f(h,v,null,n,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==Ex&&(v=n.relatedTarget||n.fromElement)&&(zl(v)||v[Po]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=c,v=v?zl(v):null,v!==null&&(g=Pc(v),v!==g||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=c),f!==v)){if(m=FT,w="onMouseLeave",p="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(m=jT,w="onPointerLeave",p="onPointerEnter",_="pointer"),g=f==null?h:pu(f),y=v==null?h:pu(v),h=new m(w,_+"leave",f,n,u),h.target=g,h.relatedTarget=y,w=null,zl(u)===c&&(m=new m(p,_+"enter",v,n,u),m.target=y,m.relatedTarget=g,w=m),g=w,f&&v)t:{for(m=f,p=v,_=0,y=m;y;y=Lc(y))_++;for(y=0,w=p;w;w=Lc(w))y++;for(;0<_-y;)m=Lc(m),_--;for(;0<y-_;)p=Lc(p),y--;for(;_--;){if(m===p||p!==null&&m===p.alternate)break t;m=Lc(m),p=Lc(p)}m=null}else m=null;f!==null&&JT(d,h,f,m,!1),v!==null&&g!==null&&JT(d,g,v,m,!0)}}e:{if(h=c?pu(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var b=oB;else if(HT(h))if(Y2)b=uB;else{b=lB;var S=aB}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=cB);if(b&&(b=b(t,c))){K2(d,b,n,u);break e}S&&S(t,h,c),t==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&_x(h,"number",h.value)}switch(S=c?pu(c):window,t){case"focusin":(HT(S)||S.contentEditable==="true")&&(hu=S,kx=c,Uh=null);break;case"focusout":Uh=kx=hu=null;break;case"mousedown":Dx=!0;break;case"contextmenu":case"mouseup":case"dragend":Dx=!1,XT(d,n,u);break;case"selectionchange":if(fB)break;case"keydown":case"keyup":XT(d,n,u)}var E;if(GS)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else du?q2(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&($2&&n.locale!=="ko"&&(du||P!=="onCompositionStart"?P==="onCompositionEnd"&&du&&(E=G2()):(_a=u,VS="value"in _a?_a.value:_a.textContent,du=!0)),S=Dg(c,P),0<S.length&&(P=new zT(P,t,null,n,u),d.push({event:P,listeners:S}),E?P.data=E:(E=X2(n),E!==null&&(P.data=E)))),(E=tB?nB(t,n):iB(t,n))&&(c=Dg(c,"onBeforeInput"),0<c.length&&(u=new zT("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=E))}oD(d,e)})}function pf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dg(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=af(t,n),s!=null&&i.unshift(pf(t,s,r)),s=af(t,e),s!=null&&i.push(pf(t,s,r))),t=t.return}return i}function Lc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function JT(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&c!==null&&(a=c,r?(l=af(n,s),l!=null&&o.unshift(pf(n,l,a))):r||(l=af(n,s),l!=null&&o.push(pf(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var vB=/\r\n?/g,yB=/\u0000|\uFFFD/g;function QT(t){return(typeof t=="string"?t:""+t).replace(vB,`
`).replace(yB,"")}function zp(t,e,n){if(e=QT(e),QT(t)!==e&&n)throw Error(de(425))}function Ig(){}var Ix=null,Lx=null;function Ox(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Nx=typeof setTimeout=="function"?setTimeout:void 0,_B=typeof clearTimeout=="function"?clearTimeout:void 0,ZT=typeof Promise=="function"?Promise:void 0,xB=typeof queueMicrotask=="function"?queueMicrotask:typeof ZT<"u"?function(t){return ZT.resolve(null).then(t).catch(wB)}:Nx;function wB(t){setTimeout(function(){throw t})}function n0(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),uf(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);uf(e)}function Ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function eM(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var zd=Math.random().toString(36).slice(2),Rs="__reactFiber$"+zd,mf="__reactProps$"+zd,Po="__reactContainer$"+zd,Ux="__reactEvents$"+zd,bB="__reactListeners$"+zd,SB="__reactHandles$"+zd;function zl(t){var e=t[Rs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Po]||n[Rs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=eM(t);t!==null;){if(n=t[Rs])return n;t=eM(t)}return e}t=n,n=t.parentNode}return null}function ip(t){return t=t[Rs]||t[Po],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function pu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(de(33))}function Nv(t){return t[mf]||null}var Fx=[],mu=-1;function rl(t){return{current:t}}function Nt(t){0>mu||(t.current=Fx[mu],Fx[mu]=null,mu--)}function kt(t,e){mu++,Fx[mu]=t.current,t.current=e}var Ga={},ri=rl(Ga),Ii=rl(!1),pc=Ga;function ad(t,e){var n=t.type.contextTypes;if(!n)return Ga;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Li(t){return t=t.childContextTypes,t!=null}function Lg(){Nt(Ii),Nt(ri)}function tM(t,e,n){if(ri.current!==Ga)throw Error(de(168));kt(ri,e),kt(Ii,n)}function lD(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(de(108,aj(t)||"Unknown",r));return Qt({},n,i)}function Og(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ga,pc=ri.current,kt(ri,t),kt(Ii,Ii.current),!0}function nM(t,e,n){var i=t.stateNode;if(!i)throw Error(de(169));n?(t=lD(t,e,pc),i.__reactInternalMemoizedMergedChildContext=t,Nt(Ii),Nt(ri),kt(ri,t)):Nt(Ii),kt(Ii,n)}var mo=null,Uv=!1,i0=!1;function cD(t){mo===null?mo=[t]:mo.push(t)}function EB(t){Uv=!0,cD(t)}function sl(){if(!i0&&mo!==null){i0=!0;var t=0,e=xt;try{var n=mo;for(xt=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}mo=null,Uv=!1}catch(r){throw mo!==null&&(mo=mo.slice(t+1)),L2(FS,sl),r}finally{xt=e,i0=!1}}return null}var gu=[],vu=0,Ng=null,Ug=0,Tr=[],Mr=0,mc=null,xo=1,wo="";function Ml(t,e){gu[vu++]=Ug,gu[vu++]=Ng,Ng=t,Ug=e}function uD(t,e,n){Tr[Mr++]=xo,Tr[Mr++]=wo,Tr[Mr++]=mc,mc=t;var i=xo;t=wo;var r=32-ls(i)-1;i&=~(1<<r),n+=1;var s=32-ls(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,xo=1<<32-ls(e)+r|n<<r|i,wo=s+t}else xo=1<<s|n<<r|i,wo=t}function qS(t){t.return!==null&&(Ml(t,1),uD(t,1,0))}function XS(t){for(;t===Ng;)Ng=gu[--vu],gu[vu]=null,Ug=gu[--vu],gu[vu]=null;for(;t===mc;)mc=Tr[--Mr],Tr[Mr]=null,wo=Tr[--Mr],Tr[Mr]=null,xo=Tr[--Mr],Tr[Mr]=null}var nr=null,Zi=null,Ut=!1,ts=null;function dD(t,e){var n=Ar(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function iM(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,Zi=Ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,Zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=mc!==null?{id:xo,overflow:wo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ar(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,Zi=null,!0):!1;default:return!1}}function zx(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jx(t){if(Ut){var e=Zi;if(e){var n=e;if(!iM(t,e)){if(zx(t))throw Error(de(418));e=Ia(n.nextSibling);var i=nr;e&&iM(t,e)?dD(i,n):(t.flags=t.flags&-4097|2,Ut=!1,nr=t)}}else{if(zx(t))throw Error(de(418));t.flags=t.flags&-4097|2,Ut=!1,nr=t}}}function rM(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function jp(t){if(t!==nr)return!1;if(!Ut)return rM(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ox(t.type,t.memoizedProps)),e&&(e=Zi)){if(zx(t))throw hD(),Error(de(418));for(;e;)dD(t,e),e=Ia(e.nextSibling)}if(rM(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(de(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zi=Ia(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zi=null}}else Zi=nr?Ia(t.stateNode.nextSibling):null;return!0}function hD(){for(var t=Zi;t;)t=Ia(t.nextSibling)}function ld(){Zi=nr=null,Ut=!1}function KS(t){ts===null?ts=[t]:ts.push(t)}var TB=Bo.ReactCurrentBatchConfig;function sh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var i=n.stateNode}if(!i)throw Error(de(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,t))}return t}function Bp(t,e){throw t=Object.prototype.toString.call(e),Error(de(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function sM(t){var e=t._init;return e(t._payload)}function fD(t){function e(p,_){if(t){var y=p.deletions;y===null?(p.deletions=[_],p.flags|=16):y.push(_)}}function n(p,_){if(!t)return null;for(;_!==null;)e(p,_),_=_.sibling;return null}function i(p,_){for(p=new Map;_!==null;)_.key!==null?p.set(_.key,_):p.set(_.index,_),_=_.sibling;return p}function r(p,_){return p=Ua(p,_),p.index=0,p.sibling=null,p}function s(p,_,y){return p.index=y,t?(y=p.alternate,y!==null?(y=y.index,y<_?(p.flags|=2,_):y):(p.flags|=2,_)):(p.flags|=1048576,_)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,_,y,w){return _===null||_.tag!==6?(_=u0(y,p.mode,w),_.return=p,_):(_=r(_,y),_.return=p,_)}function l(p,_,y,w){var b=y.type;return b===uu?u(p,_,y.props.children,w,y.key):_!==null&&(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===sa&&sM(b)===_.type)?(w=r(_,y.props),w.ref=sh(p,_,y),w.return=p,w):(w=tg(y.type,y.key,y.props,null,p.mode,w),w.ref=sh(p,_,y),w.return=p,w)}function c(p,_,y,w){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=d0(y,p.mode,w),_.return=p,_):(_=r(_,y.children||[]),_.return=p,_)}function u(p,_,y,w,b){return _===null||_.tag!==7?(_=sc(y,p.mode,w,b),_.return=p,_):(_=r(_,y),_.return=p,_)}function d(p,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=u0(""+_,p.mode,y),_.return=p,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rp:return y=tg(_.type,_.key,_.props,null,p.mode,y),y.ref=sh(p,null,_),y.return=p,y;case cu:return _=d0(_,p.mode,y),_.return=p,_;case sa:var w=_._init;return d(p,w(_._payload),y)}if(bh(_)||eh(_))return _=sc(_,p.mode,y,null),_.return=p,_;Bp(p,_)}return null}function h(p,_,y,w){var b=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return b!==null?null:a(p,_,""+y,w);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Rp:return y.key===b?l(p,_,y,w):null;case cu:return y.key===b?c(p,_,y,w):null;case sa:return b=y._init,h(p,_,b(y._payload),w)}if(bh(y)||eh(y))return b!==null?null:u(p,_,y,w,null);Bp(p,y)}return null}function f(p,_,y,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(y)||null,a(_,p,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Rp:return p=p.get(w.key===null?y:w.key)||null,l(_,p,w,b);case cu:return p=p.get(w.key===null?y:w.key)||null,c(_,p,w,b);case sa:var S=w._init;return f(p,_,y,S(w._payload),b)}if(bh(w)||eh(w))return p=p.get(y)||null,u(_,p,w,b,null);Bp(_,w)}return null}function v(p,_,y,w){for(var b=null,S=null,E=_,P=_=0,T=null;E!==null&&P<y.length;P++){E.index>P?(T=E,E=null):T=E.sibling;var C=h(p,E,y[P],w);if(C===null){E===null&&(E=T);break}t&&E&&C.alternate===null&&e(p,E),_=s(C,_,P),S===null?b=C:S.sibling=C,S=C,E=T}if(P===y.length)return n(p,E),Ut&&Ml(p,P),b;if(E===null){for(;P<y.length;P++)E=d(p,y[P],w),E!==null&&(_=s(E,_,P),S===null?b=E:S.sibling=E,S=E);return Ut&&Ml(p,P),b}for(E=i(p,E);P<y.length;P++)T=f(E,p,P,y[P],w),T!==null&&(t&&T.alternate!==null&&E.delete(T.key===null?P:T.key),_=s(T,_,P),S===null?b=T:S.sibling=T,S=T);return t&&E.forEach(function(R){return e(p,R)}),Ut&&Ml(p,P),b}function m(p,_,y,w){var b=eh(y);if(typeof b!="function")throw Error(de(150));if(y=b.call(y),y==null)throw Error(de(151));for(var S=b=null,E=_,P=_=0,T=null,C=y.next();E!==null&&!C.done;P++,C=y.next()){E.index>P?(T=E,E=null):T=E.sibling;var R=h(p,E,C.value,w);if(R===null){E===null&&(E=T);break}t&&E&&R.alternate===null&&e(p,E),_=s(R,_,P),S===null?b=R:S.sibling=R,S=R,E=T}if(C.done)return n(p,E),Ut&&Ml(p,P),b;if(E===null){for(;!C.done;P++,C=y.next())C=d(p,C.value,w),C!==null&&(_=s(C,_,P),S===null?b=C:S.sibling=C,S=C);return Ut&&Ml(p,P),b}for(E=i(p,E);!C.done;P++,C=y.next())C=f(E,p,P,C.value,w),C!==null&&(t&&C.alternate!==null&&E.delete(C.key===null?P:C.key),_=s(C,_,P),S===null?b=C:S.sibling=C,S=C);return t&&E.forEach(function(N){return e(p,N)}),Ut&&Ml(p,P),b}function g(p,_,y,w){if(typeof y=="object"&&y!==null&&y.type===uu&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Rp:e:{for(var b=y.key,S=_;S!==null;){if(S.key===b){if(b=y.type,b===uu){if(S.tag===7){n(p,S.sibling),_=r(S,y.props.children),_.return=p,p=_;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===sa&&sM(b)===S.type){n(p,S.sibling),_=r(S,y.props),_.ref=sh(p,S,y),_.return=p,p=_;break e}n(p,S);break}else e(p,S);S=S.sibling}y.type===uu?(_=sc(y.props.children,p.mode,w,y.key),_.return=p,p=_):(w=tg(y.type,y.key,y.props,null,p.mode,w),w.ref=sh(p,_,y),w.return=p,p=w)}return o(p);case cu:e:{for(S=y.key;_!==null;){if(_.key===S)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(p,_.sibling),_=r(_,y.children||[]),_.return=p,p=_;break e}else{n(p,_);break}else e(p,_);_=_.sibling}_=d0(y,p.mode,w),_.return=p,p=_}return o(p);case sa:return S=y._init,g(p,_,S(y._payload),w)}if(bh(y))return v(p,_,y,w);if(eh(y))return m(p,_,y,w);Bp(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(p,_.sibling),_=r(_,y),_.return=p,p=_):(n(p,_),_=u0(y,p.mode,w),_.return=p,p=_),o(p)):n(p,_)}return g}var cd=fD(!0),pD=fD(!1),Fg=rl(null),zg=null,yu=null,YS=null;function JS(){YS=yu=zg=null}function QS(t){var e=Fg.current;Nt(Fg),t._currentValue=e}function Bx(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Nu(t,e){zg=t,YS=yu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ki=!0),t.firstContext=null)}function Ur(t){var e=t._currentValue;if(YS!==t)if(t={context:t,memoizedValue:e,next:null},yu===null){if(zg===null)throw Error(de(308));yu=t,zg.dependencies={lanes:0,firstContext:t}}else yu=yu.next=t;return e}var jl=null;function ZS(t){jl===null?jl=[t]:jl.push(t)}function mD(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,ZS(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ao(t,i)}function Ao(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var oa=!1;function eE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gD(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function La(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ft&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ao(t,n)}return r=i.interleaved,r===null?(e.next=e,ZS(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ao(t,n)}function Km(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zS(t,n)}}function oM(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function jg(t,e,n,i){var r=t.updateQueue;oa=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((i&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,m=a;switch(h=e,f=n,m.tag){case 1:if(v=m.payload,typeof v=="function"){d=v.call(f,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(f,d,h):v,h==null)break e;d=Qt({},d,h);break e;case 2:oa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=r.effects,h===null?r.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;h=a,a=h.next,h.next=null,r.lastBaseUpdate=h,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);vc|=o,t.lanes=o,t.memoizedState=d}}function aM(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(de(191,r));r.call(i)}}}var rp={},zs=rl(rp),gf=rl(rp),vf=rl(rp);function Bl(t){if(t===rp)throw Error(de(174));return t}function tE(t,e){switch(kt(vf,e),kt(gf,t),kt(zs,rp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wx(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wx(e,t)}Nt(zs),kt(zs,e)}function ud(){Nt(zs),Nt(gf),Nt(vf)}function vD(t){Bl(vf.current);var e=Bl(zs.current),n=wx(e,t.type);e!==n&&(kt(gf,t),kt(zs,n))}function nE(t){gf.current===t&&(Nt(zs),Nt(gf))}var Gt=rl(0);function Bg(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r0=[];function iE(){for(var t=0;t<r0.length;t++)r0[t]._workInProgressVersionPrimary=null;r0.length=0}var Ym=Bo.ReactCurrentDispatcher,s0=Bo.ReactCurrentBatchConfig,gc=0,Yt=null,En=null,In=null,Vg=!1,Fh=!1,yf=0,MB=0;function Gn(){throw Error(de(321))}function rE(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ps(t[n],e[n]))return!1;return!0}function sE(t,e,n,i,r,s){if(gc=s,Yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ym.current=t===null||t.memoizedState===null?RB:kB,t=n(i,r),Fh){s=0;do{if(Fh=!1,yf=0,25<=s)throw Error(de(301));s+=1,In=En=null,e.updateQueue=null,Ym.current=DB,t=n(i,r)}while(Fh)}if(Ym.current=Hg,e=En!==null&&En.next!==null,gc=0,In=En=Yt=null,Vg=!1,e)throw Error(de(300));return t}function oE(){var t=yf!==0;return yf=0,t}function bs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?Yt.memoizedState=In=t:In=In.next=t,In}function Fr(){if(En===null){var t=Yt.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=In===null?Yt.memoizedState:In.next;if(e!==null)In=e,En=t;else{if(t===null)throw Error(de(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},In===null?Yt.memoizedState=In=t:In=In.next=t}return In}function _f(t,e){return typeof e=="function"?e(t):e}function o0(t){var e=Fr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var i=En,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((gc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,Yt.lanes|=u,vc|=u}c=c.next}while(c!==null&&c!==s);l===null?o=i:l.next=a,ps(i,e.memoizedState)||(ki=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,Yt.lanes|=s,vc|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function a0(t){var e=Fr(),n=e.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);ps(s,e.memoizedState)||(ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function yD(){}function _D(t,e){var n=Yt,i=Fr(),r=e(),s=!ps(i.memoizedState,r);if(s&&(i.memoizedState=r,ki=!0),i=i.queue,aE(bD.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||In!==null&&In.memoizedState.tag&1){if(n.flags|=2048,xf(9,wD.bind(null,n,i,r,e),void 0,null),Ln===null)throw Error(de(349));gc&30||xD(n,e,r)}return r}function xD(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function wD(t,e,n,i){e.value=n,e.getSnapshot=i,SD(e)&&ED(t)}function bD(t,e,n){return n(function(){SD(e)&&ED(t)})}function SD(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ps(t,n)}catch{return!0}}function ED(t){var e=Ao(t,1);e!==null&&cs(e,t,1,-1)}function lM(t){var e=bs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:t},e.queue=t,t=t.dispatch=AB.bind(null,Yt,t),[e.memoizedState,t]}function xf(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Yt.updateQueue,e===null?(e={lastEffect:null,stores:null},Yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function TD(){return Fr().memoizedState}function Jm(t,e,n,i){var r=bs();Yt.flags|=t,r.memoizedState=xf(1|e,n,void 0,i===void 0?null:i)}function Fv(t,e,n,i){var r=Fr();i=i===void 0?null:i;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,i!==null&&rE(i,o.deps)){r.memoizedState=xf(e,n,s,i);return}}Yt.flags|=t,r.memoizedState=xf(1|e,n,s,i)}function cM(t,e){return Jm(8390656,8,t,e)}function aE(t,e){return Fv(2048,8,t,e)}function MD(t,e){return Fv(4,2,t,e)}function CD(t,e){return Fv(4,4,t,e)}function PD(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AD(t,e,n){return n=n!=null?n.concat([t]):null,Fv(4,4,PD.bind(null,e,t),n)}function lE(){}function RD(t,e){var n=Fr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&rE(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function kD(t,e){var n=Fr();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&rE(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function DD(t,e,n){return gc&21?(ps(n,e)||(n=U2(),Yt.lanes|=n,vc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ki=!0),t.memoizedState=n)}function CB(t,e){var n=xt;xt=n!==0&&4>n?n:4,t(!0);var i=s0.transition;s0.transition={};try{t(!1),e()}finally{xt=n,s0.transition=i}}function ID(){return Fr().memoizedState}function PB(t,e,n){var i=Na(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},LD(t))OD(e,n);else if(n=mD(t,e,n,i),n!==null){var r=yi();cs(n,t,i,r),ND(n,e,i)}}function AB(t,e,n){var i=Na(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(LD(t))OD(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,ps(a,o)){var l=e.interleaved;l===null?(r.next=r,ZS(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=mD(t,e,r,i),n!==null&&(r=yi(),cs(n,t,i,r),ND(n,e,i))}}function LD(t){var e=t.alternate;return t===Yt||e!==null&&e===Yt}function OD(t,e){Fh=Vg=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ND(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,zS(t,n)}}var Hg={readContext:Ur,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},RB={readContext:Ur,useCallback:function(t,e){return bs().memoizedState=[t,e===void 0?null:e],t},useContext:Ur,useEffect:cM,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jm(4194308,4,PD.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jm(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jm(4,2,t,e)},useMemo:function(t,e){var n=bs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=bs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=PB.bind(null,Yt,t),[i.memoizedState,t]},useRef:function(t){var e=bs();return t={current:t},e.memoizedState=t},useState:lM,useDebugValue:lE,useDeferredValue:function(t){return bs().memoizedState=t},useTransition:function(){var t=lM(!1),e=t[0];return t=CB.bind(null,t[1]),bs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Yt,r=bs();if(Ut){if(n===void 0)throw Error(de(407));n=n()}else{if(n=e(),Ln===null)throw Error(de(349));gc&30||xD(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,cM(bD.bind(null,i,s,t),[t]),i.flags|=2048,xf(9,wD.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=bs(),e=Ln.identifierPrefix;if(Ut){var n=wo,i=xo;n=(i&~(1<<32-ls(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=yf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MB++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kB={readContext:Ur,useCallback:RD,useContext:Ur,useEffect:aE,useImperativeHandle:AD,useInsertionEffect:MD,useLayoutEffect:CD,useMemo:kD,useReducer:o0,useRef:TD,useState:function(){return o0(_f)},useDebugValue:lE,useDeferredValue:function(t){var e=Fr();return DD(e,En.memoizedState,t)},useTransition:function(){var t=o0(_f)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:_D,useId:ID,unstable_isNewReconciler:!1},DB={readContext:Ur,useCallback:RD,useContext:Ur,useEffect:aE,useImperativeHandle:AD,useInsertionEffect:MD,useLayoutEffect:CD,useMemo:kD,useReducer:a0,useRef:TD,useState:function(){return a0(_f)},useDebugValue:lE,useDeferredValue:function(t){var e=Fr();return En===null?e.memoizedState=t:DD(e,En.memoizedState,t)},useTransition:function(){var t=a0(_f)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:yD,useSyncExternalStore:_D,useId:ID,unstable_isNewReconciler:!1};function Xr(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Vx(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Qt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zv={isMounted:function(t){return(t=t._reactInternals)?Pc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=yi(),r=Na(t),s=Eo(i,r);s.payload=e,n!=null&&(s.callback=n),e=La(t,s,r),e!==null&&(cs(e,t,r,i),Km(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=yi(),r=Na(t),s=Eo(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=La(t,s,r),e!==null&&(cs(e,t,r,i),Km(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=yi(),i=Na(t),r=Eo(n,i);r.tag=2,e!=null&&(r.callback=e),e=La(t,r,i),e!==null&&(cs(e,t,i,n),Km(e,t,i))}};function uM(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!hf(n,i)||!hf(r,s):!0}function UD(t,e,n){var i=!1,r=Ga,s=e.contextType;return typeof s=="object"&&s!==null?s=Ur(s):(r=Li(e)?pc:ri.current,i=e.contextTypes,s=(i=i!=null)?ad(t,r):Ga),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zv,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function dM(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&zv.enqueueReplaceState(e,e.state,null)}function Hx(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},eE(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Ur(s):(s=Li(e)?pc:ri.current,r.context=ad(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Vx(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&zv.enqueueReplaceState(r,r.state,null),jg(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function dd(t,e){try{var n="",i=e;do n+=oj(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function l0(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Wx(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var IB=typeof WeakMap=="function"?WeakMap:Map;function FD(t,e,n){n=Eo(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gg||(Gg=!0,ew=i),Wx(t,e)},n}function zD(t,e,n){n=Eo(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){Wx(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Wx(t,e),typeof i!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function hM(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new IB;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=qB.bind(null,t,e,n),e.then(t,t))}function fM(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pM(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Eo(-1,1),e.tag=2,La(n,e,1))),n.lanes|=1),t)}var LB=Bo.ReactCurrentOwner,ki=!1;function di(t,e,n,i){e.child=t===null?pD(e,null,n,i):cd(e,t.child,n,i)}function mM(t,e,n,i,r){n=n.render;var s=e.ref;return Nu(e,r),i=sE(t,e,n,i,s,r),n=oE(),t!==null&&!ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ro(t,e,r)):(Ut&&n&&qS(e),e.flags|=1,di(t,e,i,r),e.child)}function gM(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!gE(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jD(t,e,s,i,r)):(t=tg(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:hf,n(o,i)&&t.ref===e.ref)return Ro(t,e,r)}return e.flags|=1,t=Ua(s,i),t.ref=e.ref,t.return=e,e.child=t}function jD(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(hf(s,i)&&t.ref===e.ref)if(ki=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(ki=!0);else return e.lanes=t.lanes,Ro(t,e,r)}return Gx(t,e,n,i,r)}function BD(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(xu,Ki),Ki|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(xu,Ki),Ki|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,kt(xu,Ki),Ki|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,kt(xu,Ki),Ki|=i;return di(t,e,r,n),e.child}function VD(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Gx(t,e,n,i,r){var s=Li(n)?pc:ri.current;return s=ad(e,s),Nu(e,r),n=sE(t,e,n,i,s,r),i=oE(),t!==null&&!ki?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ro(t,e,r)):(Ut&&i&&qS(e),e.flags|=1,di(t,e,n,r),e.child)}function vM(t,e,n,i,r){if(Li(n)){var s=!0;Og(e)}else s=!1;if(Nu(e,r),e.stateNode===null)Qm(t,e),UD(e,n,i),Hx(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ur(c):(c=Li(n)?pc:ri.current,c=ad(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==c)&&dM(e,o,i,c),oa=!1;var h=e.memoizedState;o.state=h,jg(e,i,o,r),l=e.memoizedState,a!==i||h!==l||Ii.current||oa?(typeof u=="function"&&(Vx(e,n,u,i),l=e.memoizedState),(a=oa||uM(e,n,a,i,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,gD(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ur(l):(l=Li(n)?pc:ri.current,l=ad(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&dM(e,o,i,l),oa=!1,h=e.memoizedState,o.state=h,jg(e,i,o,r);var v=e.memoizedState;a!==d||h!==v||Ii.current||oa?(typeof f=="function"&&(Vx(e,n,f,i),v=e.memoizedState),(c=oa||uM(e,n,c,i,h,v,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=l,i=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),i=!1)}return $x(t,e,n,i,s,r)}function $x(t,e,n,i,r,s){VD(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&nM(e,n,!1),Ro(t,e,s);i=e.stateNode,LB.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=cd(e,t.child,null,s),e.child=cd(e,null,a,s)):di(t,e,a,s),e.memoizedState=i.state,r&&nM(e,n,!0),e.child}function HD(t){var e=t.stateNode;e.pendingContext?tM(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tM(t,e.context,!1),tE(t,e.containerInfo)}function yM(t,e,n,i,r){return ld(),KS(r),e.flags|=256,di(t,e,n,i),e.child}var qx={dehydrated:null,treeContext:null,retryLane:0};function Xx(t){return{baseLanes:t,cachePool:null,transitions:null}}function WD(t,e,n){var i=e.pendingProps,r=Gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),kt(Gt,r&1),t===null)return jx(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Vv(o,i,0,null),t=sc(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xx(n),e.memoizedState=qx,t):cE(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return OB(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ua(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ua(a,s):(s=sc(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Xx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qx,i}return s=t.child,t=s.sibling,i=Ua(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function cE(t,e){return e=Vv({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vp(t,e,n,i){return i!==null&&KS(i),cd(e,t.child,null,n),t=cE(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OB(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=l0(Error(de(422))),Vp(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Vv({mode:"visible",children:i.children},r,0,null),s=sc(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&cd(e,t.child,null,o),e.child.memoizedState=Xx(o),e.memoizedState=qx,s);if(!(e.mode&1))return Vp(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(de(419)),i=l0(s,i,void 0),Vp(t,e,o,i)}if(a=(o&t.childLanes)!==0,ki||a){if(i=Ln,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ao(t,r),cs(i,t,r,-1))}return mE(),i=l0(Error(de(421))),Vp(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=XB.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,Zi=Ia(r.nextSibling),nr=e,Ut=!0,ts=null,t!==null&&(Tr[Mr++]=xo,Tr[Mr++]=wo,Tr[Mr++]=mc,xo=t.id,wo=t.overflow,mc=e),e=cE(e,i.children),e.flags|=4096,e)}function _M(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),Bx(t.return,e,n)}function c0(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function GD(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(di(t,e,i.children,n),i=Gt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_M(t,n,e);else if(t.tag===19)_M(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(kt(Gt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Bg(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),c0(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Bg(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}c0(e,!0,n,null,s);break;case"together":c0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qm(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ro(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(de(153));if(e.child!==null){for(t=e.child,n=Ua(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ua(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function NB(t,e,n){switch(e.tag){case 3:HD(e),ld();break;case 5:vD(e);break;case 1:Li(e.type)&&Og(e);break;case 4:tE(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;kt(Fg,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(kt(Gt,Gt.current&1),e.flags|=128,null):n&e.child.childLanes?WD(t,e,n):(kt(Gt,Gt.current&1),t=Ro(t,e,n),t!==null?t.sibling:null);kt(Gt,Gt.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return GD(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),kt(Gt,Gt.current),i)break;return null;case 22:case 23:return e.lanes=0,BD(t,e,n)}return Ro(t,e,n)}var $D,Kx,qD,XD;$D=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Kx=function(){};qD=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,Bl(zs.current);var s=null;switch(n){case"input":r=vx(t,r),i=vx(t,i),s=[];break;case"select":r=Qt({},r,{value:void 0}),i=Qt({},i,{value:void 0}),s=[];break;case"textarea":r=xx(t,r),i=xx(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Ig)}bx(n,i);var o;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ot("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};XD=function(t,e,n,i){n!==i&&(e.flags|=4)};function oh(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function $n(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UB(t,e,n){var i=e.pendingProps;switch(XS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $n(e),null;case 1:return Li(e.type)&&Lg(),$n(e),null;case 3:return i=e.stateNode,ud(),Nt(Ii),Nt(ri),iE(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(jp(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ts!==null&&(iw(ts),ts=null))),Kx(t,e),$n(e),null;case 5:nE(e);var r=Bl(vf.current);if(n=e.type,t!==null&&e.stateNode!=null)qD(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(de(166));return $n(e),null}if(t=Bl(zs.current),jp(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Rs]=e,i[mf]=s,t=(e.mode&1)!==0,n){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(r=0;r<Eh.length;r++)Ot(Eh[r],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":PT(i,s),Ot("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ot("invalid",i);break;case"textarea":RT(i,s),Ot("invalid",i)}bx(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&zp(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zp(i.textContent,a,t),r=["children",""+a]):sf.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ot("scroll",i)}switch(n){case"input":kp(i),AT(i,s,!0);break;case"textarea":kp(i),kT(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Ig)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Rs]=e,t[mf]=i,$D(t,e,!1,!1),e.stateNode=t;e:{switch(o=Sx(n,i),n){case"dialog":Ot("cancel",t),Ot("close",t),r=i;break;case"iframe":case"object":case"embed":Ot("load",t),r=i;break;case"video":case"audio":for(r=0;r<Eh.length;r++)Ot(Eh[r],t);r=i;break;case"source":Ot("error",t),r=i;break;case"img":case"image":case"link":Ot("error",t),Ot("load",t),r=i;break;case"details":Ot("toggle",t),r=i;break;case"input":PT(t,i),r=vx(t,i),Ot("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Qt({},i,{value:void 0}),Ot("invalid",t);break;case"textarea":RT(t,i),r=xx(t,i),Ot("invalid",t);break;default:r=i}bx(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?T2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&of(t,l):typeof l=="number"&&of(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ot("scroll",t):l!=null&&IS(t,s,l,o))}switch(n){case"input":kp(t),AT(t,i,!1);break;case"textarea":kp(t),kT(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Wa(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Du(t,!!i.multiple,s,!1):i.defaultValue!=null&&Du(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Ig)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return $n(e),null;case 6:if(t&&e.stateNode!=null)XD(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(de(166));if(n=Bl(vf.current),Bl(zs.current),jp(e)){if(i=e.stateNode,n=e.memoizedProps,i[Rs]=e,(s=i.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:zp(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zp(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rs]=e,e.stateNode=i}return $n(e),null;case 13:if(Nt(Gt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Zi!==null&&e.mode&1&&!(e.flags&128))hD(),ld(),e.flags|=98560,s=!1;else if(s=jp(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(de(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(de(317));s[Rs]=e}else ld(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;$n(e),s=!1}else ts!==null&&(iw(ts),ts=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?Pn===0&&(Pn=3):mE())),e.updateQueue!==null&&(e.flags|=4),$n(e),null);case 4:return ud(),Kx(t,e),t===null&&ff(e.stateNode.containerInfo),$n(e),null;case 10:return QS(e.type._context),$n(e),null;case 17:return Li(e.type)&&Lg(),$n(e),null;case 19:if(Nt(Gt),s=e.memoizedState,s===null)return $n(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)oh(s,!1);else{if(Pn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Bg(t),o!==null){for(e.flags|=128,oh(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Gt,Gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&un()>hd&&(e.flags|=128,i=!0,oh(s,!1),e.lanes=4194304)}else{if(!i)if(t=Bg(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),oh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ut)return $n(e),null}else 2*un()-s.renderingStartTime>hd&&n!==1073741824&&(e.flags|=128,i=!0,oh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=un(),e.sibling=null,n=Gt.current,kt(Gt,i?n&1|2:n&1),e):($n(e),null);case 22:case 23:return pE(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ki&1073741824&&($n(e),e.subtreeFlags&6&&(e.flags|=8192)):$n(e),null;case 24:return null;case 25:return null}throw Error(de(156,e.tag))}function FB(t,e){switch(XS(e),e.tag){case 1:return Li(e.type)&&Lg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ud(),Nt(Ii),Nt(ri),iE(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return nE(e),null;case 13:if(Nt(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(de(340));ld()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Nt(Gt),null;case 4:return ud(),null;case 10:return QS(e.type._context),null;case 22:case 23:return pE(),null;case 24:return null;default:return null}}var Hp=!1,Jn=!1,zB=typeof WeakSet=="function"?WeakSet:Set,De=null;function _u(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){rn(t,e,i)}else n.current=null}function Yx(t,e,n){try{n()}catch(i){rn(t,e,i)}}var xM=!1;function jB(t,e){if(Ix=Rg,t=Z2(),$S(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===r&&(a=o),h===s&&++u===i&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Lx={focusedElem:t,selectionRange:n},Rg=!1,De=e;De!==null;)if(e=De,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,De=t;else for(;De!==null;){e=De;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,g=v.memoizedState,p=e.stateNode,_=p.getSnapshotBeforeUpdate(e.elementType===e.type?m:Xr(e.type,m),g);p.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(w){rn(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,De=t;break}De=e.return}return v=xM,xM=!1,v}function zh(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Yx(e,n,s)}r=r.next}while(r!==i)}}function jv(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Jx(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function KD(t){var e=t.alternate;e!==null&&(t.alternate=null,KD(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rs],delete e[mf],delete e[Ux],delete e[bB],delete e[SB])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YD(t){return t.tag===5||t.tag===3||t.tag===4}function wM(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qx(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ig));else if(i!==4&&(t=t.child,t!==null))for(Qx(t,e,n),t=t.sibling;t!==null;)Qx(t,e,n),t=t.sibling}function Zx(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Zx(t,e,n),t=t.sibling;t!==null;)Zx(t,e,n),t=t.sibling}var Un=null,Zr=!1;function Go(t,e,n){for(n=n.child;n!==null;)JD(t,e,n),n=n.sibling}function JD(t,e,n){if(Fs&&typeof Fs.onCommitFiberUnmount=="function")try{Fs.onCommitFiberUnmount(Dv,n)}catch{}switch(n.tag){case 5:Jn||_u(n,e);case 6:var i=Un,r=Zr;Un=null,Go(t,e,n),Un=i,Zr=r,Un!==null&&(Zr?(t=Un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Un.removeChild(n.stateNode));break;case 18:Un!==null&&(Zr?(t=Un,n=n.stateNode,t.nodeType===8?n0(t.parentNode,n):t.nodeType===1&&n0(t,n),uf(t)):n0(Un,n.stateNode));break;case 4:i=Un,r=Zr,Un=n.stateNode.containerInfo,Zr=!0,Go(t,e,n),Un=i,Zr=r;break;case 0:case 11:case 14:case 15:if(!Jn&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Yx(n,e,o),r=r.next}while(r!==i)}Go(t,e,n);break;case 1:if(!Jn&&(_u(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){rn(n,e,a)}Go(t,e,n);break;case 21:Go(t,e,n);break;case 22:n.mode&1?(Jn=(i=Jn)||n.memoizedState!==null,Go(t,e,n),Jn=i):Go(t,e,n);break;default:Go(t,e,n)}}function bM(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new zB),e.forEach(function(i){var r=KB.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Br(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Un=a.stateNode,Zr=!1;break e;case 3:Un=a.stateNode.containerInfo,Zr=!0;break e;case 4:Un=a.stateNode.containerInfo,Zr=!0;break e}a=a.return}if(Un===null)throw Error(de(160));JD(s,o,r),Un=null,Zr=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){rn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)QD(e,t),e=e.sibling}function QD(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Br(e,t),xs(t),i&4){try{zh(3,t,t.return),jv(3,t)}catch(m){rn(t,t.return,m)}try{zh(5,t,t.return)}catch(m){rn(t,t.return,m)}}break;case 1:Br(e,t),xs(t),i&512&&n!==null&&_u(n,n.return);break;case 5:if(Br(e,t),xs(t),i&512&&n!==null&&_u(n,n.return),t.flags&32){var r=t.stateNode;try{of(r,"")}catch(m){rn(t,t.return,m)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&x2(r,s),Sx(a,o);var c=Sx(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?T2(r,d):u==="dangerouslySetInnerHTML"?S2(r,d):u==="children"?of(r,d):IS(r,u,d,c)}switch(a){case"input":yx(r,s);break;case"textarea":w2(r,s);break;case"select":var h=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Du(r,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Du(r,!!s.multiple,s.defaultValue,!0):Du(r,!!s.multiple,s.multiple?[]:"",!1))}r[mf]=s}catch(m){rn(t,t.return,m)}}break;case 6:if(Br(e,t),xs(t),i&4){if(t.stateNode===null)throw Error(de(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(m){rn(t,t.return,m)}}break;case 3:if(Br(e,t),xs(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{uf(e.containerInfo)}catch(m){rn(t,t.return,m)}break;case 4:Br(e,t),xs(t);break;case 13:Br(e,t),xs(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(hE=un())),i&4&&bM(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Jn=(c=Jn)||u,Br(e,t),Jn=c):Br(e,t),xs(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(De=t,u=t.child;u!==null;){for(d=De=u;De!==null;){switch(h=De,f=h.child,h.tag){case 0:case 11:case 14:case 15:zh(4,h,h.return);break;case 1:_u(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){i=h,n=h.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(m){rn(i,n,m)}}break;case 5:_u(h,h.return);break;case 22:if(h.memoizedState!==null){EM(d);continue}}f!==null?(f.return=h,De=f):EM(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=E2("display",o))}catch(m){rn(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){rn(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Br(e,t),xs(t),i&4&&bM(t);break;case 21:break;default:Br(e,t),xs(t)}}function xs(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YD(n)){var i=n;break e}n=n.return}throw Error(de(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(of(r,""),i.flags&=-33);var s=wM(t);Zx(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=wM(t);Qx(t,a,o);break;default:throw Error(de(161))}}catch(l){rn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BB(t,e,n){De=t,ZD(t)}function ZD(t,e,n){for(var i=(t.mode&1)!==0;De!==null;){var r=De,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Hp;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Jn;a=Hp;var c=Jn;if(Hp=o,(Jn=l)&&!c)for(De=r;De!==null;)o=De,l=o.child,o.tag===22&&o.memoizedState!==null?TM(r):l!==null?(l.return=o,De=l):TM(r);for(;s!==null;)De=s,ZD(s),s=s.sibling;De=r,Hp=a,Jn=c}SM(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,De=s):SM(t)}}function SM(t){for(;De!==null;){var e=De;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Jn||jv(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Jn)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:Xr(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&aM(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}aM(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&uf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Jn||e.flags&512&&Jx(e)}catch(h){rn(e,e.return,h)}}if(e===t){De=null;break}if(n=e.sibling,n!==null){n.return=e.return,De=n;break}De=e.return}}function EM(t){for(;De!==null;){var e=De;if(e===t){De=null;break}var n=e.sibling;if(n!==null){n.return=e.return,De=n;break}De=e.return}}function TM(t){for(;De!==null;){var e=De;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jv(4,e)}catch(l){rn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){rn(e,r,l)}}var s=e.return;try{Jx(e)}catch(l){rn(e,s,l)}break;case 5:var o=e.return;try{Jx(e)}catch(l){rn(e,o,l)}}}catch(l){rn(e,e.return,l)}if(e===t){De=null;break}var a=e.sibling;if(a!==null){a.return=e.return,De=a;break}De=e.return}}var VB=Math.ceil,Wg=Bo.ReactCurrentDispatcher,uE=Bo.ReactCurrentOwner,Lr=Bo.ReactCurrentBatchConfig,ft=0,Ln=null,yn=null,Bn=0,Ki=0,xu=rl(0),Pn=0,wf=null,vc=0,Bv=0,dE=0,jh=null,Ai=null,hE=0,hd=1/0,uo=null,Gg=!1,ew=null,Oa=null,Wp=!1,xa=null,$g=0,Bh=0,tw=null,Zm=-1,eg=0;function yi(){return ft&6?un():Zm!==-1?Zm:Zm=un()}function Na(t){return t.mode&1?ft&2&&Bn!==0?Bn&-Bn:TB.transition!==null?(eg===0&&(eg=U2()),eg):(t=xt,t!==0||(t=window.event,t=t===void 0?16:W2(t.type)),t):1}function cs(t,e,n,i){if(50<Bh)throw Bh=0,tw=null,Error(de(185));tp(t,n,i),(!(ft&2)||t!==Ln)&&(t===Ln&&(!(ft&2)&&(Bv|=n),Pn===4&&ua(t,Bn)),Oi(t,i),n===1&&ft===0&&!(e.mode&1)&&(hd=un()+500,Uv&&sl()))}function Oi(t,e){var n=t.callbackNode;Tj(t,e);var i=Ag(t,t===Ln?Bn:0);if(i===0)n!==null&&LT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&LT(n),e===1)t.tag===0?EB(MM.bind(null,t)):cD(MM.bind(null,t)),xB(function(){!(ft&6)&&sl()}),n=null;else{switch(F2(i)){case 1:n=FS;break;case 4:n=O2;break;case 16:n=Pg;break;case 536870912:n=N2;break;default:n=Pg}n=aI(n,eI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eI(t,e){if(Zm=-1,eg=0,ft&6)throw Error(de(327));var n=t.callbackNode;if(Uu()&&t.callbackNode!==n)return null;var i=Ag(t,t===Ln?Bn:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=qg(t,i);else{e=i;var r=ft;ft|=2;var s=nI();(Ln!==t||Bn!==e)&&(uo=null,hd=un()+500,rc(t,e));do try{GB();break}catch(a){tI(t,a)}while(!0);JS(),Wg.current=s,ft=r,yn!==null?e=0:(Ln=null,Bn=0,e=Pn)}if(e!==0){if(e===2&&(r=Px(t),r!==0&&(i=r,e=nw(t,r))),e===1)throw n=wf,rc(t,0),ua(t,i),Oi(t,un()),n;if(e===6)ua(t,i);else{if(r=t.current.alternate,!(i&30)&&!HB(r)&&(e=qg(t,i),e===2&&(s=Px(t),s!==0&&(i=s,e=nw(t,s))),e===1))throw n=wf,rc(t,0),ua(t,i),Oi(t,un()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(de(345));case 2:Cl(t,Ai,uo);break;case 3:if(ua(t,i),(i&130023424)===i&&(e=hE+500-un(),10<e)){if(Ag(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){yi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=Nx(Cl.bind(null,t,Ai,uo),e);break}Cl(t,Ai,uo);break;case 4:if(ua(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-ls(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=un()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VB(i/1960))-i,10<i){t.timeoutHandle=Nx(Cl.bind(null,t,Ai,uo),i);break}Cl(t,Ai,uo);break;case 5:Cl(t,Ai,uo);break;default:throw Error(de(329))}}}return Oi(t,un()),t.callbackNode===n?eI.bind(null,t):null}function nw(t,e){var n=jh;return t.current.memoizedState.isDehydrated&&(rc(t,e).flags|=256),t=qg(t,e),t!==2&&(e=Ai,Ai=n,e!==null&&iw(e)),t}function iw(t){Ai===null?Ai=t:Ai.push.apply(Ai,t)}function HB(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ps(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ua(t,e){for(e&=~dE,e&=~Bv,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ls(e),i=1<<n;t[n]=-1,e&=~i}}function MM(t){if(ft&6)throw Error(de(327));Uu();var e=Ag(t,0);if(!(e&1))return Oi(t,un()),null;var n=qg(t,e);if(t.tag!==0&&n===2){var i=Px(t);i!==0&&(e=i,n=nw(t,i))}if(n===1)throw n=wf,rc(t,0),ua(t,e),Oi(t,un()),n;if(n===6)throw Error(de(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cl(t,Ai,uo),Oi(t,un()),null}function fE(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(hd=un()+500,Uv&&sl())}}function yc(t){xa!==null&&xa.tag===0&&!(ft&6)&&Uu();var e=ft;ft|=1;var n=Lr.transition,i=xt;try{if(Lr.transition=null,xt=1,t)return t()}finally{xt=i,Lr.transition=n,ft=e,!(ft&6)&&sl()}}function pE(){Ki=xu.current,Nt(xu)}function rc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_B(n)),yn!==null)for(n=yn.return;n!==null;){var i=n;switch(XS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Lg();break;case 3:ud(),Nt(Ii),Nt(ri),iE();break;case 5:nE(i);break;case 4:ud();break;case 13:Nt(Gt);break;case 19:Nt(Gt);break;case 10:QS(i.type._context);break;case 22:case 23:pE()}n=n.return}if(Ln=t,yn=t=Ua(t.current,null),Bn=Ki=e,Pn=0,wf=null,dE=Bv=vc=0,Ai=jh=null,jl!==null){for(e=0;e<jl.length;e++)if(n=jl[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}jl=null}return t}function tI(t,e){do{var n=yn;try{if(JS(),Ym.current=Hg,Vg){for(var i=Yt.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Vg=!1}if(gc=0,In=En=Yt=null,Fh=!1,yf=0,uE.current=null,n===null||n.return===null){Pn=1,wf=e,yn=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Bn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=fM(o);if(f!==null){f.flags&=-257,pM(f,o,a,s,e),f.mode&1&&hM(s,c,e),e=f,l=c;var v=e.updateQueue;if(v===null){var m=new Set;m.add(l),e.updateQueue=m}else v.add(l);break e}else{if(!(e&1)){hM(s,c,e),mE();break e}l=Error(de(426))}}else if(Ut&&a.mode&1){var g=fM(o);if(g!==null){!(g.flags&65536)&&(g.flags|=256),pM(g,o,a,s,e),KS(dd(l,a));break e}}s=l=dd(l,a),Pn!==4&&(Pn=2),jh===null?jh=[s]:jh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=FD(s,l,e);oM(s,p);break e;case 1:a=l;var _=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Oa===null||!Oa.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=zD(s,a,e);oM(s,w);break e}}s=s.return}while(s!==null)}rI(n)}catch(b){e=b,yn===n&&n!==null&&(yn=n=n.return);continue}break}while(!0)}function nI(){var t=Wg.current;return Wg.current=Hg,t===null?Hg:t}function mE(){(Pn===0||Pn===3||Pn===2)&&(Pn=4),Ln===null||!(vc&268435455)&&!(Bv&268435455)||ua(Ln,Bn)}function qg(t,e){var n=ft;ft|=2;var i=nI();(Ln!==t||Bn!==e)&&(uo=null,rc(t,e));do try{WB();break}catch(r){tI(t,r)}while(!0);if(JS(),ft=n,Wg.current=i,yn!==null)throw Error(de(261));return Ln=null,Bn=0,Pn}function WB(){for(;yn!==null;)iI(yn)}function GB(){for(;yn!==null&&!gj();)iI(yn)}function iI(t){var e=oI(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,e===null?rI(t):yn=e,uE.current=null}function rI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FB(n,e),n!==null){n.flags&=32767,yn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Pn=6,yn=null;return}}else if(n=UB(n,e,Ki),n!==null){yn=n;return}if(e=e.sibling,e!==null){yn=e;return}yn=e=t}while(e!==null);Pn===0&&(Pn=5)}function Cl(t,e,n){var i=xt,r=Lr.transition;try{Lr.transition=null,xt=1,$B(t,e,n,i)}finally{Lr.transition=r,xt=i}return null}function $B(t,e,n,i){do Uu();while(xa!==null);if(ft&6)throw Error(de(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(de(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Mj(t,s),t===Ln&&(yn=Ln=null,Bn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wp||(Wp=!0,aI(Pg,function(){return Uu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=xt;xt=1;var a=ft;ft|=4,uE.current=null,jB(t,n),QD(n,t),hB(Lx),Rg=!!Ix,Lx=Ix=null,t.current=n,BB(n),vj(),ft=a,xt=o,Lr.transition=s}else t.current=n;if(Wp&&(Wp=!1,xa=t,$g=r),s=t.pendingLanes,s===0&&(Oa=null),xj(n.stateNode),Oi(t,un()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Gg)throw Gg=!1,t=ew,ew=null,t;return $g&1&&t.tag!==0&&Uu(),s=t.pendingLanes,s&1?t===tw?Bh++:(Bh=0,tw=t):Bh=0,sl(),null}function Uu(){if(xa!==null){var t=F2($g),e=Lr.transition,n=xt;try{if(Lr.transition=null,xt=16>t?16:t,xa===null)var i=!1;else{if(t=xa,xa=null,$g=0,ft&6)throw Error(de(331));var r=ft;for(ft|=4,De=t.current;De!==null;){var s=De,o=s.child;if(De.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(De=c;De!==null;){var u=De;switch(u.tag){case 0:case 11:case 15:zh(8,u,s)}var d=u.child;if(d!==null)d.return=u,De=d;else for(;De!==null;){u=De;var h=u.sibling,f=u.return;if(KD(u),u===c){De=null;break}if(h!==null){h.return=f,De=h;break}De=f}}}var v=s.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}De=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,De=o;else e:for(;De!==null;){if(s=De,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zh(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,De=p;break e}De=s.return}}var _=t.current;for(De=_;De!==null;){o=De;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,De=y;else e:for(o=_;De!==null;){if(a=De,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jv(9,a)}}catch(b){rn(a,a.return,b)}if(a===o){De=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,De=w;break e}De=a.return}}if(ft=r,sl(),Fs&&typeof Fs.onPostCommitFiberRoot=="function")try{Fs.onPostCommitFiberRoot(Dv,t)}catch{}i=!0}return i}finally{xt=n,Lr.transition=e}}return!1}function CM(t,e,n){e=dd(n,e),e=FD(t,e,1),t=La(t,e,1),e=yi(),t!==null&&(tp(t,1,e),Oi(t,e))}function rn(t,e,n){if(t.tag===3)CM(t,t,n);else for(;e!==null;){if(e.tag===3){CM(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Oa===null||!Oa.has(i))){t=dd(n,t),t=zD(e,t,1),e=La(e,t,1),t=yi(),e!==null&&(tp(e,1,t),Oi(e,t));break}}e=e.return}}function qB(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=yi(),t.pingedLanes|=t.suspendedLanes&n,Ln===t&&(Bn&n)===n&&(Pn===4||Pn===3&&(Bn&130023424)===Bn&&500>un()-hE?rc(t,0):dE|=n),Oi(t,e)}function sI(t,e){e===0&&(t.mode&1?(e=Lp,Lp<<=1,!(Lp&130023424)&&(Lp=4194304)):e=1);var n=yi();t=Ao(t,e),t!==null&&(tp(t,e,n),Oi(t,n))}function XB(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sI(t,n)}function KB(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(de(314))}i!==null&&i.delete(e),sI(t,n)}var oI;oI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ii.current)ki=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ki=!1,NB(t,e,n);ki=!!(t.flags&131072)}else ki=!1,Ut&&e.flags&1048576&&uD(e,Ug,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Qm(t,e),t=e.pendingProps;var r=ad(e,ri.current);Nu(e,n),r=sE(null,e,i,t,r,n);var s=oE();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Li(i)?(s=!0,Og(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,eE(e),r.updater=zv,e.stateNode=r,r._reactInternals=e,Hx(e,i,t,n),e=$x(null,e,i,!0,s,n)):(e.tag=0,Ut&&s&&qS(e),di(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Qm(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=JB(i),t=Xr(i,t),r){case 0:e=Gx(null,e,i,t,n);break e;case 1:e=vM(null,e,i,t,n);break e;case 11:e=mM(null,e,i,t,n);break e;case 14:e=gM(null,e,i,Xr(i.type,t),n);break e}throw Error(de(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xr(i,r),Gx(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xr(i,r),vM(t,e,i,r,n);case 3:e:{if(HD(e),t===null)throw Error(de(387));i=e.pendingProps,s=e.memoizedState,r=s.element,gD(t,e),jg(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=dd(Error(de(423)),e),e=yM(t,e,i,n,r);break e}else if(i!==r){r=dd(Error(de(424)),e),e=yM(t,e,i,n,r);break e}else for(Zi=Ia(e.stateNode.containerInfo.firstChild),nr=e,Ut=!0,ts=null,n=pD(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ld(),i===r){e=Ro(t,e,n);break e}di(t,e,i,n)}e=e.child}return e;case 5:return vD(e),t===null&&jx(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,Ox(i,r)?o=null:s!==null&&Ox(i,s)&&(e.flags|=32),VD(t,e),di(t,e,o,n),e.child;case 6:return t===null&&jx(e),null;case 13:return WD(t,e,n);case 4:return tE(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=cd(e,null,i,n):di(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xr(i,r),mM(t,e,i,r,n);case 7:return di(t,e,e.pendingProps,n),e.child;case 8:return di(t,e,e.pendingProps.children,n),e.child;case 12:return di(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,kt(Fg,i._currentValue),i._currentValue=o,s!==null)if(ps(s.value,o)){if(s.children===r.children&&!Ii.current){e=Ro(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Eo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Bx(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(de(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Bx(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}di(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,Nu(e,n),r=Ur(r),i=i(r),e.flags|=1,di(t,e,i,n),e.child;case 14:return i=e.type,r=Xr(i,e.pendingProps),r=Xr(i.type,r),gM(t,e,i,r,n);case 15:return jD(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:Xr(i,r),Qm(t,e),e.tag=1,Li(i)?(t=!0,Og(e)):t=!1,Nu(e,n),UD(e,i,r),Hx(e,i,r,n),$x(null,e,i,!0,t,n);case 19:return GD(t,e,n);case 22:return BD(t,e,n)}throw Error(de(156,e.tag))};function aI(t,e){return L2(t,e)}function YB(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ar(t,e,n,i){return new YB(t,e,n,i)}function gE(t){return t=t.prototype,!(!t||!t.isReactComponent)}function JB(t){if(typeof t=="function")return gE(t)?1:0;if(t!=null){if(t=t.$$typeof,t===OS)return 11;if(t===NS)return 14}return 2}function Ua(t,e){var n=t.alternate;return n===null?(n=Ar(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tg(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")gE(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case uu:return sc(n.children,r,s,e);case LS:o=8,r|=8;break;case fx:return t=Ar(12,n,e,r|2),t.elementType=fx,t.lanes=s,t;case px:return t=Ar(13,n,e,r),t.elementType=px,t.lanes=s,t;case mx:return t=Ar(19,n,e,r),t.elementType=mx,t.lanes=s,t;case v2:return Vv(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case m2:o=10;break e;case g2:o=9;break e;case OS:o=11;break e;case NS:o=14;break e;case sa:o=16,i=null;break e}throw Error(de(130,t==null?t:typeof t,""))}return e=Ar(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function sc(t,e,n,i){return t=Ar(7,t,i,e),t.lanes=n,t}function Vv(t,e,n,i){return t=Ar(22,t,i,e),t.elementType=v2,t.lanes=n,t.stateNode={isHidden:!1},t}function u0(t,e,n){return t=Ar(6,t,null,e),t.lanes=n,t}function d0(t,e,n){return e=Ar(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QB(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gy(0),this.expirationTimes=Gy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gy(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function vE(t,e,n,i,r,s,o,a,l){return t=new QB(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ar(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},eE(s),t}function ZB(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function lI(t){if(!t)return Ga;t=t._reactInternals;e:{if(Pc(t)!==t||t.tag!==1)throw Error(de(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Li(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(de(171))}if(t.tag===1){var n=t.type;if(Li(n))return lD(t,n,e)}return e}function cI(t,e,n,i,r,s,o,a,l){return t=vE(n,i,!0,t,r,s,o,a,l),t.context=lI(null),n=t.current,i=yi(),r=Na(n),s=Eo(i,r),s.callback=e??null,La(n,s,r),t.current.lanes=r,tp(t,r,i),Oi(t,i),t}function Hv(t,e,n,i){var r=e.current,s=yi(),o=Na(r);return n=lI(n),e.context===null?e.context=n:e.pendingContext=n,e=Eo(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=La(r,e,o),t!==null&&(cs(t,r,o,s),Km(t,r,o)),o}function Xg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function PM(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function yE(t,e){PM(t,e),(t=t.alternate)&&PM(t,e)}function eV(){return null}var uI=typeof reportError=="function"?reportError:function(t){console.error(t)};function _E(t){this._internalRoot=t}Wv.prototype.render=_E.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(de(409));Hv(t,e,null,null)};Wv.prototype.unmount=_E.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;yc(function(){Hv(null,t,null,null)}),e[Po]=null}};function Wv(t){this._internalRoot=t}Wv.prototype.unstable_scheduleHydration=function(t){if(t){var e=B2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ca.length&&e!==0&&e<ca[n].priority;n++);ca.splice(n,0,t),n===0&&H2(t)}};function xE(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AM(){}function tV(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Xg(o);s.call(c)}}var o=cI(e,i,t,0,null,!1,!1,"",AM);return t._reactRootContainer=o,t[Po]=o.current,ff(t.nodeType===8?t.parentNode:t),yc(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Xg(l);a.call(c)}}var l=vE(t,0,!1,null,null,!1,!1,"",AM);return t._reactRootContainer=l,t[Po]=l.current,ff(t.nodeType===8?t.parentNode:t),yc(function(){Hv(e,l,n,i)}),l}function $v(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Xg(o);a.call(l)}}Hv(e,o,t,r)}else o=tV(n,e,t,r,i);return Xg(o)}z2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sh(e.pendingLanes);n!==0&&(zS(e,n|1),Oi(e,un()),!(ft&6)&&(hd=un()+500,sl()))}break;case 13:yc(function(){var i=Ao(t,1);if(i!==null){var r=yi();cs(i,t,1,r)}}),yE(t,1)}};jS=function(t){if(t.tag===13){var e=Ao(t,134217728);if(e!==null){var n=yi();cs(e,t,134217728,n)}yE(t,134217728)}};j2=function(t){if(t.tag===13){var e=Na(t),n=Ao(t,e);if(n!==null){var i=yi();cs(n,t,e,i)}yE(t,e)}};B2=function(){return xt};V2=function(t,e){var n=xt;try{return xt=t,e()}finally{xt=n}};Tx=function(t,e,n){switch(e){case"input":if(yx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=Nv(i);if(!r)throw Error(de(90));_2(i),yx(i,r)}}}break;case"textarea":w2(t,n);break;case"select":e=n.value,e!=null&&Du(t,!!n.multiple,e,!1)}};P2=fE;A2=yc;var nV={usingClientEntryPoint:!1,Events:[ip,pu,Nv,M2,C2,fE]},ah={findFiberByHostInstance:zl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iV={bundleType:ah.bundleType,version:ah.version,rendererPackageName:ah.rendererPackageName,rendererConfig:ah.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=D2(t),t===null?null:t.stateNode},findFiberByHostInstance:ah.findFiberByHostInstance||eV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gp.isDisabled&&Gp.supportsFiber)try{Dv=Gp.inject(iV),Fs=Gp}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nV;ur.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xE(e))throw Error(de(200));return ZB(t,e,null,n)};ur.createRoot=function(t,e){if(!xE(t))throw Error(de(299));var n=!1,i="",r=uI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=vE(t,1,!1,null,null,n,!1,i,r),t[Po]=e.current,ff(t.nodeType===8?t.parentNode:t),new _E(e)};ur.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(de(188)):(t=Object.keys(t).join(","),Error(de(268,t)));return t=D2(e),t=t===null?null:t.stateNode,t};ur.flushSync=function(t){return yc(t)};ur.hydrate=function(t,e,n){if(!Gv(e))throw Error(de(200));return $v(null,t,e,!0,n)};ur.hydrateRoot=function(t,e,n){if(!xE(t))throw Error(de(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=uI;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cI(e,null,t,1,n??null,r,!1,s,o),t[Po]=e.current,ff(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Wv(e)};ur.render=function(t,e,n){if(!Gv(e))throw Error(de(200));return $v(null,t,e,!1,n)};ur.unmountComponentAtNode=function(t){if(!Gv(t))throw Error(de(40));return t._reactRootContainer?(yc(function(){$v(null,null,t,!1,function(){t._reactRootContainer=null,t[Po]=null})}),!0):!1};ur.unstable_batchedUpdates=fE;ur.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Gv(n))throw Error(de(200));if(t==null||t._reactInternals===void 0)throw Error(de(38));return $v(t,e,n,!1,i)};ur.version="18.3.1-next-f1338f8080-20240426";function dI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dI)}catch(t){console.error(t)}}dI(),d2.exports=ur;var jd=d2.exports;const hI=Qk(jd);var fI,RM=jd;fI=RM.createRoot,RM.hydrateRoot;var rV=Object.freeze({InvalidProxyUrlErrorMessage:"The proxyUrl passed to Clerk is invalid. The expected value for proxyUrl is an absolute URL or a relative path with a leading '/'. (key={{url}})",InvalidPublishableKeyErrorMessage:"The publishableKey passed to Clerk is invalid. You can get your Publishable key at https://dashboard.clerk.com/last-active?path=api-keys. (key={{key}})",MissingPublishableKeyErrorMessage:"Missing publishableKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingSecretKeyErrorMessage:"Missing secretKey. You can get your key at https://dashboard.clerk.com/last-active?path=api-keys.",MissingClerkProvider:"{{source}} can only be used within the <ClerkProvider /> component. Learn more: https://clerk.com/docs/components/clerk-provider"});function pI({packageName:t,customMessages:e}){let n=t;function i(s,o){if(!o)return`${n}: ${s}`;let a=s;const l=s.matchAll(/{{([a-zA-Z0-9-_]+)}}/g);for(const c of l){const u=(o[c[1]]||"").toString();a=a.replace(`{{${c[1]}}}`,u)}return`${n}: ${a}`}const r={...rV,...e};return{setPackageName({packageName:s}){return typeof s=="string"&&(n=s),this},setMessages({customMessages:s}){return Object.assign(r,s||{}),this},throwInvalidPublishableKeyError(s){throw new Error(i(r.InvalidPublishableKeyErrorMessage,s))},throwInvalidProxyUrl(s){throw new Error(i(r.InvalidProxyUrlErrorMessage,s))},throwMissingPublishableKeyError(){throw new Error(i(r.MissingPublishableKeyErrorMessage))},throwMissingSecretKeyError(){throw new Error(i(r.MissingSecretKeyErrorMessage))},throwMissingClerkProviderError(s){throw new Error(i(r.MissingClerkProvider,s))},throw(s){throw new Error(i(s))}}}var mI=Object.defineProperty,sV=Object.getOwnPropertyDescriptor,oV=Object.getOwnPropertyNames,aV=Object.prototype.hasOwnProperty,lV=(t,e)=>{for(var n in e)mI(t,n,{get:e[n],enumerable:!0})},cV=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of oV(e))!aV.call(t,r)&&r!==n&&mI(t,r,{get:()=>e[r],enumerable:!(i=sV(e,r))||i.enumerable});return t},uV=(t,e,n)=>(cV(t,e,"default"),n),dV={strict_mfa:{afterMinutes:10,level:"multi_factor"},strict:{afterMinutes:10,level:"second_factor"},moderate:{afterMinutes:60,level:"second_factor"},lax:{afterMinutes:1440,level:"second_factor"}},hV=new Set(["first_factor","second_factor","multi_factor"]),fV=new Set(["strict_mfa","strict","moderate","lax"]),pV=t=>typeof t=="number"&&t>0,mV=t=>hV.has(t),gV=t=>fV.has(t),h0=t=>t.replace(/^(org:)*/,"org:"),vV=(t,e)=>{const{orgId:n,orgRole:i,orgPermissions:r}=e;return!t.role&&!t.permission||!n||!i||!r?null:t.permission?r.includes(h0(t.permission)):t.role?h0(i)===h0(t.role):null},kM=(t,e)=>{const{org:n,user:i}=_V(t),[r,s]=e.split(":"),o=s||r;return r==="org"?n.includes(o):r==="user"?i.includes(o):[...n,...i].includes(o)},yV=(t,e)=>{const{features:n,plans:i}=e;return t.feature&&n?kM(n,t.feature):t.plan&&i?kM(i,t.plan):null},_V=t=>{const e=t?t.split(",").map(n=>n.trim()):[];return{org:e.filter(n=>n.split(":")[0].includes("o")).map(n=>n.split(":")[1]),user:e.filter(n=>n.split(":")[0].includes("u")).map(n=>n.split(":")[1])}},xV=t=>{if(!t)return!1;const e=r=>typeof r=="string"?dV[r]:r,n=typeof t=="string"&&gV(t),i=typeof t=="object"&&mV(t.level)&&pV(t.afterMinutes);return n||i?e.bind(null,t):!1},wV=(t,{factorVerificationAge:e})=>{if(!t.reverification||!e)return null;const n=xV(t.reverification);if(!n)return null;const{level:i,afterMinutes:r}=n(),[s,o]=e,a=s!==-1?r>s:null,l=o!==-1?r>o:null;switch(i){case"first_factor":return a;case"second_factor":return o!==-1?l:a;case"multi_factor":return o===-1?a:a&&l}},bV=t=>e=>{if(!t.userId)return!1;const n=yV(e,t),i=vV(e,t),r=wV(e,t);return[n||i,r].some(s=>s===null)?[n||i,r].some(s=>s===!0):[n||i,r].every(s=>s===!0)},SV=({authObject:{sessionId:t,sessionStatus:e,userId:n,actor:i,orgId:r,orgRole:s,orgSlug:o,signOut:a,getToken:l,has:c,sessionClaims:u},options:{treatPendingAsSignedOut:d=!0}})=>{if(t===void 0&&n===void 0)return{isLoaded:!1,isSignedIn:void 0,sessionId:t,sessionClaims:void 0,userId:n,actor:void 0,orgId:void 0,orgRole:void 0,orgSlug:void 0,has:void 0,signOut:a,getToken:l};if(t===null&&n===null)return{isLoaded:!0,isSignedIn:!1,sessionId:t,userId:n,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(d&&e==="pending")return{isLoaded:!0,isSignedIn:!1,sessionId:null,userId:null,sessionClaims:null,actor:null,orgId:null,orgRole:null,orgSlug:null,has:()=>!1,signOut:a,getToken:l};if(t&&u&&n&&r&&s)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:u,userId:n,actor:i||null,orgId:r,orgRole:s,orgSlug:o||null,has:c,signOut:a,getToken:l};if(t&&u&&n&&!r)return{isLoaded:!0,isSignedIn:!0,sessionId:t,sessionClaims:u,userId:n,actor:i||null,orgId:null,orgRole:null,orgSlug:null,has:c,signOut:a,getToken:l}},gI=t=>typeof atob<"u"&&typeof atob=="function"?atob(t):typeof global<"u"&&global.Buffer?new global.Buffer(t,"base64").toString():t,EV=[".lcl.dev",".stg.dev",".lclstage.dev",".stgstage.dev",".dev.lclclerk.com",".stg.lclclerk.com",".accounts.lclclerk.com","accountsstage.dev","accounts.dev"],vI="pk_live_",TV="pk_test_";function yI(t){if(!t.endsWith("$"))return!1;const e=t.slice(0,-1);return e.includes("$")?!1:e.includes(".")}function DM(t,e={}){if(t=t||"",!t||!rw(t)){if(e.fatal&&!t)throw new Error("Publishable key is missing. Ensure that your publishable key is correctly configured. Double-check your environment configuration for your keys, or access them here: https://dashboard.clerk.com/last-active?path=api-keys");if(e.fatal&&!rw(t))throw new Error("Publishable key not valid.");return null}const n=t.startsWith(vI)?"production":"development";let i;try{i=gI(t.split("_")[2])}catch{if(e.fatal)throw new Error("Publishable key not valid: Failed to decode key.");return null}if(!yI(i)){if(e.fatal)throw new Error("Publishable key not valid: Decoded key has invalid format.");return null}let r=i.slice(0,-1);return e.proxyUrl?r=e.proxyUrl:n!=="development"&&e.domain&&e.isSatellite&&(r=`clerk.${e.domain}`),{instanceType:n,frontendApi:r}}function rw(t=""){try{if(!(t.startsWith(vI)||t.startsWith(TV)))return!1;const n=t.split("_");if(n.length!==3)return!1;const i=n[2];if(!i)return!1;const r=gI(i);return yI(r)}catch{return!1}}function MV(){const t=new Map;return{isDevOrStagingUrl:e=>{if(!e)return!1;const n=typeof e=="string"?e:e.hostname;let i=t.get(n);return i===void 0&&(i=EV.some(r=>n.endsWith(r)),t.set(n,i)),i}}}var CV="METHOD_CALLED",PV=.1;function _I(t,e){return{event:CV,eventSamplingRate:PV,payload:{method:t,...e}}}var xI={exports:{}},wI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fd=M;function AV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var RV=typeof Object.is=="function"?Object.is:AV,kV=fd.useState,DV=fd.useEffect,IV=fd.useLayoutEffect,LV=fd.useDebugValue;function OV(t,e){var n=e(),i=kV({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return IV(function(){r.value=n,r.getSnapshot=e,f0(r)&&s({inst:r})},[t,n,e]),DV(function(){return f0(r)&&s({inst:r}),t(function(){f0(r)&&s({inst:r})})},[t]),LV(n),n}function f0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!RV(t,n)}catch{return!0}}function NV(t,e){return e()}var UV=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?NV:OV;wI.useSyncExternalStore=fd.useSyncExternalStore!==void 0?fd.useSyncExternalStore:UV;xI.exports=wI;var bI=xI.exports;const SI=0,EI=1,TI=2,IM=3;var LM=Object.prototype.hasOwnProperty;function sw(t,e){var n,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&sw(t[i],e[i]););return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(LM.call(t,n)&&++i&&!LM.call(e,n)||!(n in e)||!sw(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}const is=new WeakMap,wa=()=>{},Tn=wa(),Kg=Object,it=t=>t===Tn,Cr=t=>typeof t=="function",ko=(t,e)=>({...t,...e}),MI=t=>Cr(t.then),p0={},$p={},wE="undefined",sp=typeof window!=wE,ow=typeof document!=wE,FV=sp&&"Deno"in window,zV=()=>sp&&typeof window.requestAnimationFrame!=wE,aa=(t,e)=>{const n=is.get(t);return[()=>!it(e)&&t.get(e)||p0,i=>{if(!it(e)){const r=t.get(e);e in $p||($p[e]=r),n[5](e,ko(r,i),r||p0)}},n[6],()=>!it(e)&&e in $p?$p[e]:!it(e)&&t.get(e)||p0]};let aw=!0;const jV=()=>aw,[lw,cw]=sp&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[wa,wa],BV=()=>{const t=ow&&document.visibilityState;return it(t)||t!=="hidden"},VV=t=>(ow&&document.addEventListener("visibilitychange",t),lw("focus",t),()=>{ow&&document.removeEventListener("visibilitychange",t),cw("focus",t)}),HV=t=>{const e=()=>{aw=!0,t()},n=()=>{aw=!1};return lw("online",e),lw("offline",n),()=>{cw("online",e),cw("offline",n)}},WV={isOnline:jV,isVisible:BV},GV={initFocus:VV,initReconnect:HV},OM=!j.useId,bf=!sp||FV,$V=t=>zV()?window.requestAnimationFrame(t):setTimeout(t,1),Vh=bf?M.useEffect:M.useLayoutEffect,m0=typeof navigator<"u"&&navigator.connection,NM=!bf&&m0&&(["slow-2g","2g"].includes(m0.effectiveType)||m0.saveData),qp=new WeakMap,qV=t=>Kg.prototype.toString.call(t),g0=(t,e)=>t===`[object ${e}]`;let XV=0;const uw=t=>{const e=typeof t,n=qV(t),i=g0(n,"Date"),r=g0(n,"RegExp"),s=g0(n,"Object");let o,a;if(Kg(t)===t&&!i&&!r){if(o=qp.get(t),o)return o;if(o=++XV+"~",qp.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=uw(t[a])+",";qp.set(t,o)}if(s){o="#";const l=Kg.keys(t).sort();for(;!it(a=l.pop());)it(t[a])||(o+=a+":"+uw(t[a])+",");qp.set(t,o)}}else o=i?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},pd=t=>{if(Cr(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?uw(t):"",[t,e]};let KV=0;const dw=()=>++KV;async function CI(...t){const[e,n,i,r]=t,s=ko({populateCache:!0,throwOnError:!0},typeof r=="boolean"?{revalidate:r}:r||{});let o=s.populateCache;const a=s.rollbackOnError;let l=s.optimisticData;const c=h=>typeof a=="function"?a(h):a!==!1,u=s.throwOnError;if(Cr(n)){const h=n,f=[],v=e.keys();for(const m of v)!/^\$(inf|sub)\$/.test(m)&&h(e.get(m)._k)&&f.push(m);return Promise.all(f.map(d))}return d(n);async function d(h){const[f]=pd(h);if(!f)return;const[v,m]=aa(e,f),[g,p,_,y]=is.get(e),w=()=>{const O=g[f];return(Cr(s.revalidate)?s.revalidate(v().data,h):s.revalidate!==!1)&&(delete _[f],delete y[f],O&&O[0])?O[0](TI).then(()=>v().data):v().data};if(t.length<3)return w();let b=i,S,E=!1;const P=dw();p[f]=[P,0];const T=!it(l),C=v(),R=C.data,N=C._c,I=it(N)?R:N;if(T&&(l=Cr(l)?l(I,R):l,m({data:l,_c:I})),Cr(b))try{b=b(I)}catch(O){S=O,E=!0}if(b&&MI(b))if(b=await b.catch(O=>{S=O,E=!0}),P!==p[f][0]){if(E)throw S;return b}else E&&T&&c(S)&&(o=!0,m({data:I,_c:Tn}));if(o&&!E)if(Cr(o)){const O=o(b,I);m({data:O,error:Tn,_c:Tn})}else m({data:b,error:Tn,_c:Tn});if(p[f][1]=dw(),Promise.resolve(w()).then(()=>{m({_c:Tn})}),E){if(u)throw S;return}return b}}const UM=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},PI=(t,e)=>{if(!is.has(t)){const n=ko(GV,e),i=Object.create(null),r=CI.bind(Tn,t);let s=wa;const o=Object.create(null),a=(u,d)=>{const h=o[u]||[];return o[u]=h,h.push(d),()=>h.splice(h.indexOf(d),1)},l=(u,d,h)=>{t.set(u,d);const f=o[u];if(f)for(const v of f)v(d,h)},c=()=>{if(!is.has(t)&&(is.set(t,[i,Object.create(null),Object.create(null),Object.create(null),r,l,a]),!bf)){const u=n.initFocus(setTimeout.bind(Tn,UM.bind(Tn,i,SI))),d=n.initReconnect(setTimeout.bind(Tn,UM.bind(Tn,i,EI)));s=()=>{u&&u(),d&&d(),is.delete(t)}}};return c(),[t,r,c,s]}return[t,is.get(t)[4]]},YV=(t,e,n,i,r)=>{const s=n.errorRetryCount,o=r.retryCount,a=~~((Math.random()+.5)*(1<<(o<8?o:8)))*n.errorRetryInterval;!it(s)&&o>s||setTimeout(i,a,r)},JV=sw,[op,AI]=PI(new Map),RI=ko({onLoadingSlow:wa,onSuccess:wa,onError:wa,onErrorRetry:YV,onDiscarded:wa,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:NM?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:NM?5e3:3e3,compare:JV,isPaused:()=>!1,cache:op,mutate:AI,fallback:{}},WV),kI=(t,e)=>{const n=ko(t,e);if(e){const{use:i,fallback:r}=t,{use:s,fallback:o}=e;i&&s&&(n.use=i.concat(s)),r&&o&&(n.fallback=ko(r,o))}return n},hw=M.createContext({}),QV=t=>{const{value:e}=t,n=M.useContext(hw),i=Cr(e),r=M.useMemo(()=>i?e(n):e,[i,n,e]),s=M.useMemo(()=>i?r:kI(n,r),[i,n,r]),o=r&&r.provider,a=M.useRef(Tn);o&&!a.current&&(a.current=PI(o(s.cache||op),r));const l=a.current;return l&&(s.cache=l[0],s.mutate=l[1]),Vh(()=>{if(l)return l[2]&&l[2](),l[3]},[]),M.createElement(hw.Provider,ko(t,{value:s}))},DI="$inf$",II=sp&&window.__SWR_DEVTOOLS_USE__,ZV=II?window.__SWR_DEVTOOLS_USE__:[],e4=()=>{II&&(window.__SWR_DEVTOOLS_REACT__=j)},LI=t=>Cr(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],OI=()=>ko(RI,M.useContext(hw)),t4=(t,e)=>{const[n,i]=pd(t),[,,,r]=is.get(op);if(r[n])return r[n];const s=e(i);return r[n]=s,s},n4=t=>(e,n,i)=>t(e,n&&((...s)=>{const[o]=pd(e),[,,,a]=is.get(op);if(o.startsWith(DI))return n(...s);const l=a[o];return it(l)?n(...s):(delete a[o],l)}),i),i4=ZV.concat(n4),r4=t=>function(...n){const i=OI(),[r,s,o]=LI(n),a=kI(i,o);let l=t;const{use:c}=a,u=(c||[]).concat(i4);for(let d=u.length;d--;)l=u[d](l);return l(r,s||a.fetcher||null,a)},s4=(t,e,n)=>{const i=e[t]||(e[t]=[]);return i.push(n),()=>{const r=i.indexOf(n);r>=0&&(i[r]=i[i.length-1],i.pop())}},o4=(t,e)=>(...n)=>{const[i,r,s]=LI(n),o=(s.use||[]).concat(e);return t(i,r,{...s,use:o})};e4();const a4=()=>{},l4=a4(),fw=Object,FM=t=>t===l4,c4=t=>typeof t=="function",Xp=new WeakMap,u4=t=>fw.prototype.toString.call(t),v0=(t,e)=>t===`[object ${e}]`;let d4=0;const pw=t=>{const e=typeof t,n=u4(t),i=v0(n,"Date"),r=v0(n,"RegExp"),s=v0(n,"Object");let o,a;if(fw(t)===t&&!i&&!r){if(o=Xp.get(t),o)return o;if(o=++d4+"~",Xp.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=pw(t[a])+",";Xp.set(t,o)}if(s){o="#";const l=fw.keys(t).sort();for(;!FM(a=l.pop());)FM(t[a])||(o+=a+":"+pw(t[a])+",");Xp.set(t,o)}}else o=i?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},h4=t=>{if(c4(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?pw(t):"",[t,e]},f4=t=>h4(t)[0],y0=j.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),_0={dedupe:!0},p4=(t,e,n)=>{const{cache:i,compare:r,suspense:s,fallbackData:o,revalidateOnMount:a,revalidateIfStale:l,refreshInterval:c,refreshWhenHidden:u,refreshWhenOffline:d,keepPreviousData:h}=n,[f,v,m,g]=is.get(i),[p,_]=pd(t),y=M.useRef(!1),w=M.useRef(!1),b=M.useRef(p),S=M.useRef(e),E=M.useRef(n),P=()=>E.current,T=()=>P().isVisible()&&P().isOnline(),[C,R,N,I]=aa(i,p),O=M.useRef({}).current,H=it(o)?it(n.fallback)?Tn:n.fallback[p]:o,V=(U,Ne)=>{for(const Se in O){const Ue=Se;if(Ue==="data"){if(!r(U[Ue],Ne[Ue])&&(!it(U[Ue])||!r(Y,Ne[Ue])))return!1}else if(Ne[Ue]!==U[Ue])return!1}return!0},z=M.useMemo(()=>{const U=!p||!e?!1:it(a)?P().isPaused()||s?!1:l!==!1:a,Ne=Fe=>{const ot=ko(Fe);return delete ot._k,U?{isValidating:!0,isLoading:!0,...ot}:ot},Se=C(),Ue=I(),Me=Ne(Se),rt=Se===Ue?Me:Ne(Ue);let ve=Me;return[()=>{const Fe=Ne(C());return V(Fe,ve)?(ve.data=Fe.data,ve.isLoading=Fe.isLoading,ve.isValidating=Fe.isValidating,ve.error=Fe.error,ve):(ve=Fe,Fe)},()=>rt]},[i,p]),D=bI.useSyncExternalStore(M.useCallback(U=>N(p,(Ne,Se)=>{V(Se,Ne)||U()}),[i,p]),z[0],z[1]),B=!y.current,K=f[p]&&f[p].length>0,ne=D.data,te=it(ne)?H&&MI(H)?y0(H):H:ne,ye=D.error,pe=M.useRef(te),Y=h?it(ne)?it(pe.current)?te:pe.current:ne:te,oe=K&&!it(ye)?!1:B&&!it(a)?a:P().isPaused()?!1:s?it(te)?!1:l:it(te)||l,$=!!(p&&e&&B&&oe),ce=it(D.isValidating)?$:D.isValidating,we=it(D.isLoading)?$:D.isLoading,ue=M.useCallback(async U=>{const Ne=S.current;if(!p||!Ne||w.current||P().isPaused())return!1;let Se,Ue,Me=!0;const rt=U||{},ve=!m[p]||!rt.dedupe,Fe=()=>OM?!w.current&&p===b.current&&y.current:p===b.current,ot={isValidating:!1,isLoading:!1},_t=()=>{R(ot)},L=()=>{const F=m[p];F&&F[1]===Ue&&delete m[p]},A={isValidating:!0};it(C().data)&&(A.isLoading=!0);try{if(ve&&(R(A),n.loadingTimeout&&it(C().data)&&setTimeout(()=>{Me&&Fe()&&P().onLoadingSlow(p,n)},n.loadingTimeout),m[p]=[Ne(_),dw()]),[Se,Ue]=m[p],Se=await Se,ve&&setTimeout(L,n.dedupingInterval),!m[p]||m[p][1]!==Ue)return ve&&Fe()&&P().onDiscarded(p),!1;ot.error=Tn;const F=v[p];if(!it(F)&&(Ue<=F[0]||Ue<=F[1]||F[1]===0))return _t(),ve&&Fe()&&P().onDiscarded(p),!1;const G=C().data;ot.data=r(G,Se)?G:Se,ve&&Fe()&&P().onSuccess(Se,p,n)}catch(F){L();const G=P(),{shouldRetryOnError:ie}=G;G.isPaused()||(ot.error=F,ve&&Fe()&&(G.onError(F,p,G),(ie===!0||Cr(ie)&&ie(F))&&(!P().revalidateOnFocus||!P().revalidateOnReconnect||T())&&G.onErrorRetry(F,p,G,J=>{const Ae=f[p];Ae&&Ae[0]&&Ae[0](IM,J)},{retryCount:(rt.retryCount||0)+1,dedupe:!0})))}return Me=!1,_t(),!0},[p,i]),Ze=M.useCallback((...U)=>CI(i,b.current,...U),[]);if(Vh(()=>{S.current=e,E.current=n,it(ne)||(pe.current=ne)}),Vh(()=>{if(!p)return;const U=ue.bind(Tn,_0);let Ne=0;P().revalidateOnFocus&&(Ne=Date.now()+P().focusThrottleInterval);const Ue=s4(p,f,(Me,rt={})=>{if(Me==SI){const ve=Date.now();P().revalidateOnFocus&&ve>Ne&&T()&&(Ne=ve+P().focusThrottleInterval,U())}else if(Me==EI)P().revalidateOnReconnect&&T()&&U();else{if(Me==TI)return ue();if(Me==IM)return ue(rt)}});return w.current=!1,b.current=p,y.current=!0,R({_k:_}),oe&&(m[p]||(it(te)||bf?U():$V(U))),()=>{w.current=!0,Ue()}},[p]),Vh(()=>{let U;function Ne(){const Ue=Cr(c)?c(C().data):c;Ue&&U!==-1&&(U=setTimeout(Se,Ue))}function Se(){!C().error&&(u||P().isVisible())&&(d||P().isOnline())?ue(_0).then(Ne):Ne()}return Ne(),()=>{U&&(clearTimeout(U),U=-1)}},[c,u,d,p]),M.useDebugValue(Y),s&&it(te)&&p){if(!OM&&bf)throw new Error("Fallback data is required when using Suspense in SSR.");S.current=e,E.current=n,w.current=!1;const U=g[p];if(!it(U)){const Ne=Ze(U);y0(Ne)}if(it(ye)){const Ne=ue(_0);it(Y)||(Ne.status="fulfilled",Ne.value=!0),y0(Ne)}else throw ye}return{mutate:Ze,get data(){return O.data=!0,Y},get error(){return O.error=!0,ye},get isValidating(){return O.isValidating=!0,ce},get isLoading(){return O.isLoading=!0,we}}},m4=Kg.defineProperty(QV,"defaultValue",{value:RI}),bE=r4(p4),g4=Object.freeze(Object.defineProperty({__proto__:null,SWRConfig:m4,default:bE,mutate:AI,preload:t4,unstable_serialize:f4,useSWRConfig:OI},Symbol.toStringTag,{value:"Module"})),v4=()=>{},y4=v4(),mw=Object,zM=t=>t===y4,_4=t=>typeof t=="function",Kp=new WeakMap,x4=t=>mw.prototype.toString.call(t),x0=(t,e)=>t===`[object ${e}]`;let w4=0;const gw=t=>{const e=typeof t,n=x4(t),i=x0(n,"Date"),r=x0(n,"RegExp"),s=x0(n,"Object");let o,a;if(mw(t)===t&&!i&&!r){if(o=Kp.get(t),o)return o;if(o=++w4+"~",Kp.set(t,o),Array.isArray(t)){for(o="@",a=0;a<t.length;a++)o+=gw(t[a])+",";Kp.set(t,o)}if(s){o="#";const l=mw.keys(t).sort();for(;!zM(a=l.pop());)zM(t[a])||(o+=a+":"+gw(t[a])+",");Kp.set(t,o)}}else o=i?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return o},b4=t=>{if(_4(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?gw(t):"",[t,e]},S4=t=>b4(t?t(0,null):null)[0],w0=Promise.resolve(),E4=t=>(e,n,i)=>{const r=M.useRef(!1),{cache:s,initialSize:o=1,revalidateAll:a=!1,persistSize:l=!1,revalidateFirstPage:c=!0,revalidateOnMount:u=!1,parallel:d=!1}=i,[,,,h]=is.get(op);let f;try{f=S4(e),f&&(f=DI+f)}catch{}const[v,m,g]=aa(s,f),p=M.useCallback(()=>it(v()._l)?o:v()._l,[s,f,o]);bI.useSyncExternalStore(M.useCallback(P=>f?g(f,()=>{P()}):()=>{},[s,f]),p,p);const _=M.useCallback(()=>{const P=v()._l;return it(P)?o:P},[f,o]),y=M.useRef(_());Vh(()=>{if(!r.current){r.current=!0;return}f&&m({_l:l?y.current:_()})},[f,s]);const w=u&&!r.current,b=t(f,async P=>{const T=v()._i,C=v()._r;m({_r:Tn});const R=[],N=_(),[I]=aa(s,P),O=I().data,H=[];let V=null;for(let z=0;z<N;++z){const[D,B]=pd(e(z,d?null:V));if(!D)break;const[K,ne]=aa(s,D);let te=K().data;const ye=a||T||it(te)||c&&!z&&!it(O)||w||O&&!it(O[z])&&!i.compare(O[z],te);if(n&&(typeof C=="function"?C(te,B):ye)){const pe=async()=>{if(!(D in h))te=await n(B);else{const oe=h[D];delete h[D],te=await oe}ne({data:te,_k:B}),R[z]=te};d?H.push(pe):await pe()}else R[z]=te;d||(V=te)}return d&&await Promise.all(H.map(z=>z())),m({_i:Tn}),R},i),S=M.useCallback(function(P,T){const C=typeof T=="boolean"?{revalidate:T}:T||{},R=C.revalidate!==!1;return f?(R&&(it(P)?m({_i:!0,_r:C.revalidate}):m({_i:!1,_r:C.revalidate})),arguments.length?b.mutate(P,{...C,revalidate:R}):b.mutate()):w0},[f,s]),E=M.useCallback(P=>{if(!f)return w0;const[,T]=aa(s,f);let C;if(Cr(P)?C=P(_()):typeof P=="number"&&(C=P),typeof C!="number")return w0;T({_l:C}),y.current=C;const R=[],[N]=aa(s,f);let I=null;for(let O=0;O<C;++O){const[H]=pd(e(O,I)),[V]=aa(s,H),z=H?V().data:Tn;if(it(z))return S(N().data);R.push(z),I=z}return S(R)},[f,s,S,_]);return{size:_(),setSize:E,mutate:S,get data(){return b.data},get error(){return b.error},get isValidating(){return b.isValidating},get isLoading(){return b.isLoading}}},T4=o4(bE,E4);var jM=Object.prototype.hasOwnProperty;function BM(t,e,n){for(n of t.keys())if(Hh(n,e))return n}function Hh(t,e){var n,i,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((i=t.length)===e.length)for(;i--&&Hh(t[i],e[i]););return i===-1}if(n===Set){if(t.size!==e.size)return!1;for(i of t)if(r=i,r&&typeof r=="object"&&(r=BM(e,r),!r)||!e.has(r))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(i of t)if(r=i[0],r&&typeof r=="object"&&(r=BM(e,r),!r)||!Hh(i[1],e.get(r)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((i=t.byteLength)===e.byteLength)for(;i--&&t.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(t)){if((i=t.byteLength)===e.byteLength)for(;i--&&t[i]===e[i];);return i===-1}if(!n||typeof t=="object"){i=0;for(n in t)if(jM.call(t,n)&&++i&&!jM.call(e,n)||!(n in e)||!Hh(t[n],e[n]))return!1;return Object.keys(e).length===i}}return t!==t&&e!==e}function M4(t,e){if(!t)throw typeof e=="string"?new Error(e):new Error(`${e.displayName} not found`)}var Xs=(t,e)=>{const{assertCtxFn:n=M4}={},i=j.createContext(void 0);return i.displayName=t,[i,()=>{const o=j.useContext(i);return n(o,`${t} not found`),o.value},()=>{const o=j.useContext(i);return o?o.value:{}}]},SE={};lV(SE,{useSWR:()=>bE,useSWRInfinite:()=>T4});uV(SE,g4);var[NI,UI]=Xs("ClerkInstanceContext"),[C4,P4]=Xs("UserContext"),[A4,Cfe]=Xs("ClientContext"),[R4,Pfe]=Xs("SessionContext");j.createContext({});var[k4,Afe]=Xs("CheckoutContext"),D4=({children:t,...e})=>j.createElement(k4.Provider,{value:{value:e}},t),[I4,Rfe]=Xs("OrganizationContext"),L4=({children:t,organization:e,swrConfig:n})=>j.createElement(SE.SWRConfig,{value:n},j.createElement(I4.Provider,{value:{value:{organization:e}}},t));function FI(t){if(!j.useContext(NI)){if(typeof t=="function"){t();return}throw new Error(`${t} can only be used within the <ClerkProvider /> component.

Possible fixes:
1. Ensure that the <ClerkProvider /> is correctly wrapping your application where this component is used.
2. Check for multiple versions of the \`@clerk/shared\` package in your project. Use a tool like \`npm ls @clerk/shared\` to identify multiple versions, and update your dependencies to only rely on one.

Learn more: https://clerk.com/docs/components/clerk-provider`.trim())}}typeof window<"u"?j.useLayoutEffect:j.useEffect;var VM="useUser";function O4(){var n;FI(VM);const t=P4();return(n=UI().telemetry)==null||n.record(_I(VM)),t===void 0?{isLoaded:!1,isSignedIn:void 0,user:void 0}:t===null?{isLoaded:!0,isSignedIn:!1,user:null}:{isLoaded:!0,isSignedIn:!0,user:t}}var HM=Hh,N4=t=>{const e=M.useRef(t);return M.useEffect(()=>{e.current=t},[t]),e.current},Gi=(t,e,n)=>{const i=!!n,r=M.useRef(n);M.useEffect(()=>{r.current=n},[n]),M.useEffect(()=>{if(!i||!t)return()=>{};const s=(...o)=>{r.current&&r.current(...o)};return t.on(e,s),()=>{t.off(e,s)}},[i,e,t,r])},zI=j.createContext(null);zI.displayName="ElementsContext";var U4=(t,e)=>{if(!t)throw new Error(`Could not find Elements context; You need to wrap the part of your app that ${e} in an <Elements> provider.`);return t},Yg=t=>t!==null&&typeof t=="object",F4=(t,e,n)=>Yg(t)?Object.keys(t).reduce((i,r)=>{const s=!Yg(e)||!jI(t[r],e[r]);return n.includes(r)?(s&&console.warn(`Unsupported prop change: options.${r} is not a mutable property.`),i):s?{...i||{},[r]:t[r]}:i},null):null,WM="[object Object]",jI=(t,e)=>{if(!Yg(t)||!Yg(e))return t===e;const n=Array.isArray(t),i=Array.isArray(e);if(n!==i)return!1;const r=Object.prototype.toString.call(t)===WM,s=Object.prototype.toString.call(e)===WM;if(r!==s)return!1;if(!r&&!n)return t===e;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const l={};for(let f=0;f<o.length;f+=1)l[o[f]]=!0;for(let f=0;f<a.length;f+=1)l[a[f]]=!0;const c=Object.keys(l);if(c.length!==o.length)return!1;const u=t,d=e,h=f=>jI(u[f],d[f]);return c.every(h)},GM=t=>{const e=j.useContext(zI);return U4(e,t)},z4=t=>t.charAt(0).toUpperCase()+t.slice(1),j4=(t,e)=>{const n=`${z4(t)}Element`,s=e?o=>{GM(`mounts <${n}>`);const{id:a,className:l}=o;return j.createElement("div",{id:a,className:l})}:({id:o,className:a,fallback:l,options:c={},onBlur:u,onFocus:d,onReady:h,onChange:f,onEscape:v,onClick:m,onLoadError:g,onLoaderStart:p,onNetworksChange:_,onConfirm:y,onCancel:w,onShippingAddressChange:b,onShippingRateChange:S})=>{const E=GM(`mounts <${n}>`),P="elements"in E?E.elements:null,[T,C]=j.useState(null),R=j.useRef(null),N=j.useRef(null),[I,O]=M.useState(!1);Gi(T,"blur",u),Gi(T,"focus",d),Gi(T,"escape",v),Gi(T,"click",m),Gi(T,"loaderror",g),Gi(T,"loaderstart",p),Gi(T,"networkschange",_),Gi(T,"confirm",y),Gi(T,"cancel",w),Gi(T,"shippingaddresschange",b),Gi(T,"shippingratechange",S),Gi(T,"change",f);let H;h&&(H=()=>{O(!0),h(T)}),Gi(T,"ready",H),j.useLayoutEffect(()=>{if(R.current===null&&N.current!==null&&P){let z=null;P&&(z=P.create(t,c)),R.current=z,C(z),z&&z.mount(N.current)}},[P,c]);const V=N4(c);return j.useEffect(()=>{if(!R.current)return;const z=F4(c,V,["paymentRequest"]);z&&"update"in R.current&&R.current.update(z)},[c,V]),j.useLayoutEffect(()=>()=>{if(R.current&&typeof R.current.destroy=="function")try{R.current.destroy(),R.current=null}catch{}},[]),j.createElement(j.Fragment,null,!I&&l,j.createElement("div",{id:o,style:{height:I?"unset":"0px",visibility:I?"visible":"hidden"},className:a,ref:N}))};return s.displayName=n,s.__elementType=t,s},B4=typeof window>"u";j4("payment",B4);Xs("StripeLibsContext");Xs("PaymentElementContext");Xs("StripeUtilsContext");var js=pI({packageName:"@clerk/clerk-react"});function V4(t){js.setMessages(t).setPackageName(t)}var[H4,W4]=Xs("AuthContext"),G4=NI,BI=UI,$4="You've added multiple <ClerkProvider> components in your React component tree. Wrap your components in a single <ClerkProvider>.",q4=t=>`You've passed multiple children components to <${t}/>. You can only pass a single child component or text.`,X4="Invalid state. Feel free to submit a bug or reach out to support here: https://clerk.com/support",b0="Unsupported usage of isSatellite, domain or proxyUrl. The usage of isSatellite, domain or proxyUrl as function is not supported in non-browser environments.",K4="<UserProfile.Page /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",Y4="<UserProfile.Link /> component needs to be a direct child of `<UserProfile />` or `<UserButton />`.",J4="<OrganizationProfile.Page /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Q4="<OrganizationProfile.Link /> component needs to be a direct child of `<OrganizationProfile />` or `<OrganizationSwitcher />`.",Z4=t=>`<${t} /> can only accept <${t}.Page /> and <${t}.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.`,e5=t=>`Missing props. <${t}.Page /> component requires the following props: url, label, labelIcon, alongside with children to be rendered inside the page.`,t5=t=>`Missing props. <${t}.Link /> component requires the following props: url, label and labelIcon.`,n5="<UserButton /> can only accept <UserButton.UserProfilePage />, <UserButton.UserProfileLink /> and <UserButton.MenuItems /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",i5="<UserButton.MenuItems /> component can only accept <UserButton.Action /> and <UserButton.Link /> as its children. Any other provided component will be ignored. Additionally, please ensure that the component is rendered in a client component.",r5="<UserButton.MenuItems /> component needs to be a direct child of `<UserButton />`.",s5="<UserButton.Action /> component needs to be a direct child of `<UserButton.MenuItems />`.",o5="<UserButton.Link /> component needs to be a direct child of `<UserButton.MenuItems />`.",a5="Missing props. <UserButton.Link /> component requires the following props: href, label and labelIcon.",l5="Missing props. <UserButton.Action /> component requires the following props: label.",qv=t=>{FI(()=>{js.throwMissingClerkProviderError({source:t})})},VI=t=>new Promise(e=>{const n=i=>{["ready","degraded"].includes(i)&&(e(),t.off("status",n))};t.on("status",n,{notify:!0})}),c5=t=>async e=>(await VI(t),t.session?t.session.getToken(e):null),u5=t=>async(...e)=>(await VI(t),t.signOut(...e)),HI=(t={})=>{var e;qv("useAuth");const{treatPendingAsSignedOut:n,...i}=t??{},r=i;let o=W4();o.sessionId===void 0&&o.userId===void 0&&(o=r??{});const a=BI(),l=M.useCallback(c5(a),[a]),c=M.useCallback(u5(a),[a]);return(e=a.telemetry)==null||e.record(_I("useAuth",{treatPendingAsSignedOut:n})),d5({...o,getToken:l,signOut:c},{treatPendingAsSignedOut:n})};function d5(t,{treatPendingAsSignedOut:e=!0}={}){const{userId:n,orgId:i,orgRole:r,has:s,signOut:o,getToken:a,orgPermissions:l,factorVerificationAge:c,sessionClaims:u}=t??{},d=M.useCallback(f=>s?s(f):bV({userId:n,orgId:i,orgRole:r,orgPermissions:l,factorVerificationAge:c,features:(u==null?void 0:u.fea)||"",plans:(u==null?void 0:u.pla)||""})(f),[s,n,i,r,l,c]),h=SV({authObject:{...t,getToken:a,signOut:o,has:d},options:{treatPendingAsSignedOut:e}});return h||js.throw(X4)}var jt=(t,e)=>{const i=(typeof e=="string"?e:e==null?void 0:e.component)||t.displayName||t.name||"Component";t.displayName=i;const r=typeof e=="string"?void 0:e,s=o=>{qv(i||"withClerk");const a=BI();return!a.loaded&&!(r!=null&&r.renderWhileLoading)?null:j.createElement(t,{...o,component:i,clerk:a})};return s.displayName=`withClerk(${i})`,s},h5=()=>{try{return!1}catch{}return!1},f5=()=>{try{return!1}catch{}return!1},p5=()=>{try{return!0}catch{}return!1},$M=new Set,EE=(t,e,n)=>{const i=f5()||p5(),r=t;$M.has(r)||i||($M.add(r),console.warn(`Clerk - DEPRECATION WARNING: "${t}" is deprecated and will be removed in the next major release.
${e}`))},vw=({children:t,treatPendingAsSignedOut:e})=>{qv("SignedIn");const{userId:n}=HI({treatPendingAsSignedOut:e});return n?t:null},yw=({children:t,treatPendingAsSignedOut:e})=>{qv("SignedOut");const{userId:n}=HI({treatPendingAsSignedOut:e});return n===null?t:null};jt(({clerk:t,...e})=>{const{client:n,session:i}=t,r=n.signedInSessions?n.signedInSessions.length>0:n.activeSessions&&n.activeSessions.length>0;return j.useEffect(()=>{i===null&&r?t.redirectToAfterSignOut():t.redirectToSignIn(e)},[]),null},"RedirectToSignIn");jt(({clerk:t,...e})=>(j.useEffect(()=>{t.redirectToSignUp(e)},[]),null),"RedirectToSignUp");jt(({clerk:t})=>(j.useEffect(()=>{t.redirectToTasks()},[]),null),"RedirectToTasks");jt(({clerk:t})=>(j.useEffect(()=>{EE("RedirectToUserProfile","Use the `redirectToUserProfile()` method instead."),t.redirectToUserProfile()},[]),null),"RedirectToUserProfile");jt(({clerk:t})=>(j.useEffect(()=>{EE("RedirectToOrganizationProfile","Use the `redirectToOrganizationProfile()` method instead."),t.redirectToOrganizationProfile()},[]),null),"RedirectToOrganizationProfile");jt(({clerk:t})=>(j.useEffect(()=>{EE("RedirectToCreateOrganization","Use the `redirectToCreateOrganization()` method instead."),t.redirectToCreateOrganization()},[]),null),"RedirectToCreateOrganization");jt(({clerk:t,...e})=>(j.useEffect(()=>{t.handleRedirectCallback(e)},[]),null),"AuthenticateWithRedirectCallback");var mi=t=>{h5()&&console.error(`Clerk: ${t}`)};function S0(t,e,n){if(typeof t=="function")return t(e);if(typeof t<"u")return t;if(typeof n<"u")return n}var qM=(t,...e)=>{const n={...t};for(const i of e)delete n[i];return n},Xv=t=>e=>{try{return j.Children.only(t)}catch{return js.throw(q4(e))}},Kv=(t,e)=>(t||(t=e),typeof t=="string"&&(t=j.createElement("button",null,t)),t),Yv=t=>(...e)=>{if(t&&typeof t=="function")return t(...e)};function m5(t){return typeof t=="function"}var Yp=new Map;function g5(t,e,n=1){j.useEffect(()=>{const i=Yp.get(t)||0;return i==n?js.throw(e):(Yp.set(t,i+1),()=>{Yp.set(t,(Yp.get(t)||1)-1)})},[])}function v5(t,e,n){const i=t.displayName||t.name||e||"Component",r=s=>(g5(e,n),j.createElement(t,{...s}));return r.displayName=`withMaxAllowedInstancesGuard(${i})`,r}var Wh=t=>{const[e,n]=M.useState(new Map);return t.map(i=>({id:i.id,mount:r=>n(s=>new Map(s).set(String(i.id),r)),unmount:()=>n(r=>{const s=new Map(r);return s.set(String(i.id),null),s}),portal:()=>{const r=e.get(String(i.id));return r?jd.createPortal(i.component,r):null}}))},hi=(t,e)=>!!t&&j.isValidElement(t)&&(t==null?void 0:t.type)===e,WI=(t,e)=>qI({children:t,reorderItemsLabels:["account","security"],LinkComponent:lp,PageComponent:ap,MenuItemsComponent:Qv,componentName:"UserProfile"},e),GI=(t,e)=>qI({children:t,reorderItemsLabels:["general","members"],LinkComponent:ey,PageComponent:Zv,componentName:"OrganizationProfile"},e),$I=t=>{const e=[],n=[ey,Zv,Qv,ap,lp];return j.Children.forEach(t,i=>{n.some(r=>hi(i,r))||e.push(i)}),e},qI=(t,e)=>{const{children:n,LinkComponent:i,PageComponent:r,MenuItemsComponent:s,reorderItemsLabels:o,componentName:a}=t,{allowForAnyChildren:l=!1}=e||{},c=[];j.Children.forEach(n,_=>{if(!hi(_,r)&&!hi(_,i)&&!hi(_,s)){_&&!l&&mi(Z4(a));return}const{props:y}=_,{children:w,label:b,url:S,labelIcon:E}=y;if(hi(_,r))if(XM(y,o))c.push({label:b});else if(E0(y))c.push({label:b,labelIcon:E,children:w,url:S});else{mi(e5(a));return}if(hi(_,i))if(T0(y))c.push({label:b,labelIcon:E,url:S});else{mi(t5(a));return}});const u=[],d=[],h=[];c.forEach((_,y)=>{if(E0(_)){u.push({component:_.children,id:y}),d.push({component:_.labelIcon,id:y});return}T0(_)&&h.push({component:_.labelIcon,id:y})});const f=Wh(u),v=Wh(d),m=Wh(h),g=[],p=[];return c.forEach((_,y)=>{if(XM(_,o)){g.push({label:_.label});return}if(E0(_)){const{portal:w,mount:b,unmount:S}=f.find(C=>C.id===y),{portal:E,mount:P,unmount:T}=v.find(C=>C.id===y);g.push({label:_.label,url:_.url,mount:b,unmount:S,mountIcon:P,unmountIcon:T}),p.push(w),p.push(E);return}if(T0(_)){const{portal:w,mount:b,unmount:S}=m.find(E=>E.id===y);g.push({label:_.label,url:_.url,mountIcon:b,unmountIcon:S}),p.push(w);return}}),{customPages:g,customPagesPortals:p}},XM=(t,e)=>{const{children:n,label:i,url:r,labelIcon:s}=t;return!n&&!r&&!s&&e.some(o=>o===i)},E0=t=>{const{children:e,label:n,url:i,labelIcon:r}=t;return!!e&&!!i&&!!r&&!!n},T0=t=>{const{children:e,label:n,url:i,labelIcon:r}=t;return!e&&!!i&&!!r&&!!n},y5=t=>_5({children:t,reorderItemsLabels:["manageAccount","signOut"],MenuItemsComponent:Qv,MenuActionComponent:KI,MenuLinkComponent:YI,UserProfileLinkComponent:lp,UserProfilePageComponent:ap}),_5=({children:t,MenuItemsComponent:e,MenuActionComponent:n,MenuLinkComponent:i,UserProfileLinkComponent:r,UserProfilePageComponent:s,reorderItemsLabels:o})=>{const a=[],l=[],c=[];j.Children.forEach(t,v=>{if(!hi(v,e)&&!hi(v,r)&&!hi(v,s)){v&&mi(n5);return}if(hi(v,r)||hi(v,s))return;const{props:m}=v;j.Children.forEach(m.children,g=>{if(!hi(g,n)&&!hi(g,i)){g&&mi(i5);return}const{props:p}=g,{label:_,labelIcon:y,href:w,onClick:b,open:S}=p;if(hi(g,n))if(KM(p,o))a.push({label:_});else if(M0(p)){const E={label:_,labelIcon:y};if(b!==void 0)a.push({...E,onClick:b});else if(S!==void 0)a.push({...E,open:S.startsWith("/")?S:`/${S}`});else{mi("Custom menu item must have either onClick or open property");return}}else{mi(l5);return}if(hi(g,i))if(C0(p))a.push({label:_,labelIcon:y,href:w});else{mi(a5);return}})});const u=[],d=[];a.forEach((v,m)=>{M0(v)&&u.push({component:v.labelIcon,id:m}),C0(v)&&d.push({component:v.labelIcon,id:m})});const h=Wh(u),f=Wh(d);return a.forEach((v,m)=>{if(KM(v,o)&&l.push({label:v.label}),M0(v)){const{portal:g,mount:p,unmount:_}=h.find(w=>w.id===m),y={label:v.label,mountIcon:p,unmountIcon:_};"onClick"in v?y.onClick=v.onClick:"open"in v&&(y.open=v.open),l.push(y),c.push(g)}if(C0(v)){const{portal:g,mount:p,unmount:_}=f.find(y=>y.id===m);l.push({label:v.label,href:v.href,mountIcon:p,unmountIcon:_}),c.push(g)}}),{customMenuItems:l,customMenuItemsPortals:c}},KM=(t,e)=>{const{children:n,label:i,onClick:r,labelIcon:s}=t;return!n&&!r&&!s&&e.some(o=>o===i)},M0=t=>{const{label:e,labelIcon:n,onClick:i,open:r}=t;return!!n&&!!e&&(typeof i=="function"||typeof r=="string")},C0=t=>{const{label:e,href:n,labelIcon:i}=t;return!!n&&!!i&&!!e};function x5(t){const{root:e=document==null?void 0:document.body,selector:n,timeout:i=0}=t;return new Promise((r,s)=>{if(!e){s(new Error("No root element provided"));return}let o=e;if(n&&(o=e==null?void 0:e.querySelector(n)),(o==null?void 0:o.childElementCount)&&o.childElementCount>0){r();return}const l=new MutationObserver(c=>{for(const u of c)if(u.type==="childList"&&(!o&&n&&(o=e==null?void 0:e.querySelector(n)),o!=null&&o.childElementCount&&o.childElementCount>0)){l.disconnect(),r();return}});l.observe(e,{childList:!0,subtree:!0}),i>0&&setTimeout(()=>{l.disconnect(),s(new Error("Timeout waiting for element children"))},i)})}function hr(t){const e=M.useRef(),[n,i]=M.useState("rendering");return M.useEffect(()=>{if(!t)throw new Error("Clerk: no component name provided, unable to detect mount.");typeof window<"u"&&!e.current&&(e.current=x5({selector:`[data-clerk-component="${t}"]`}).then(()=>{i("rendered")}).catch(()=>{i("error")}))},[t]),n}var Jp=t=>"mount"in t,YM=t=>"open"in t,JM=t=>t==null?void 0:t.map(({mountIcon:e,unmountIcon:n,...i})=>i),bi=class extends j.PureComponent{constructor(){super(...arguments),this.rootRef=j.createRef()}componentDidUpdate(t){var e,n,i,r;if(!Jp(t)||!Jp(this.props))return;const s=qM(t.props,"customPages","customMenuItems","children"),o=qM(this.props.props,"customPages","customMenuItems","children"),a=((e=s.customPages)==null?void 0:e.length)!==((n=o.customPages)==null?void 0:n.length),l=((i=s.customMenuItems)==null?void 0:i.length)!==((r=o.customMenuItems)==null?void 0:r.length),c=JM(t.props.customMenuItems),u=JM(this.props.props.customMenuItems);(!HM(s,o)||!HM(c,u)||a||l)&&this.rootRef.current&&this.props.updateProps({node:this.rootRef.current,props:this.props.props})}componentDidMount(){this.rootRef.current&&(Jp(this.props)&&this.props.mount(this.rootRef.current,this.props.props),YM(this.props)&&this.props.open(this.props.props))}componentWillUnmount(){this.rootRef.current&&(Jp(this.props)&&this.props.unmount(this.rootRef.current),YM(this.props)&&this.props.close())}render(){const{hideRootHtmlElement:t=!1}=this.props,e={ref:this.rootRef,...this.props.rootProps,...this.props.component&&{"data-clerk-component":this.props.component}};return j.createElement(j.Fragment,null,!t&&j.createElement("div",{...e}),this.props.children)}},Jv=t=>{var e,n;return j.createElement(j.Fragment,null,(e=t==null?void 0:t.customPagesPortals)==null?void 0:e.map((i,r)=>M.createElement(i,{key:r})),(n=t==null?void 0:t.customMenuItemsPortals)==null?void 0:n.map((i,r)=>M.createElement(i,{key:r})))};jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountSignIn,unmount:t.unmountSignIn,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"SignIn",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountSignUp,unmount:t.unmountSignUp,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"SignUp",renderWhileLoading:!0});function ap({children:t}){return mi(K4),j.createElement(j.Fragment,null,t)}function lp({children:t}){return mi(Y4),j.createElement(j.Fragment,null,t)}var w5=jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=WI(i.children);return j.createElement(j.Fragment,null,s&&n,j.createElement(bi,{component:e,mount:t.mountUserProfile,unmount:t.unmountUserProfile,updateProps:t.__unstable__updateProps,props:{...i,customPages:a},rootProps:o},j.createElement(Jv,{customPagesPortals:l})))},{component:"UserProfile",renderWhileLoading:!0});Object.assign(w5,{Page:ap,Link:lp});var XI=M.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),b5=jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=WI(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),c=Object.assign(i.userProfileProps||{},{customPages:a}),{customMenuItems:u,customMenuItemsPortals:d}=y5(i.children),h=$I(i.children),f={mount:t.mountUserButton,unmount:t.unmountUserButton,updateProps:t.__unstable__updateProps,props:{...i,userProfileProps:c,customMenuItems:u}},v={customPagesPortals:l,customMenuItemsPortals:d};return j.createElement(XI.Provider,{value:f},s&&n,t.loaded&&j.createElement(bi,{component:e,...f,hideRootHtmlElement:!!i.__experimental_asProvider,rootProps:o},i.__experimental_asProvider?h:null,j.createElement(Jv,{...v})))},{component:"UserButton",renderWhileLoading:!0});function Qv({children:t}){return mi(r5),j.createElement(j.Fragment,null,t)}function KI({children:t}){return mi(s5),j.createElement(j.Fragment,null,t)}function YI({children:t}){return mi(o5),j.createElement(j.Fragment,null,t)}function S5(t){const e=M.useContext(XI),n={...e,props:{...e.props,...t}};return j.createElement(bi,{...n})}var QM=Object.assign(b5,{UserProfilePage:ap,UserProfileLink:lp,MenuItems:Qv,Action:KI,Link:YI,__experimental_Outlet:S5});function Zv({children:t}){return mi(J4),j.createElement(j.Fragment,null,t)}function ey({children:t}){return mi(Q4),j.createElement(j.Fragment,null,t)}var E5=jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=GI(i.children);return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountOrganizationProfile,unmount:t.unmountOrganizationProfile,updateProps:t.__unstable__updateProps,props:{...i,customPages:a},rootProps:o},j.createElement(Jv,{customPagesPortals:l})))},{component:"OrganizationProfile",renderWhileLoading:!0});Object.assign(E5,{Page:Zv,Link:ey});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountCreateOrganization,unmount:t.unmountCreateOrganization,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"CreateOrganization",renderWhileLoading:!0});var JI=M.createContext({mount:()=>{},unmount:()=>{},updateProps:()=>{}}),T5=jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}},{customPages:a,customPagesPortals:l}=GI(i.children,{allowForAnyChildren:!!i.__experimental_asProvider}),c=Object.assign(i.organizationProfileProps||{},{customPages:a}),u=$I(i.children),d={mount:t.mountOrganizationSwitcher,unmount:t.unmountOrganizationSwitcher,updateProps:t.__unstable__updateProps,props:{...i,organizationProfileProps:c},rootProps:o,component:e};return t.__experimental_prefetchOrganizationSwitcher(),j.createElement(JI.Provider,{value:d},j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{...d,hideRootHtmlElement:!!i.__experimental_asProvider},i.__experimental_asProvider?u:null,j.createElement(Jv,{customPagesPortals:l}))))},{component:"OrganizationSwitcher",renderWhileLoading:!0});function M5(t){const e=M.useContext(JI),n={...e,props:{...e.props,...t}};return j.createElement(bi,{...n})}Object.assign(T5,{OrganizationProfilePage:Zv,OrganizationProfileLink:ey,__experimental_Outlet:M5});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountOrganizationList,unmount:t.unmountOrganizationList,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"OrganizationList",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,open:t.openGoogleOneTap,close:t.closeGoogleOneTap,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"GoogleOneTap",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountWaitlist,unmount:t.unmountWaitlist,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"Waitlist",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountPricingTable,unmount:t.unmountPricingTable,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"PricingTable",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountApiKeys,unmount:t.unmountApiKeys,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"ApiKeys",renderWhileLoading:!0});jt(({clerk:t,component:e,fallback:n,...i})=>{const s=hr(e)==="rendering"||!t.loaded,o={...s&&n&&{style:{display:"none"}}};return j.createElement(j.Fragment,null,s&&n,t.loaded&&j.createElement(bi,{component:e,mount:t.mountTaskChooseOrganization,unmount:t.unmountTaskChooseOrganization,updateProps:t.__unstable__updateProps,props:i,rootProps:o}))},{component:"TaskChooseOrganization",renderWhileLoading:!0});var QI=t=>{throw TypeError(t)},TE=(t,e,n)=>e.has(t)||QI("Cannot "+n),Ht=(t,e,n)=>(TE(t,e,"read from private field"),n?n.call(t):e.get(t)),Pl=(t,e,n)=>e.has(t)?QI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Oc=(t,e,n,i)=>(TE(t,e,"write to private field"),e.set(t,n),n),P0=(t,e,n)=>(TE(t,e,"access private method"),n),C5=(t,e="5.86.0")=>{if(t)return t;const n=P5(e);return n?n==="snapshot"?"5.86.0":n:A5(e)},P5=t=>{var e;return(e=t.trim().replace(/^v/,"").match(/-(.+?)(\.|$)/))==null?void 0:e[1]},A5=t=>t.trim().replace(/^v/,"").split(".")[0];function R5(t){return t?k5(t)||ZI(t):!0}function k5(t){return/^http(s)?:\/\//.test(t||"")}function ZI(t){return t.startsWith("/")}function D5(t){return t?ZI(t)?new URL(t,window.location.origin).toString():t:""}function I5(t){if(!t)return"";let e;if(t.match(/^(clerk\.)+\w*$/))e=/(clerk\.)*(?=clerk\.)/;else{if(t.match(/\.clerk.accounts/))return t;e=/^(clerk\.)*/gi}return`clerk.${t.replace(e,"")}`}var L5={initialDelay:125,maxDelayBetweenRetries:0,factor:2,shouldRetry:(t,e)=>e<5,retryImmediately:!1,jitter:!0},O5=100,eL=async t=>new Promise(e=>setTimeout(e,t)),tL=(t,e)=>e?t*(1+Math.random()):t,N5=t=>{let e=0;const n=()=>{const i=t.initialDelay,r=t.factor;let s=i*Math.pow(r,e);return s=tL(s,t.jitter),Math.min(t.maxDelayBetweenRetries||s,s)};return async()=>{await eL(n()),e++}},U5=async(t,e={})=>{let n=0;const{shouldRetry:i,initialDelay:r,maxDelayBetweenRetries:s,factor:o,retryImmediately:a,jitter:l}={...L5,...e},c=N5({initialDelay:r,maxDelayBetweenRetries:s,factor:o,jitter:l});for(;;)try{return await t()}catch(u){if(n++,!i(u,n))throw u;a&&n===1?await eL(tL(O5,l)):await c()}},F5="loadScript cannot be called when document does not exist",z5="loadScript cannot be called without a src";async function j5(t="",e){const{async:n,defer:i,beforeLoad:r,crossOrigin:s,nonce:o}=e||{};return U5(()=>new Promise((l,c)=>{t||c(new Error(z5)),(!document||!document.body)&&c(F5);const u=document.createElement("script");s&&u.setAttribute("crossorigin",s),u.async=n||!1,u.defer=i||!1,u.addEventListener("load",()=>{u.remove(),l(u)}),u.addEventListener("error",()=>{u.remove(),c()}),u.src=t,u.nonce=o,r==null||r(u),document.body.appendChild(u)}),{shouldRetry:(l,c)=>c<=5})}var nL="Clerk: Failed to load Clerk",{isDevOrStagingUrl:B5}=MV(),iL=pI({packageName:"@clerk/shared"});function V5(t){iL.setPackageName({packageName:t})}function _w(){if(typeof window>"u"||!window.Clerk)return!1;const t=window.Clerk;return typeof t=="object"&&typeof t.load=="function"}function ZM(t){return new Promise((e,n)=>{let i=!1;const r=(c,u)=>{clearTimeout(c),clearInterval(u)},s=()=>{i||_w()&&(i=!0,r(a,l),e(null))},a=setTimeout(()=>{i||(i=!0,r(a,l),_w()?e(null):n(new Error(nL)))},t);s();const l=setInterval(()=>{if(i){clearInterval(l);return}s()},100)})}var H5=async t=>{const e=(t==null?void 0:t.scriptLoadTimeout)??15e3;if(_w())return null;if(document.querySelector("script[data-clerk-js-script]"))return ZM(e);if(!(t!=null&&t.publishableKey))return iL.throwMissingPublishableKeyError(),null;const i=ZM(e);return j5(W5(t),{async:!0,crossOrigin:"anonymous",nonce:t.nonce,beforeLoad:$5(t)}).catch(()=>{throw new Error(nL)}),i},W5=t=>{var u,d;const{clerkJSUrl:e,clerkJSVariant:n,clerkJSVersion:i,proxyUrl:r,domain:s,publishableKey:o}=t;if(e)return e;let a="";r&&R5(r)?a=D5(r).replace(/http(s)?:\/\//,""):s&&!B5(((u=DM(o))==null?void 0:u.frontendApi)||"")?a=I5(s):a=((d=DM(o))==null?void 0:d.frontendApi)||"";const l=n?`${n.replace(/\.+$/,"")}.`:"",c=C5(i);return`https://${a}/npm/@clerk/clerk-js@${c}/dist/clerk.${l}browser.js`},G5=t=>{const e={};return t.publishableKey&&(e["data-clerk-publishable-key"]=t.publishableKey),t.proxyUrl&&(e["data-clerk-proxy-url"]=t.proxyUrl),t.domain&&(e["data-clerk-domain"]=t.domain),t.nonce&&(e.nonce=t.nonce),e},$5=t=>e=>{const n=G5(t);for(const i in n)e.setAttribute(i,n[i])},q5=(t,e,n)=>!t&&n?X5(n):K5(e),X5=t=>{const e=t.userId,n=t.user,i=t.sessionId,r=t.sessionStatus,s=t.sessionClaims,o=t.session,a=t.organization,l=t.orgId,c=t.orgRole,u=t.orgPermissions,d=t.orgSlug,h=t.actor,f=t.factorVerificationAge;return{userId:e,user:n,sessionId:i,session:o,sessionStatus:r,sessionClaims:s,organization:a,orgId:l,orgRole:c,orgPermissions:u,orgSlug:d,actor:h,factorVerificationAge:f}},K5=t=>{var m,g,p,_;const e=t.user?t.user.id:t.user,n=t.user,i=t.session?t.session.id:t.session,r=t.session,s=(m=t.session)==null?void 0:m.status,o=t.session?(p=(g=t.session.lastActiveToken)==null?void 0:g.jwt)==null?void 0:p.claims:null,a=t.session?t.session.factorVerificationAge:null,l=r==null?void 0:r.actor,c=t.organization,u=t.organization?t.organization.id:t.organization,d=c==null?void 0:c.slug,h=c&&((_=n==null?void 0:n.organizationMemberships)==null?void 0:_.find(y=>y.organization.id===u)),f=h&&h.permissions,v=h&&h.role;return{userId:e,user:n,sessionId:i,session:r,sessionStatus:s,sessionClaims:o,organization:c,orgId:u,orgRole:v,orgSlug:d,orgPermissions:f,actor:l,factorVerificationAge:a}};function eC(){return typeof window<"u"}var tC=(t,e,n,i,r)=>{const{notify:s}=r||{};let o=t.get(n);o||(o=[],t.set(n,o)),o.push(i),s&&e.has(n)&&i(e.get(n))},nC=(t,e,n)=>(t.get(e)||[]).map(i=>i(n)),iC=(t,e,n)=>{const i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},Y5=()=>{const t=new Map,e=new Map,n=new Map;return{on:(...r)=>tC(t,e,...r),prioritizedOn:(...r)=>tC(n,e,...r),emit:(r,s)=>{e.set(r,s),nC(n,r,s),nC(t,r,s)},off:(...r)=>iC(t,...r),prioritizedOff:(...r)=>iC(n,...r),internal:{retrieveListeners:r=>t.get(r)||[]}}},Qp={Status:"status"},J5=()=>Y5();typeof window<"u"&&!window.global&&(window.global=typeof global>"u"?window:global);var rC=jt(({clerk:t,children:e,...n})=>{const{signUpFallbackRedirectUrl:i,forceRedirectUrl:r,fallbackRedirectUrl:s,signUpForceRedirectUrl:o,mode:a,initialValues:l,withSignUp:c,oauthFlow:u,...d}=n;e=Kv(e,"Sign in");const h=Xv(e)("SignInButton"),f=()=>{const g={forceRedirectUrl:r,fallbackRedirectUrl:s,signUpFallbackRedirectUrl:i,signUpForceRedirectUrl:o,initialValues:l,withSignUp:c,oauthFlow:u};return a==="modal"?t.openSignIn({...g,appearance:n.appearance}):t.redirectToSignIn({...g,signInFallbackRedirectUrl:s,signInForceRedirectUrl:r})},m={...d,onClick:async g=>(h&&typeof h=="object"&&"props"in h&&await Yv(h.props.onClick)(g),f())};return j.cloneElement(h,m)},{component:"SignInButton",renderWhileLoading:!0});jt(({clerk:t,children:e,...n})=>{const{redirectUrl:i,...r}=n;e=Kv(e,"Sign in with Metamask");const s=Xv(e)("SignInWithMetamaskButton"),o=async()=>{async function c(){await t.authenticateWithMetamask({redirectUrl:i||void 0})}c()},l={...r,onClick:async c=>(await Yv(s.props.onClick)(c),o())};return j.cloneElement(s,l)},{component:"SignInWithMetamask",renderWhileLoading:!0});jt(({clerk:t,children:e,...n})=>{const{redirectUrl:i="/",signOutOptions:r,...s}=n;e=Kv(e,"Sign out");const o=Xv(e)("SignOutButton"),a=()=>t.signOut({redirectUrl:i,...r}),c={...s,onClick:async u=>(await Yv(o.props.onClick)(u),a())};return j.cloneElement(o,c)},{component:"SignOutButton",renderWhileLoading:!0});jt(({clerk:t,children:e,...n})=>{const{fallbackRedirectUrl:i,forceRedirectUrl:r,signInFallbackRedirectUrl:s,signInForceRedirectUrl:o,mode:a,initialValues:l,oauthFlow:c,...u}=n;e=Kv(e,"Sign up");const d=Xv(e)("SignUpButton"),h=()=>{const m={fallbackRedirectUrl:i,forceRedirectUrl:r,signInFallbackRedirectUrl:s,signInForceRedirectUrl:o,initialValues:l,oauthFlow:c};return a==="modal"?t.openSignUp({...m,appearance:n.appearance,unsafeMetadata:n.unsafeMetadata}):t.redirectToSignUp({...m,signUpFallbackRedirectUrl:i,signUpForceRedirectUrl:r})},v={...u,onClick:async m=>(d&&typeof d=="object"&&"props"in d&&await Yv(d.props.onClick)(m),h())};return j.cloneElement(d,v)},{component:"SignUpButton",renderWhileLoading:!0});typeof globalThis.__BUILD_DISABLE_RHC__>"u"&&(globalThis.__BUILD_DISABLE_RHC__=!1);var Q5={name:"@clerk/clerk-react",version:"5.42.2",environment:"production"},ng,su,ou,ta,ro,la,Th,ig,rL=class sL{constructor(e){Pl(this,Th),this.clerkjs=null,this.preopenOneTap=null,this.preopenUserVerification=null,this.preopenSignIn=null,this.preopenCheckout=null,this.preopenPlanDetails=null,this.preopenSubscriptionDetails=null,this.preopenSignUp=null,this.preopenUserProfile=null,this.preopenOrganizationProfile=null,this.preopenCreateOrganization=null,this.preOpenWaitlist=null,this.premountSignInNodes=new Map,this.premountSignUpNodes=new Map,this.premountUserProfileNodes=new Map,this.premountUserButtonNodes=new Map,this.premountOrganizationProfileNodes=new Map,this.premountCreateOrganizationNodes=new Map,this.premountOrganizationSwitcherNodes=new Map,this.premountOrganizationListNodes=new Map,this.premountMethodCalls=new Map,this.premountWaitlistNodes=new Map,this.premountPricingTableNodes=new Map,this.premountApiKeysNodes=new Map,this.premountOAuthConsentNodes=new Map,this.premountTaskChooseOrganizationNodes=new Map,this.premountAddListenerCalls=new Map,this.loadedListeners=[],Pl(this,ng,"loading"),Pl(this,su),Pl(this,ou),Pl(this,ta),Pl(this,ro,J5()),this.buildSignInUrl=r=>{const s=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignInUrl(r))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildSignInUrl",s)},this.buildSignUpUrl=r=>{const s=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildSignUpUrl(r))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildSignUpUrl",s)},this.buildAfterSignInUrl=(...r)=>{const s=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignInUrl(...r))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignInUrl",s)},this.buildAfterSignUpUrl=(...r)=>{const s=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildAfterSignUpUrl(...r))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildAfterSignUpUrl",s)},this.buildAfterSignOutUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterSignOutUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildAfterSignOutUrl",r)},this.buildNewSubscriptionRedirectUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildNewSubscriptionRedirectUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildNewSubscriptionRedirectUrl",r)},this.buildAfterMultiSessionSingleSignOutUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildAfterMultiSessionSingleSignOutUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildAfterMultiSessionSingleSignOutUrl",r)},this.buildUserProfileUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildUserProfileUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildUserProfileUrl",r)},this.buildCreateOrganizationUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildCreateOrganizationUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildCreateOrganizationUrl",r)},this.buildOrganizationProfileUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildOrganizationProfileUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildOrganizationProfileUrl",r)},this.buildWaitlistUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildWaitlistUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildWaitlistUrl",r)},this.buildTasksUrl=()=>{const r=()=>{var s;return((s=this.clerkjs)==null?void 0:s.buildTasksUrl())||""};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("buildTasksUrl",r)},this.buildUrlWithAuth=r=>{const s=()=>{var o;return((o=this.clerkjs)==null?void 0:o.buildUrlWithAuth(r))||""};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("buildUrlWithAuth",s)},this.handleUnauthenticated=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.handleUnauthenticated()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("handleUnauthenticated",r)},this.on=(...r)=>{var s;if((s=this.clerkjs)!=null&&s.on)return this.clerkjs.on(...r);Ht(this,ro).on(...r)},this.off=(...r)=>{var s;if((s=this.clerkjs)!=null&&s.off)return this.clerkjs.off(...r);Ht(this,ro).off(...r)},this.addOnLoaded=r=>{this.loadedListeners.push(r),this.loaded&&this.emitLoaded()},this.emitLoaded=()=>{this.loadedListeners.forEach(r=>r()),this.loadedListeners=[]},this.beforeLoad=r=>{if(!r)throw new Error("Failed to hydrate latest Clerk JS")},this.hydrateClerkJS=r=>{var s;if(!r)throw new Error("Failed to hydrate latest Clerk JS");return this.clerkjs=r,this.premountMethodCalls.forEach(o=>o()),this.premountAddListenerCalls.forEach((o,a)=>{o.nativeUnsubscribe=r.addListener(a)}),(s=Ht(this,ro).internal.retrieveListeners("status"))==null||s.forEach(o=>{this.on("status",o,{notify:!0})}),this.preopenSignIn!==null&&r.openSignIn(this.preopenSignIn),this.preopenCheckout!==null&&r.__internal_openCheckout(this.preopenCheckout),this.preopenPlanDetails!==null&&r.__internal_openPlanDetails(this.preopenPlanDetails),this.preopenSubscriptionDetails!==null&&r.__internal_openSubscriptionDetails(this.preopenSubscriptionDetails),this.preopenSignUp!==null&&r.openSignUp(this.preopenSignUp),this.preopenUserProfile!==null&&r.openUserProfile(this.preopenUserProfile),this.preopenUserVerification!==null&&r.__internal_openReverification(this.preopenUserVerification),this.preopenOneTap!==null&&r.openGoogleOneTap(this.preopenOneTap),this.preopenOrganizationProfile!==null&&r.openOrganizationProfile(this.preopenOrganizationProfile),this.preopenCreateOrganization!==null&&r.openCreateOrganization(this.preopenCreateOrganization),this.preOpenWaitlist!==null&&r.openWaitlist(this.preOpenWaitlist),this.premountSignInNodes.forEach((o,a)=>{r.mountSignIn(a,o)}),this.premountSignUpNodes.forEach((o,a)=>{r.mountSignUp(a,o)}),this.premountUserProfileNodes.forEach((o,a)=>{r.mountUserProfile(a,o)}),this.premountUserButtonNodes.forEach((o,a)=>{r.mountUserButton(a,o)}),this.premountOrganizationListNodes.forEach((o,a)=>{r.mountOrganizationList(a,o)}),this.premountWaitlistNodes.forEach((o,a)=>{r.mountWaitlist(a,o)}),this.premountPricingTableNodes.forEach((o,a)=>{r.mountPricingTable(a,o)}),this.premountApiKeysNodes.forEach((o,a)=>{r.mountApiKeys(a,o)}),this.premountOAuthConsentNodes.forEach((o,a)=>{r.__internal_mountOAuthConsent(a,o)}),this.premountTaskChooseOrganizationNodes.forEach((o,a)=>{r.mountTaskChooseOrganization(a,o)}),typeof this.clerkjs.status>"u"&&Ht(this,ro).emit(Qp.Status,"ready"),this.emitLoaded(),this.clerkjs},this.__experimental_checkout=(...r)=>{var s;return(s=this.clerkjs)==null?void 0:s.__experimental_checkout(...r)},this.__unstable__updateProps=async r=>{const s=await P0(this,Th,ig).call(this);if(s&&"__unstable__updateProps"in s)return s.__unstable__updateProps(r)},this.setActive=r=>this.clerkjs?this.clerkjs.setActive(r):Promise.reject(),this.openSignIn=r=>{this.clerkjs&&this.loaded?this.clerkjs.openSignIn(r):this.preopenSignIn=r},this.closeSignIn=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignIn():this.preopenSignIn=null},this.__internal_openCheckout=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openCheckout(r):this.preopenCheckout=r},this.__internal_closeCheckout=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeCheckout():this.preopenCheckout=null},this.__internal_openPlanDetails=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openPlanDetails(r):this.preopenPlanDetails=r},this.__internal_closePlanDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closePlanDetails():this.preopenPlanDetails=null},this.__internal_openSubscriptionDetails=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openSubscriptionDetails(r):this.preopenSubscriptionDetails=r??null},this.__internal_closeSubscriptionDetails=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeSubscriptionDetails():this.preopenSubscriptionDetails=null},this.__internal_openReverification=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_openReverification(r):this.preopenUserVerification=r},this.__internal_closeReverification=()=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_closeReverification():this.preopenUserVerification=null},this.openGoogleOneTap=r=>{this.clerkjs&&this.loaded?this.clerkjs.openGoogleOneTap(r):this.preopenOneTap=r},this.closeGoogleOneTap=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeGoogleOneTap():this.preopenOneTap=null},this.openUserProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.openUserProfile(r):this.preopenUserProfile=r},this.closeUserProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeUserProfile():this.preopenUserProfile=null},this.openOrganizationProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.openOrganizationProfile(r):this.preopenOrganizationProfile=r},this.closeOrganizationProfile=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeOrganizationProfile():this.preopenOrganizationProfile=null},this.openCreateOrganization=r=>{this.clerkjs&&this.loaded?this.clerkjs.openCreateOrganization(r):this.preopenCreateOrganization=r},this.closeCreateOrganization=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeCreateOrganization():this.preopenCreateOrganization=null},this.openWaitlist=r=>{this.clerkjs&&this.loaded?this.clerkjs.openWaitlist(r):this.preOpenWaitlist=r},this.closeWaitlist=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeWaitlist():this.preOpenWaitlist=null},this.openSignUp=r=>{this.clerkjs&&this.loaded?this.clerkjs.openSignUp(r):this.preopenSignUp=r},this.closeSignUp=()=>{this.clerkjs&&this.loaded?this.clerkjs.closeSignUp():this.preopenSignUp=null},this.mountSignIn=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignIn(r,s):this.premountSignInNodes.set(r,s)},this.unmountSignIn=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignIn(r):this.premountSignInNodes.delete(r)},this.mountSignUp=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountSignUp(r,s):this.premountSignUpNodes.set(r,s)},this.unmountSignUp=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountSignUp(r):this.premountSignUpNodes.delete(r)},this.mountUserProfile=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserProfile(r,s):this.premountUserProfileNodes.set(r,s)},this.unmountUserProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserProfile(r):this.premountUserProfileNodes.delete(r)},this.mountOrganizationProfile=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationProfile(r,s):this.premountOrganizationProfileNodes.set(r,s)},this.unmountOrganizationProfile=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationProfile(r):this.premountOrganizationProfileNodes.delete(r)},this.mountCreateOrganization=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountCreateOrganization(r,s):this.premountCreateOrganizationNodes.set(r,s)},this.unmountCreateOrganization=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountCreateOrganization(r):this.premountCreateOrganizationNodes.delete(r)},this.mountOrganizationSwitcher=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationSwitcher(r,s):this.premountOrganizationSwitcherNodes.set(r,s)},this.unmountOrganizationSwitcher=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationSwitcher(r):this.premountOrganizationSwitcherNodes.delete(r)},this.__experimental_prefetchOrganizationSwitcher=()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.__experimental_prefetchOrganizationSwitcher()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("__experimental_prefetchOrganizationSwitcher",r)},this.mountOrganizationList=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountOrganizationList(r,s):this.premountOrganizationListNodes.set(r,s)},this.unmountOrganizationList=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountOrganizationList(r):this.premountOrganizationListNodes.delete(r)},this.mountUserButton=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountUserButton(r,s):this.premountUserButtonNodes.set(r,s)},this.unmountUserButton=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountUserButton(r):this.premountUserButtonNodes.delete(r)},this.mountWaitlist=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountWaitlist(r,s):this.premountWaitlistNodes.set(r,s)},this.unmountWaitlist=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountWaitlist(r):this.premountWaitlistNodes.delete(r)},this.mountPricingTable=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountPricingTable(r,s):this.premountPricingTableNodes.set(r,s)},this.unmountPricingTable=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountPricingTable(r):this.premountPricingTableNodes.delete(r)},this.mountApiKeys=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountApiKeys(r,s):this.premountApiKeysNodes.set(r,s)},this.unmountApiKeys=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountApiKeys(r):this.premountApiKeysNodes.delete(r)},this.__internal_mountOAuthConsent=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_mountOAuthConsent(r,s):this.premountOAuthConsentNodes.set(r,s)},this.__internal_unmountOAuthConsent=r=>{this.clerkjs&&this.loaded?this.clerkjs.__internal_unmountOAuthConsent(r):this.premountOAuthConsentNodes.delete(r)},this.mountTaskChooseOrganization=(r,s)=>{this.clerkjs&&this.loaded?this.clerkjs.mountTaskChooseOrganization(r,s):this.premountTaskChooseOrganizationNodes.set(r,s)},this.unmountTaskChooseOrganization=r=>{this.clerkjs&&this.loaded?this.clerkjs.unmountTaskChooseOrganization(r):this.premountTaskChooseOrganizationNodes.delete(r)},this.addListener=r=>{if(this.clerkjs)return this.clerkjs.addListener(r);{const s=()=>{var o;const a=this.premountAddListenerCalls.get(r);a&&((o=a.nativeUnsubscribe)==null||o.call(a),this.premountAddListenerCalls.delete(r))};return this.premountAddListenerCalls.set(r,{unsubscribe:s,nativeUnsubscribe:void 0}),s}},this.navigate=r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.navigate(r)};this.clerkjs&&this.loaded?s():this.premountMethodCalls.set("navigate",s)},this.redirectWithAuth=async(...r)=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectWithAuth(...r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectWithAuth",s)},this.redirectToSignIn=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignIn(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToSignIn",s)},this.redirectToSignUp=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.redirectToSignUp(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("redirectToSignUp",s)},this.redirectToUserProfile=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToUserProfile()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToUserProfile",r)},this.redirectToAfterSignUp=()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignUp()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToAfterSignUp",r)},this.redirectToAfterSignIn=()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignIn()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("redirectToAfterSignIn",r)},this.redirectToAfterSignOut=()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToAfterSignOut()};this.clerkjs&&this.loaded?r():this.premountMethodCalls.set("redirectToAfterSignOut",r)},this.redirectToOrganizationProfile=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToOrganizationProfile()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToOrganizationProfile",r)},this.redirectToCreateOrganization=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToCreateOrganization()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToCreateOrganization",r)},this.redirectToWaitlist=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToWaitlist()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToWaitlist",r)},this.redirectToTasks=async()=>{const r=()=>{var s;return(s=this.clerkjs)==null?void 0:s.redirectToTasks()};if(this.clerkjs&&this.loaded)return r();this.premountMethodCalls.set("redirectToTasks",r)},this.handleRedirectCallback=async r=>{var s;const o=()=>{var a;return(a=this.clerkjs)==null?void 0:a.handleRedirectCallback(r)};this.clerkjs&&this.loaded?(s=o())==null||s.catch(()=>{}):this.premountMethodCalls.set("handleRedirectCallback",o)},this.handleGoogleOneTapCallback=async(r,s)=>{var o;const a=()=>{var l;return(l=this.clerkjs)==null?void 0:l.handleGoogleOneTapCallback(r,s)};this.clerkjs&&this.loaded?(o=a())==null||o.catch(()=>{}):this.premountMethodCalls.set("handleGoogleOneTapCallback",a)},this.handleEmailLinkVerification=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.handleEmailLinkVerification(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("handleEmailLinkVerification",s)},this.authenticateWithMetamask=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithMetamask(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithMetamask",s)},this.authenticateWithCoinbaseWallet=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithCoinbaseWallet(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithCoinbaseWallet",s)},this.authenticateWithOKXWallet=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithOKXWallet(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithOKXWallet",s)},this.authenticateWithWeb3=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.authenticateWithWeb3(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("authenticateWithWeb3",s)},this.authenticateWithGoogleOneTap=async r=>(await P0(this,Th,ig).call(this)).authenticateWithGoogleOneTap(r),this.__internal_loadStripeJs=async()=>(await P0(this,Th,ig).call(this)).__internal_loadStripeJs(),this.createOrganization=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.createOrganization(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("createOrganization",s)},this.getOrganization=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.getOrganization(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("getOrganization",s)},this.joinWaitlist=async r=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.joinWaitlist(r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("joinWaitlist",s)},this.signOut=async(...r)=>{const s=()=>{var o;return(o=this.clerkjs)==null?void 0:o.signOut(...r)};if(this.clerkjs&&this.loaded)return s();this.premountMethodCalls.set("signOut",s)};const{Clerk:n=null,publishableKey:i}=e||{};Oc(this,ta,i),Oc(this,ou,e==null?void 0:e.proxyUrl),Oc(this,su,e==null?void 0:e.domain),this.options=e,this.Clerk=n,this.mode=eC()?"browser":"server",this.options.sdkMetadata||(this.options.sdkMetadata=Q5),Ht(this,ro).emit(Qp.Status,"loading"),Ht(this,ro).prioritizedOn(Qp.Status,r=>Oc(this,ng,r)),Ht(this,ta)&&this.loadClerkJS()}get publishableKey(){return Ht(this,ta)}get loaded(){var e;return((e=this.clerkjs)==null?void 0:e.loaded)||!1}get status(){var e;return this.clerkjs?((e=this.clerkjs)==null?void 0:e.status)||(this.clerkjs.loaded?"ready":"loading"):Ht(this,ng)}static getOrCreateInstance(e){return(!eC()||!Ht(this,la)||e.Clerk&&Ht(this,la).Clerk!==e.Clerk||Ht(this,la).publishableKey!==e.publishableKey)&&Oc(this,la,new sL(e)),Ht(this,la)}static clearInstance(){Oc(this,la,null)}get domain(){return typeof window<"u"&&window.location?S0(Ht(this,su),new URL(window.location.href),""):typeof Ht(this,su)=="function"?js.throw(b0):Ht(this,su)||""}get proxyUrl(){return typeof window<"u"&&window.location?S0(Ht(this,ou),new URL(window.location.href),""):typeof Ht(this,ou)=="function"?js.throw(b0):Ht(this,ou)||""}__internal_getOption(e){var n,i;return(n=this.clerkjs)!=null&&n.__internal_getOption?(i=this.clerkjs)==null?void 0:i.__internal_getOption(e):this.options[e]}get sdkMetadata(){var e;return((e=this.clerkjs)==null?void 0:e.sdkMetadata)||this.options.sdkMetadata||void 0}get instanceType(){var e;return(e=this.clerkjs)==null?void 0:e.instanceType}get frontendApi(){var e;return((e=this.clerkjs)==null?void 0:e.frontendApi)||""}get isStandardBrowser(){var e;return((e=this.clerkjs)==null?void 0:e.isStandardBrowser)||this.options.standardBrowser||!1}get isSatellite(){return typeof window<"u"&&window.location?S0(this.options.isSatellite,new URL(window.location.href),!1):typeof this.options.isSatellite=="function"?js.throw(b0):!1}async loadClerkJS(){var e;if(!(this.mode!=="browser"||this.loaded)){typeof window<"u"&&(window.__clerk_publishable_key=Ht(this,ta),window.__clerk_proxy_url=this.proxyUrl,window.__clerk_domain=this.domain);try{if(this.Clerk){let n;m5(this.Clerk)?(n=new this.Clerk(Ht(this,ta),{proxyUrl:this.proxyUrl,domain:this.domain}),this.beforeLoad(n),await n.load(this.options)):(n=this.Clerk,n.loaded||(this.beforeLoad(n),await n.load(this.options))),global.Clerk=n}else if(!__BUILD_DISABLE_RHC__){if(global.Clerk||await H5({...this.options,publishableKey:Ht(this,ta),proxyUrl:this.proxyUrl,domain:this.domain,nonce:this.options.nonce}),!global.Clerk)throw new Error("Failed to download latest ClerkJS. Contact support@clerk.com.");this.beforeLoad(global.Clerk),await global.Clerk.load(this.options)}return(e=global.Clerk)!=null&&e.loaded?this.hydrateClerkJS(global.Clerk):void 0}catch(n){const i=n;Ht(this,ro).emit(Qp.Status,"error"),console.error(i.stack||i.message||i);return}}}get version(){var e;return(e=this.clerkjs)==null?void 0:e.version}get client(){if(this.clerkjs)return this.clerkjs.client}get session(){if(this.clerkjs)return this.clerkjs.session}get user(){if(this.clerkjs)return this.clerkjs.user}get organization(){if(this.clerkjs)return this.clerkjs.organization}get telemetry(){if(this.clerkjs)return this.clerkjs.telemetry}get __unstable__environment(){if(this.clerkjs)return this.clerkjs.__unstable__environment}get isSignedIn(){return this.clerkjs?this.clerkjs.isSignedIn:!1}get billing(){var e;return(e=this.clerkjs)==null?void 0:e.billing}get __internal_state(){var e;return(e=this.clerkjs)==null?void 0:e.__internal_state}get apiKeys(){var e;return(e=this.clerkjs)==null?void 0:e.apiKeys}__unstable__setEnvironment(...e){if(this.clerkjs&&"__unstable__setEnvironment"in this.clerkjs)this.clerkjs.__unstable__setEnvironment(e);else return}};ng=new WeakMap;su=new WeakMap;ou=new WeakMap;ta=new WeakMap;ro=new WeakMap;la=new WeakMap;Th=new WeakSet;ig=function(){return new Promise(t=>{this.addOnLoaded(()=>t(this.clerkjs))})};Pl(rL,la);var sC=rL;function Z5(t){const{isomorphicClerkOptions:e,initialState:n,children:i}=t,{isomorphicClerk:r,clerkStatus:s}=eH(e),[o,a]=j.useState({client:r.client,session:r.session,user:r.user,organization:r.organization});j.useEffect(()=>r.addListener(N=>a({...N})),[]);const l=q5(r.loaded,o,n),c=j.useMemo(()=>({value:r}),[s]),u=j.useMemo(()=>({value:o.client}),[o.client]),{sessionId:d,sessionStatus:h,sessionClaims:f,session:v,userId:m,user:g,orgId:p,actor:_,organization:y,orgRole:w,orgSlug:b,orgPermissions:S,factorVerificationAge:E}=l,P=j.useMemo(()=>({value:{sessionId:d,sessionStatus:h,sessionClaims:f,userId:m,actor:_,orgId:p,orgRole:w,orgSlug:b,orgPermissions:S,factorVerificationAge:E}}),[d,h,m,_,p,w,b,E,f==null?void 0:f.__raw]),T=j.useMemo(()=>({value:v}),[d,v]),C=j.useMemo(()=>({value:g}),[m,g]),R=j.useMemo(()=>({value:{organization:y}}),[p,y]);return j.createElement(G4.Provider,{value:c},j.createElement(A4.Provider,{value:u},j.createElement(R4.Provider,{value:T},j.createElement(L4,{...R.value},j.createElement(H4.Provider,{value:P},j.createElement(C4.Provider,{value:C},j.createElement(D4,{value:void 0},i)))))))}var eH=t=>{const e=j.useRef(sC.getOrCreateInstance(t)),[n,i]=j.useState(e.current.status);return j.useEffect(()=>{e.current.__unstable__updateProps({appearance:t.appearance})},[t.appearance]),j.useEffect(()=>{e.current.__unstable__updateProps({options:t})},[t.localization]),j.useEffect(()=>(e.current.on("status",i),()=>{e.current&&e.current.off("status",i),sC.clearInstance()}),[]),{isomorphicClerk:e.current,clerkStatus:n}};function tH(t){const{initialState:e,children:n,__internal_bypassMissingPublishableKey:i,...r}=t,{publishableKey:s="",Clerk:o}=r;return!o&&!i&&(s?s&&!rw(s)&&js.throwInvalidPublishableKeyError({key:s}):js.throwMissingPublishableKeyError()),j.createElement(Z5,{initialState:e,isomorphicClerkOptions:r},n)}var oL=v5(tH,"ClerkProvider",$4);oL.displayName="ClerkProvider";V4({packageName:"@clerk/clerk-react"});V5("@clerk/clerk-react");const nH=1,iH=1e6;let A0=0;function rH(){return A0=(A0+1)%Number.MAX_SAFE_INTEGER,A0.toString()}const R0=new Map,oC=t=>{if(R0.has(t))return;const e=setTimeout(()=>{R0.delete(t),Gh({type:"REMOVE_TOAST",toastId:t})},iH);R0.set(t,e)},sH=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nH)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?oC(n):t.toasts.forEach(i=>{oC(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===n||n===void 0?{...i,open:!1}:i)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},rg=[];let sg={toasts:[]};function Gh(t){sg=sH(sg,t),rg.forEach(e=>{e(sg)})}function oH({...t}){const e=rH(),n=r=>Gh({type:"UPDATE_TOAST",toast:{...r,id:e}}),i=()=>Gh({type:"DISMISS_TOAST",toastId:e});return Gh({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:r=>{r||i()}}}),{id:e,dismiss:i,update:n}}function aL(){const[t,e]=M.useState(sg);return M.useEffect(()=>(rg.push(e),()=>{const n=rg.indexOf(e);n>-1&&rg.splice(n,1)}),[t]),{...t,toast:oH,dismiss:n=>Gh({type:"DISMISS_TOAST",toastId:n})}}function Mn(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(t==null||t(r),n===!1||!r.defaultPrevented)return e==null?void 0:e(r)}}function aC(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function lL(...t){return e=>{let n=!1;const i=t.map(r=>{const s=aC(r,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():aC(t[r],null)}}}}function ms(...t){return M.useCallback(lL(...t),t)}function ty(t,e=[]){let n=[];function i(s,o){const a=M.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:h,children:f,...v}=d,m=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,g=M.useMemo(()=>v,Object.values(v));return x.jsx(m.Provider,{value:g,children:f})};c.displayName=s+"Provider";function u(d,h){var m;const f=((m=h==null?void 0:h[t])==null?void 0:m[l])||a,v=M.useContext(f);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const r=()=>{const s=n.map(o=>M.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return r.scopeName=t,[i,aH(r,...e)]}function aH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const i=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(s){const o=i.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Jg(t){const e=cH(t),n=M.forwardRef((i,r)=>{const{children:s,...o}=i,a=M.Children.toArray(s),l=a.find(dH);if(l){const c=l.props.children,u=a.map(d=>d===l?M.Children.count(c)>1?M.Children.only(null):M.isValidElement(c)?c.props.children:null:d);return x.jsx(e,{...o,ref:r,children:M.isValidElement(c)?M.cloneElement(c,void 0,u):null})}return x.jsx(e,{...o,ref:r,children:s})});return n.displayName=`${t}.Slot`,n}var lH=Jg("Slot");function cH(t){const e=M.forwardRef((n,i)=>{const{children:r,...s}=n;if(M.isValidElement(r)){const o=fH(r),a=hH(s,r.props);return r.type!==M.Fragment&&(a.ref=i?lL(i,o):o),M.cloneElement(r,a)}return M.Children.count(r)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var cL=Symbol("radix.slottable");function uH(t){const e=({children:n})=>x.jsx(x.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=cL,e}function dH(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===cL}function hH(t,e){const n={...e};for(const i in e){const r=t[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?n[i]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[i]=r):i==="style"?n[i]={...r,...s}:i==="className"&&(n[i]=[r,s].filter(Boolean).join(" "))}return{...t,...n}}function fH(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function pH(t){const e=t+"CollectionProvider",[n,i]=ty(e),[r,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=m=>{const{scope:g,children:p}=m,_=j.useRef(null),y=j.useRef(new Map).current;return x.jsx(r,{scope:g,itemMap:y,collectionRef:_,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=Jg(a),c=j.forwardRef((m,g)=>{const{scope:p,children:_}=m,y=s(a,p),w=ms(g,y.collectionRef);return x.jsx(l,{ref:w,children:_})});c.displayName=a;const u=t+"CollectionItemSlot",d="data-radix-collection-item",h=Jg(u),f=j.forwardRef((m,g)=>{const{scope:p,children:_,...y}=m,w=j.useRef(null),b=ms(g,w),S=s(u,p);return j.useEffect(()=>(S.itemMap.set(w,{ref:w,...y}),()=>void S.itemMap.delete(w))),x.jsx(h,{[d]:"",ref:b,children:_})});f.displayName=u;function v(m){const g=s(t+"CollectionConsumer",m);return j.useCallback(()=>{const _=g.collectionRef.current;if(!_)return[];const y=Array.from(_.querySelectorAll(`[${d}]`));return Array.from(g.itemMap.values()).sort((S,E)=>y.indexOf(S.ref.current)-y.indexOf(E.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:c,ItemSlot:f},v,i]}var mH=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Si=mH.reduce((t,e)=>{const n=Jg(`Primitive.${e}`),i=M.forwardRef((r,s)=>{const{asChild:o,...a}=r,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...a,ref:s})});return i.displayName=`Primitive.${e}`,{...t,[e]:i}},{});function uL(t,e){t&&jd.flushSync(()=>t.dispatchEvent(e))}function $a(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var i;return(i=e.current)==null?void 0:i.call(e,...n)},[])}function gH(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t);M.useEffect(()=>{const i=r=>{r.key==="Escape"&&n(r)};return e.addEventListener("keydown",i,{capture:!0}),()=>e.removeEventListener("keydown",i,{capture:!0})},[n,e])}var vH="DismissableLayer",xw="dismissableLayer.update",yH="dismissableLayer.pointerDownOutside",_H="dismissableLayer.focusOutside",lC,dL=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ME=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:i,onPointerDownOutside:r,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=M.useContext(dL),[u,d]=M.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=M.useState({}),v=ms(e,E=>d(E)),m=Array.from(c.layers),[g]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=m.indexOf(g),_=u?m.indexOf(u):-1,y=c.layersWithOutsidePointerEventsDisabled.size>0,w=_>=p,b=wH(E=>{const P=E.target,T=[...c.branches].some(C=>C.contains(P));!w||T||(r==null||r(E),o==null||o(E),E.defaultPrevented||a==null||a())},h),S=bH(E=>{const P=E.target;[...c.branches].some(C=>C.contains(P))||(s==null||s(E),o==null||o(E),E.defaultPrevented||a==null||a())},h);return gH(E=>{_===c.layers.size-1&&(i==null||i(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},h),M.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(lC=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),cC(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=lC)}},[u,h,n,c]),M.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),cC())},[u,c]),M.useEffect(()=>{const E=()=>f({});return document.addEventListener(xw,E),()=>document.removeEventListener(xw,E)},[]),x.jsx(Si.div,{...l,ref:v,style:{pointerEvents:y?w?"auto":"none":void 0,...t.style},onFocusCapture:Mn(t.onFocusCapture,S.onFocusCapture),onBlurCapture:Mn(t.onBlurCapture,S.onBlurCapture),onPointerDownCapture:Mn(t.onPointerDownCapture,b.onPointerDownCapture)})});ME.displayName=vH;var xH="DismissableLayerBranch",hL=M.forwardRef((t,e)=>{const n=M.useContext(dL),i=M.useRef(null),r=ms(e,i);return M.useEffect(()=>{const s=i.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(Si.div,{...t,ref:r})});hL.displayName=xH;function wH(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),i=M.useRef(!1),r=M.useRef(()=>{});return M.useEffect(()=>{const s=a=>{if(a.target&&!i.current){let l=function(){fL(yH,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",r.current),r.current=l,e.addEventListener("click",r.current,{once:!0})):l()}else e.removeEventListener("click",r.current);i.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",r.current)}},[e,n]),{onPointerDownCapture:()=>i.current=!0}}function bH(t,e=globalThis==null?void 0:globalThis.document){const n=$a(t),i=M.useRef(!1);return M.useEffect(()=>{const r=s=>{s.target&&!i.current&&fL(_H,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",r),()=>e.removeEventListener("focusin",r)},[e,n]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function cC(){const t=new CustomEvent(xw);document.dispatchEvent(t)}function fL(t,e,n,{discrete:i}){const r=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?uL(r,s):r.dispatchEvent(s)}var SH=ME,EH=hL,qa=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{},TH="Portal",pL=M.forwardRef((t,e)=>{var a;const{container:n,...i}=t,[r,s]=M.useState(!1);qa(()=>s(!0),[]);const o=n||r&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?hI.createPortal(x.jsx(Si.div,{...i,ref:e}),o):null});pL.displayName=TH;function MH(t,e){return M.useReducer((n,i)=>e[n][i]??n,t)}var CE=t=>{const{present:e,children:n}=t,i=CH(e),r=typeof n=="function"?n({present:i.isPresent}):M.Children.only(n),s=ms(i.ref,PH(r));return typeof n=="function"||i.isPresent?M.cloneElement(r,{ref:s}):null};CE.displayName="Presence";function CH(t){const[e,n]=M.useState(),i=M.useRef(null),r=M.useRef(t),s=M.useRef("none"),o=t?"mounted":"unmounted",[a,l]=MH(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const c=Zp(i.current);s.current=a==="mounted"?c:"none"},[a]),qa(()=>{const c=i.current,u=r.current;if(u!==t){const h=s.current,f=Zp(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&h!==f?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,l]),qa(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=f=>{const m=Zp(i.current).includes(f.animationName);if(f.target===e&&m&&(l("ANIMATION_END"),!r.current)){const g=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=g)})}},h=f=>{f.target===e&&(s.current=Zp(i.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:M.useCallback(c=>{i.current=c?getComputedStyle(c):null,n(c)},[])}}function Zp(t){return(t==null?void 0:t.animationName)||"none"}function PH(t){var i,r;let e=(i=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(r=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var AH=c2[" useInsertionEffect ".trim().toString()]||qa;function RH({prop:t,defaultProp:e,onChange:n=()=>{},caller:i}){const[r,s,o]=kH({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r;{const u=M.useRef(t!==void 0);M.useEffect(()=>{const d=u.current;d!==a&&console.warn(`${i} is changing from ${d?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,i])}const c=M.useCallback(u=>{var d;if(a){const h=DH(u)?u(t):u;h!==t&&((d=o.current)==null||d.call(o,h))}else s(u)},[a,t,s,o]);return[l,c]}function kH({defaultProp:t,onChange:e}){const[n,i]=M.useState(t),r=M.useRef(n),s=M.useRef(e);return AH(()=>{s.current=e},[e]),M.useEffect(()=>{var o;r.current!==n&&((o=s.current)==null||o.call(s,n),r.current=n)},[n,r]),[n,i,s]}function DH(t){return typeof t=="function"}var IH=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),LH="VisuallyHidden",ny=M.forwardRef((t,e)=>x.jsx(Si.span,{...t,ref:e,style:{...IH,...t.style}}));ny.displayName=LH;var OH=ny,PE="ToastProvider",[AE,NH,UH]=pH("Toast"),[mL,kfe]=ty("Toast",[UH]),[FH,iy]=mL(PE),gL=t=>{const{__scopeToast:e,label:n="Notification",duration:i=5e3,swipeDirection:r="right",swipeThreshold:s=50,children:o}=t,[a,l]=M.useState(null),[c,u]=M.useState(0),d=M.useRef(!1),h=M.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${PE}\`. Expected non-empty \`string\`.`),x.jsx(AE.Provider,{scope:e,children:x.jsx(FH,{scope:e,label:n,duration:i,swipeDirection:r,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:M.useCallback(()=>u(f=>f+1),[]),onToastRemove:M.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};gL.displayName=PE;var vL="ToastViewport",zH=["F8"],ww="toast.viewportPause",bw="toast.viewportResume",yL=M.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:i=zH,label:r="Notifications ({hotkey})",...s}=t,o=iy(vL,n),a=NH(n),l=M.useRef(null),c=M.useRef(null),u=M.useRef(null),d=M.useRef(null),h=ms(e,d,o.onViewportChange),f=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;M.useEffect(()=>{const g=p=>{var y;i.length!==0&&i.every(w=>p[w]||p.code===w)&&((y=d.current)==null||y.focus())};return document.addEventListener("keydown",g),()=>document.removeEventListener("keydown",g)},[i]),M.useEffect(()=>{const g=l.current,p=d.current;if(v&&g&&p){const _=()=>{if(!o.isClosePausedRef.current){const S=new CustomEvent(ww);p.dispatchEvent(S),o.isClosePausedRef.current=!0}},y=()=>{if(o.isClosePausedRef.current){const S=new CustomEvent(bw);p.dispatchEvent(S),o.isClosePausedRef.current=!1}},w=S=>{!g.contains(S.relatedTarget)&&y()},b=()=>{g.contains(document.activeElement)||y()};return g.addEventListener("focusin",_),g.addEventListener("focusout",w),g.addEventListener("pointermove",_),g.addEventListener("pointerleave",b),window.addEventListener("blur",_),window.addEventListener("focus",y),()=>{g.removeEventListener("focusin",_),g.removeEventListener("focusout",w),g.removeEventListener("pointermove",_),g.removeEventListener("pointerleave",b),window.removeEventListener("blur",_),window.removeEventListener("focus",y)}}},[v,o.isClosePausedRef]);const m=M.useCallback(({tabbingDirection:g})=>{const _=a().map(y=>{const w=y.ref.current,b=[w,...QH(w)];return g==="forwards"?b:b.reverse()});return(g==="forwards"?_.reverse():_).flat()},[a]);return M.useEffect(()=>{const g=d.current;if(g){const p=_=>{var b,S,E;const y=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!y){const P=document.activeElement,T=_.shiftKey;if(_.target===g&&T){(b=c.current)==null||b.focus();return}const N=m({tabbingDirection:T?"backwards":"forwards"}),I=N.findIndex(O=>O===P);k0(N.slice(I+1))?_.preventDefault():T?(S=c.current)==null||S.focus():(E=u.current)==null||E.focus()}};return g.addEventListener("keydown",p),()=>g.removeEventListener("keydown",p)}},[a,m]),x.jsxs(EH,{ref:l,role:"region","aria-label":r.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&x.jsx(Sw,{ref:c,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"forwards"});k0(g)}}),x.jsx(AE.Slot,{scope:n,children:x.jsx(Si.ol,{tabIndex:-1,...s,ref:h})}),v&&x.jsx(Sw,{ref:u,onFocusFromOutsideViewport:()=>{const g=m({tabbingDirection:"backwards"});k0(g)}})]})});yL.displayName=vL;var _L="ToastFocusProxy",Sw=M.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:i,...r}=t,s=iy(_L,n);return x.jsx(ny,{"aria-hidden":!0,tabIndex:0,...r,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&i()}})});Sw.displayName=_L;var cp="Toast",jH="toast.swipeStart",BH="toast.swipeMove",VH="toast.swipeCancel",HH="toast.swipeEnd",xL=M.forwardRef((t,e)=>{const{forceMount:n,open:i,defaultOpen:r,onOpenChange:s,...o}=t,[a,l]=RH({prop:i,defaultProp:r??!0,onChange:s,caller:cp});return x.jsx(CE,{present:n||a,children:x.jsx($H,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:$a(t.onPause),onResume:$a(t.onResume),onSwipeStart:Mn(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Mn(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Mn(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Mn(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});xL.displayName=cp;var[WH,GH]=mL(cp,{onClose(){}}),$H=M.forwardRef((t,e)=>{const{__scopeToast:n,type:i="foreground",duration:r,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...v}=t,m=iy(cp,n),[g,p]=M.useState(null),_=ms(e,O=>p(O)),y=M.useRef(null),w=M.useRef(null),b=r||m.duration,S=M.useRef(0),E=M.useRef(b),P=M.useRef(0),{onToastAdd:T,onToastRemove:C}=m,R=$a(()=>{var H;(g==null?void 0:g.contains(document.activeElement))&&((H=m.viewport)==null||H.focus()),o()}),N=M.useCallback(O=>{!O||O===1/0||(window.clearTimeout(P.current),S.current=new Date().getTime(),P.current=window.setTimeout(R,O))},[R]);M.useEffect(()=>{const O=m.viewport;if(O){const H=()=>{N(E.current),c==null||c()},V=()=>{const z=new Date().getTime()-S.current;E.current=E.current-z,window.clearTimeout(P.current),l==null||l()};return O.addEventListener(ww,V),O.addEventListener(bw,H),()=>{O.removeEventListener(ww,V),O.removeEventListener(bw,H)}}},[m.viewport,b,l,c,N]),M.useEffect(()=>{s&&!m.isClosePausedRef.current&&N(b)},[s,b,m.isClosePausedRef,N]),M.useEffect(()=>(T(),()=>C()),[T,C]);const I=M.useMemo(()=>g?CL(g):null,[g]);return m.viewport?x.jsxs(x.Fragment,{children:[I&&x.jsx(qH,{__scopeToast:n,role:"status","aria-live":i==="foreground"?"assertive":"polite","aria-atomic":!0,children:I}),x.jsx(WH,{scope:n,onClose:R,children:jd.createPortal(x.jsx(AE.ItemSlot,{scope:n,children:x.jsx(SH,{asChild:!0,onEscapeKeyDown:Mn(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(Si.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":m.swipeDirection,...v,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Mn(t.onKeyDown,O=>{O.key==="Escape"&&(a==null||a(O.nativeEvent),O.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:Mn(t.onPointerDown,O=>{O.button===0&&(y.current={x:O.clientX,y:O.clientY})}),onPointerMove:Mn(t.onPointerMove,O=>{if(!y.current)return;const H=O.clientX-y.current.x,V=O.clientY-y.current.y,z=!!w.current,D=["left","right"].includes(m.swipeDirection),B=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,K=D?B(0,H):0,ne=D?0:B(0,V),te=O.pointerType==="touch"?10:2,ye={x:K,y:ne},pe={originalEvent:O,delta:ye};z?(w.current=ye,em(BH,d,pe,{discrete:!1})):uC(ye,m.swipeDirection,te)?(w.current=ye,em(jH,u,pe,{discrete:!1}),O.target.setPointerCapture(O.pointerId)):(Math.abs(H)>te||Math.abs(V)>te)&&(y.current=null)}),onPointerUp:Mn(t.onPointerUp,O=>{const H=w.current,V=O.target;if(V.hasPointerCapture(O.pointerId)&&V.releasePointerCapture(O.pointerId),w.current=null,y.current=null,H){const z=O.currentTarget,D={originalEvent:O,delta:H};uC(H,m.swipeDirection,m.swipeThreshold)?em(HH,f,D,{discrete:!0}):em(VH,h,D,{discrete:!0}),z.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),qH=t=>{const{__scopeToast:e,children:n,...i}=t,r=iy(cp,e),[s,o]=M.useState(!1),[a,l]=M.useState(!1);return YH(()=>o(!0)),M.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:x.jsx(pL,{asChild:!0,children:x.jsx(ny,{...i,children:s&&x.jsxs(x.Fragment,{children:[r.label," ",n]})})})},XH="ToastTitle",wL=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return x.jsx(Si.div,{...i,ref:e})});wL.displayName=XH;var KH="ToastDescription",bL=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t;return x.jsx(Si.div,{...i,ref:e})});bL.displayName=KH;var SL="ToastAction",EL=M.forwardRef((t,e)=>{const{altText:n,...i}=t;return n.trim()?x.jsx(ML,{altText:n,asChild:!0,children:x.jsx(RE,{...i,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${SL}\`. Expected non-empty \`string\`.`),null)});EL.displayName=SL;var TL="ToastClose",RE=M.forwardRef((t,e)=>{const{__scopeToast:n,...i}=t,r=GH(TL,n);return x.jsx(ML,{asChild:!0,children:x.jsx(Si.button,{type:"button",...i,ref:e,onClick:Mn(t.onClick,r.onClose)})})});RE.displayName=TL;var ML=M.forwardRef((t,e)=>{const{__scopeToast:n,altText:i,...r}=t;return x.jsx(Si.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":i||void 0,...r,ref:e})});function CL(t){const e=[];return Array.from(t.childNodes).forEach(i=>{if(i.nodeType===i.TEXT_NODE&&i.textContent&&e.push(i.textContent),JH(i)){const r=i.ariaHidden||i.hidden||i.style.display==="none",s=i.dataset.radixToastAnnounceExclude==="";if(!r)if(s){const o=i.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CL(i))}}),e}function em(t,e,n,{discrete:i}){const r=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&r.addEventListener(t,e,{once:!0}),i?uL(r,s):r.dispatchEvent(s)}var uC=(t,e,n=0)=>{const i=Math.abs(t.x),r=Math.abs(t.y),s=i>r;return e==="left"||e==="right"?s&&i>n:!s&&r>n};function YH(t=()=>{}){const e=$a(t);qa(()=>{let n=0,i=0;return n=window.requestAnimationFrame(()=>i=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(i)}},[e])}function JH(t){return t.nodeType===t.ELEMENT_NODE}function QH(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function k0(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ZH=gL,PL=yL,AL=xL,RL=wL,kL=bL,DL=EL,IL=RE;function LL(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(n=LL(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function OL(){for(var t,e,n=0,i="",r=arguments.length;n<r;n++)(t=arguments[n])&&(e=LL(t))&&(i&&(i+=" "),i+=e);return i}const dC=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,hC=OL,ry=(t,e)=>n=>{var i;if((e==null?void 0:e.variants)==null)return hC(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:s}=e,o=Object.keys(r).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const h=dC(u)||dC(d);return r[c][h]}),a=n&&Object.entries(n).reduce((c,u)=>{let[d,h]=u;return h===void 0||(c[d]=h),c},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((c,u)=>{let{class:d,className:h,...f}=u;return Object.entries(f).every(v=>{let[m,g]=v;return Array.isArray(g)?g.includes({...s,...a}[m]):{...s,...a}[m]===g})?[...c,d,h]:c},[]);return hC(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tW=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),fC=t=>{const e=tW(t);return e.charAt(0).toUpperCase()+e.slice(1)},NL=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),nW=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rW=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...a},l)=>M.createElement("svg",{ref:l,...iW,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:NL("lucide",r),...!s&&!nW(a)&&{"aria-hidden":"true"},...a},[...o.map(([c,u])=>M.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=(t,e)=>{const n=M.forwardRef(({className:i,...r},s)=>M.createElement(rW,{ref:s,iconNode:e,className:NL(`lucide-${eW(fC(t))}`,`lucide-${t}`,i),...r}));return n.displayName=fC(t),n};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pC=on("arrow-right",sW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],aW=on("book-open",oW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],cW=on("brain",lW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],og=on("calendar",uW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hW=on("clock",dW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pW=on("eye",fW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],gW=on("heart",mW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yW=on("house",vW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],xW=on("info",_W);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],bW=on("instagram",wW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],UL=on("lightbulb",SW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],TW=on("linkedin",EW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],FL=on("mail",MW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],PW=on("map-pin",CW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],RW=on("phone",AW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kW=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],DW=on("send",kW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],LW=on("star",IW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],NW=on("target",OW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UW=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],FW=on("trophy",UW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zW=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Sf=on("users",zW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jW=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],BW=on("x",jW);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VW=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],zL=on("zap",VW),kE="-",HW=t=>{const e=GW(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:i}=t;return{getClassGroupId:o=>{const a=o.split(kE);return a[0]===""&&a.length!==1&&a.shift(),jL(a,e)||WW(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&i[o]?[...l,...i[o]]:l}}},jL=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],i=e.nextPart.get(n),r=i?jL(t.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=t.join(kE);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},mC=/^\[(.+)\]$/,WW=t=>{if(mC.test(t)){const e=mC.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},GW=t=>{const{theme:e,prefix:n}=t,i={nextPart:new Map,validators:[]};return qW(Object.entries(t.classGroups),n).forEach(([s,o])=>{Ew(o,i,s,e)}),i},Ew=(t,e,n,i)=>{t.forEach(r=>{if(typeof r=="string"){const s=r===""?e:gC(e,r);s.classGroupId=n;return}if(typeof r=="function"){if($W(r)){Ew(r(i),e,n,i);return}e.validators.push({validator:r,classGroupId:n});return}Object.entries(r).forEach(([s,o])=>{Ew(o,gC(e,s),n,i)})})},gC=(t,e)=>{let n=t;return e.split(kE).forEach(i=>{n.nextPart.has(i)||n.nextPart.set(i,{nextPart:new Map,validators:[]}),n=n.nextPart.get(i)}),n},$W=t=>t.isThemeGetter,qW=(t,e)=>e?t.map(([n,i])=>{const r=i.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,r]}):t,XW=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,i=new Map;const r=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,i=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=i.get(s))!==void 0)return r(s,o),o},set(s,o){n.has(s)?n.set(s,o):r(s,o)}}},BL="!",KW=t=>{const{separator:e,experimentalParseClassName:n}=t,i=e.length===1,r=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,d;for(let g=0;g<a.length;g++){let p=a[g];if(c===0){if(p===r&&(i||a.slice(g,g+s)===e)){l.push(a.slice(u,g)),u=g+s;continue}if(p==="/"){d=g;continue}}p==="["?c++:p==="]"&&c--}const h=l.length===0?a:a.substring(u),f=h.startsWith(BL),v=f?h.substring(1):h,m=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:o}):o},YW=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(i=>{i[0]==="["?(e.push(...n.sort(),i),n=[]):n.push(i)}),e.push(...n.sort()),e},JW=t=>({cache:XW(t.cacheSize),parseClassName:KW(t),...HW(t)}),QW=/\s+/,ZW=(t,e)=>{const{parseClassName:n,getClassGroupId:i,getConflictingClassGroupIds:r}=e,s=[],o=t.trim().split(QW);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:f}=n(c);let v=!!f,m=i(v?h.substring(0,f):h);if(!m){if(!v){a=c+(a.length>0?" "+a:a);continue}if(m=i(h),!m){a=c+(a.length>0?" "+a:a);continue}v=!1}const g=YW(u).join(":"),p=d?g+BL:g,_=p+m;if(s.includes(_))continue;s.push(_);const y=r(m,v);for(let w=0;w<y.length;++w){const b=y[w];s.push(p+b)}a=c+(a.length>0?" "+a:a)}return a};function e6(){let t=0,e,n,i="";for(;t<arguments.length;)(e=arguments[t++])&&(n=VL(e))&&(i&&(i+=" "),i+=n);return i}const VL=t=>{if(typeof t=="string")return t;let e,n="";for(let i=0;i<t.length;i++)t[i]&&(e=VL(t[i]))&&(n&&(n+=" "),n+=e);return n};function t6(t,...e){let n,i,r,s=o;function o(l){const c=e.reduce((u,d)=>d(u),t());return n=JW(c),i=n.cache.get,r=n.cache.set,s=a,a(l)}function a(l){const c=i(l);if(c)return c;const u=ZW(l,n);return r(l,u),u}return function(){return s(e6.apply(null,arguments))}}const Lt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},HL=/^\[(?:([a-z-]+):)?(.+)\]$/i,n6=/^\d+\/\d+$/,i6=new Set(["px","full","screen"]),r6=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,s6=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o6=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,a6=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,l6=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qs=t=>Fu(t)||i6.has(t)||n6.test(t),$o=t=>Bd(t,"length",g6),Fu=t=>!!t&&!Number.isNaN(Number(t)),D0=t=>Bd(t,"number",Fu),lh=t=>!!t&&Number.isInteger(Number(t)),c6=t=>t.endsWith("%")&&Fu(t.slice(0,-1)),et=t=>HL.test(t),qo=t=>r6.test(t),u6=new Set(["length","size","percentage"]),d6=t=>Bd(t,u6,WL),h6=t=>Bd(t,"position",WL),f6=new Set(["image","url"]),p6=t=>Bd(t,f6,y6),m6=t=>Bd(t,"",v6),ch=()=>!0,Bd=(t,e,n)=>{const i=HL.exec(t);return i?i[1]?typeof e=="string"?i[1]===e:e.has(i[1]):n(i[2]):!1},g6=t=>s6.test(t)&&!o6.test(t),WL=()=>!1,v6=t=>a6.test(t),y6=t=>l6.test(t),_6=()=>{const t=Lt("colors"),e=Lt("spacing"),n=Lt("blur"),i=Lt("brightness"),r=Lt("borderColor"),s=Lt("borderRadius"),o=Lt("borderSpacing"),a=Lt("borderWidth"),l=Lt("contrast"),c=Lt("grayscale"),u=Lt("hueRotate"),d=Lt("invert"),h=Lt("gap"),f=Lt("gradientColorStops"),v=Lt("gradientColorStopPositions"),m=Lt("inset"),g=Lt("margin"),p=Lt("opacity"),_=Lt("padding"),y=Lt("saturate"),w=Lt("scale"),b=Lt("sepia"),S=Lt("skew"),E=Lt("space"),P=Lt("translate"),T=()=>["auto","contain","none"],C=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",et,e],N=()=>[et,e],I=()=>["",Qs,$o],O=()=>["auto",Fu,et],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],V=()=>["solid","dashed","dotted","double","none"],z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],B=()=>["","0",et],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[Fu,et];return{cacheSize:500,separator:":",theme:{colors:[ch],spacing:[Qs,$o],blur:["none","",qo,et],brightness:ne(),borderColor:[t],borderRadius:["none","","full",qo,et],borderSpacing:N(),borderWidth:I(),contrast:ne(),grayscale:B(),hueRotate:ne(),invert:B(),gap:N(),gradientColorStops:[t],gradientColorStopPositions:[c6,$o],inset:R(),margin:R(),opacity:ne(),padding:N(),saturate:ne(),scale:ne(),sepia:B(),skew:ne(),space:N(),translate:N()},classGroups:{aspect:[{aspect:["auto","square","video",et]}],container:["container"],columns:[{columns:[qo]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),et]}],overflow:[{overflow:C()}],"overflow-x":[{"overflow-x":C()}],"overflow-y":[{"overflow-y":C()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",lh,et]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",et]}],grow:[{grow:B()}],shrink:[{shrink:B()}],order:[{order:["first","last","none",lh,et]}],"grid-cols":[{"grid-cols":[ch]}],"col-start-end":[{col:["auto",{span:["full",lh,et]},et]}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":[ch]}],"row-start-end":[{row:["auto",{span:[lh,et]},et]}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",et]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",et]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",et,e]}],"min-w":[{"min-w":[et,e,"min","max","fit"]}],"max-w":[{"max-w":[et,e,"none","full","min","max","fit","prose",{screen:[qo]},qo]}],h:[{h:[et,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[et,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[et,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qo,$o]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",D0]}],"font-family":[{font:[ch]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",et]}],"line-clamp":[{"line-clamp":["none",Fu,D0]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qs,et]}],"list-image":[{"list-image":["none",et]}],"list-style-type":[{list:["none","disc","decimal",et]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...V(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qs,$o]}],"underline-offset":[{"underline-offset":["auto",Qs,et]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:N()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",et]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",et]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),h6]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",d6]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},p6]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...V(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:V()}],"border-color":[{border:[r]}],"border-color-x":[{"border-x":[r]}],"border-color-y":[{"border-y":[r]}],"border-color-s":[{"border-s":[r]}],"border-color-e":[{"border-e":[r]}],"border-color-t":[{"border-t":[r]}],"border-color-r":[{"border-r":[r]}],"border-color-b":[{"border-b":[r]}],"border-color-l":[{"border-l":[r]}],"divide-color":[{divide:[r]}],"outline-style":[{outline:["",...V()]}],"outline-offset":[{"outline-offset":[Qs,et]}],"outline-w":[{outline:[Qs,$o]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Qs,$o]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qo,m6]}],"shadow-color":[{shadow:[ch]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":z()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[i]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qo,et]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[i]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",et]}],duration:[{duration:ne()}],ease:[{ease:["linear","in","out","in-out",et]}],delay:[{delay:ne()}],animate:[{animate:["none","spin","ping","pulse","bounce",et]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[lh,et]}],"translate-x":[{"translate-x":[P]}],"translate-y":[{"translate-y":[P]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",et]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",et]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":N()}],"scroll-mx":[{"scroll-mx":N()}],"scroll-my":[{"scroll-my":N()}],"scroll-ms":[{"scroll-ms":N()}],"scroll-me":[{"scroll-me":N()}],"scroll-mt":[{"scroll-mt":N()}],"scroll-mr":[{"scroll-mr":N()}],"scroll-mb":[{"scroll-mb":N()}],"scroll-ml":[{"scroll-ml":N()}],"scroll-p":[{"scroll-p":N()}],"scroll-px":[{"scroll-px":N()}],"scroll-py":[{"scroll-py":N()}],"scroll-ps":[{"scroll-ps":N()}],"scroll-pe":[{"scroll-pe":N()}],"scroll-pt":[{"scroll-pt":N()}],"scroll-pr":[{"scroll-pr":N()}],"scroll-pb":[{"scroll-pb":N()}],"scroll-pl":[{"scroll-pl":N()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",et]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Qs,$o,D0]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},x6=t6(_6);function yt(...t){return x6(OL(t))}const w6=ZH,GL=M.forwardRef(({className:t,...e},n)=>x.jsx(PL,{ref:n,className:yt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));GL.displayName=PL.displayName;const b6=ry("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),$L=M.forwardRef(({className:t,variant:e,...n},i)=>x.jsx(AL,{ref:i,className:yt(b6({variant:e}),t),...n}));$L.displayName=AL.displayName;const S6=M.forwardRef(({className:t,...e},n)=>x.jsx(DL,{ref:n,className:yt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));S6.displayName=DL.displayName;const qL=M.forwardRef(({className:t,...e},n)=>x.jsx(IL,{ref:n,className:yt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:x.jsx(BW,{className:"h-4 w-4"})}));qL.displayName=IL.displayName;const XL=M.forwardRef(({className:t,...e},n)=>x.jsx(RL,{ref:n,className:yt("text-sm font-semibold",t),...e}));XL.displayName=RL.displayName;const KL=M.forwardRef(({className:t,...e},n)=>x.jsx(kL,{ref:n,className:yt("text-sm opacity-90",t),...e}));KL.displayName=kL.displayName;function E6(){const{toasts:t}=aL();return x.jsxs(w6,{children:[t.map(function({id:e,title:n,description:i,action:r,...s}){return x.jsxs($L,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(XL,{children:n}),i&&x.jsx(KL,{children:i})]}),r,x.jsx(qL,{})]},e)}),x.jsx(GL,{})]})}var vC=["light","dark"],T6="(prefers-color-scheme: dark)",M6=M.createContext(void 0),C6={setTheme:t=>{},themes:[]},P6=()=>{var t;return(t=M.useContext(M6))!=null?t:C6};M.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:i,enableColorScheme:r,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,d=r?vC.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(v,m=!1,g=!0)=>{let p=o?o[v]:v,_=m?v+"|| ''":`'${p}'`,y="";return r&&g&&!m&&vC.includes(v)&&(y+=`d.style.colorScheme = '${v}';`),n==="class"?m||p?y+=`c.add(${_})`:y+="null":p&&(y+=`d[s](n,${_})`),y},f=t?`!function(){${u}${h(t)}}()`:i?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${T6}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${c?"":"else{"+h(s,!1,!1)+"}"}${d}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(s,!1,!1)};}${d}}catch(t){}}();`;return M.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var A6=t=>{switch(t){case"success":return D6;case"info":return L6;case"warning":return I6;case"error":return O6;default:return null}},R6=Array(12).fill(0),k6=({visible:t,className:e})=>j.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},j.createElement("div",{className:"sonner-spinner"},R6.map((n,i)=>j.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),D6=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),I6=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L6=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),O6=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},j.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),N6=j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},j.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),j.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),U6=()=>{let[t,e]=j.useState(document.hidden);return j.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Tw=1,F6=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...i}=t,r=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Tw++,s=this.toasts.find(a=>a.id===r),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(r)&&this.dismissedToasts.delete(r),s?this.toasts=this.toasts.map(a=>a.id===r?(this.publish({...a,...t,id:r,title:n}),{...a,...t,id:r,dismissible:o,title:n}):a):this.addToast({title:n,...i,dismissible:o,id:r}),r},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let i=t instanceof Promise?t:t(),r=n!==void 0,s,o=i.then(async l=>{if(s=["resolve",l],j.isValidElement(l))r=!1,this.create({id:n,type:"default",message:l});else if(j6(l)&&!l.ok){r=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){r=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){r=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;r&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Tw++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ci=new F6,z6=(t,e)=>{let n=(e==null?void 0:e.id)||Tw++;return Ci.addToast({title:t,...e,id:n}),n},j6=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",B6=z6,V6=()=>Ci.toasts,H6=()=>Ci.getActiveToasts(),$t=Object.assign(B6,{success:Ci.success,info:Ci.info,warning:Ci.warning,error:Ci.error,custom:Ci.custom,message:Ci.message,promise:Ci.promise,dismiss:Ci.dismiss,loading:Ci.loading},{getHistory:V6,getToasts:H6});function W6(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",e==="top"&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}W6(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tm(t){return t.label!==void 0}var G6=3,$6="32px",q6="16px",yC=4e3,X6=356,K6=14,Y6=20,J6=200;function Vr(...t){return t.filter(Boolean).join(" ")}function Q6(t){let[e,n]=t.split("-"),i=[];return e&&i.push(e),n&&i.push(n),i}var Z6=t=>{var e,n,i,r,s,o,a,l,c,u,d;let{invert:h,toast:f,unstyled:v,interacting:m,setHeights:g,visibleToasts:p,heights:_,index:y,toasts:w,expanded:b,removeToast:S,defaultRichColors:E,closeButton:P,style:T,cancelButtonStyle:C,actionButtonStyle:R,className:N="",descriptionClassName:I="",duration:O,position:H,gap:V,loadingIcon:z,expandByDefault:D,classNames:B,icons:K,closeButtonAriaLabel:ne="Close toast",pauseWhenPageIsHidden:te}=t,[ye,pe]=j.useState(null),[Y,oe]=j.useState(null),[$,ce]=j.useState(!1),[we,ue]=j.useState(!1),[Ze,Xe]=j.useState(!1),[U,Ne]=j.useState(!1),[Se,Ue]=j.useState(!1),[Me,rt]=j.useState(0),[ve,Fe]=j.useState(0),ot=j.useRef(f.duration||O||yC),_t=j.useRef(null),L=j.useRef(null),A=y===0,F=y+1<=p,G=f.type,ie=f.dismissible!==!1,J=f.className||"",Ae=f.descriptionClassName||"",he=j.useMemo(()=>_.findIndex(ae=>ae.toastId===f.id)||0,[_,f.id]),ke=j.useMemo(()=>{var ae;return(ae=f.closeButton)!=null?ae:P},[f.closeButton,P]),Oe=j.useMemo(()=>f.duration||O||yC,[f.duration,O]),fe=j.useRef(0),be=j.useRef(0),Ve=j.useRef(0),Le=j.useRef(null),[Ee,Ke]=H.split("-"),W=j.useMemo(()=>_.reduce((ae,Ce,He)=>He>=he?ae:ae+Ce.height,0),[_,he]),me=U6(),xe=f.invert||h,Re=G==="loading";be.current=j.useMemo(()=>he*V+W,[he,W]),j.useEffect(()=>{ot.current=Oe},[Oe]),j.useEffect(()=>{ce(!0)},[]),j.useEffect(()=>{let ae=L.current;if(ae){let Ce=ae.getBoundingClientRect().height;return Fe(Ce),g(He=>[{toastId:f.id,height:Ce,position:f.position},...He]),()=>g(He=>He.filter(Je=>Je.toastId!==f.id))}},[g,f.id]),j.useLayoutEffect(()=>{if(!$)return;let ae=L.current,Ce=ae.style.height;ae.style.height="auto";let He=ae.getBoundingClientRect().height;ae.style.height=Ce,Fe(He),g(Je=>Je.find(an=>an.toastId===f.id)?Je.map(an=>an.toastId===f.id?{...an,height:He}:an):[{toastId:f.id,height:He,position:f.position},...Je])},[$,f.title,f.description,g,f.id]);let le=j.useCallback(()=>{ue(!0),rt(be.current),g(ae=>ae.filter(Ce=>Ce.toastId!==f.id)),setTimeout(()=>{S(f)},J6)},[f,S,g,be]);j.useEffect(()=>{if(f.promise&&G==="loading"||f.duration===1/0||f.type==="loading")return;let ae;return b||m||te&&me?(()=>{if(Ve.current<fe.current){let Ce=new Date().getTime()-fe.current;ot.current=ot.current-Ce}Ve.current=new Date().getTime()})():ot.current!==1/0&&(fe.current=new Date().getTime(),ae=setTimeout(()=>{var Ce;(Ce=f.onAutoClose)==null||Ce.call(f,f),le()},ot.current)),()=>clearTimeout(ae)},[b,m,f,G,te,me,le]),j.useEffect(()=>{f.delete&&le()},[le,f.delete]);function se(){var ae,Ce,He;return K!=null&&K.loading?j.createElement("div",{className:Vr(B==null?void 0:B.loader,(ae=f==null?void 0:f.classNames)==null?void 0:ae.loader,"sonner-loader"),"data-visible":G==="loading"},K.loading):z?j.createElement("div",{className:Vr(B==null?void 0:B.loader,(Ce=f==null?void 0:f.classNames)==null?void 0:Ce.loader,"sonner-loader"),"data-visible":G==="loading"},z):j.createElement(k6,{className:Vr(B==null?void 0:B.loader,(He=f==null?void 0:f.classNames)==null?void 0:He.loader),visible:G==="loading"})}return j.createElement("li",{tabIndex:0,ref:L,className:Vr(N,J,B==null?void 0:B.toast,(e=f==null?void 0:f.classNames)==null?void 0:e.toast,B==null?void 0:B.default,B==null?void 0:B[G],(n=f==null?void 0:f.classNames)==null?void 0:n[G]),"data-sonner-toast":"","data-rich-colors":(i=f.richColors)!=null?i:E,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":$,"data-promise":!!f.promise,"data-swiped":Se,"data-removed":we,"data-visible":F,"data-y-position":Ee,"data-x-position":Ke,"data-index":y,"data-front":A,"data-swiping":Ze,"data-dismissible":ie,"data-type":G,"data-invert":xe,"data-swipe-out":U,"data-swipe-direction":Y,"data-expanded":!!(b||D&&$),style:{"--index":y,"--toasts-before":y,"--z-index":w.length-y,"--offset":`${we?Me:be.current}px`,"--initial-height":D?"auto":`${ve}px`,...T,...f.style},onDragEnd:()=>{Xe(!1),pe(null),Le.current=null},onPointerDown:ae=>{Re||!ie||(_t.current=new Date,rt(be.current),ae.target.setPointerCapture(ae.pointerId),ae.target.tagName!=="BUTTON"&&(Xe(!0),Le.current={x:ae.clientX,y:ae.clientY}))},onPointerUp:()=>{var ae,Ce,He,Je;if(U||!ie)return;Le.current=null;let an=Number(((ae=L.current)==null?void 0:ae.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xn=Number(((Ce=L.current)==null?void 0:Ce.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),_s=new Date().getTime()-((He=_t.current)==null?void 0:He.getTime()),wn=ye==="x"?an:xn,pr=Math.abs(wn)/_s;if(Math.abs(wn)>=Y6||pr>.11){rt(be.current),(Je=f.onDismiss)==null||Je.call(f,f),oe(ye==="x"?an>0?"right":"left":xn>0?"down":"up"),le(),Ne(!0),Ue(!1);return}Xe(!1),pe(null)},onPointerMove:ae=>{var Ce,He,Je,an;if(!Le.current||!ie||((Ce=window.getSelection())==null?void 0:Ce.toString().length)>0)return;let xn=ae.clientY-Le.current.y,_s=ae.clientX-Le.current.x,wn=(He=t.swipeDirections)!=null?He:Q6(H);!ye&&(Math.abs(_s)>1||Math.abs(xn)>1)&&pe(Math.abs(_s)>Math.abs(xn)?"x":"y");let pr={x:0,y:0};ye==="y"?(wn.includes("top")||wn.includes("bottom"))&&(wn.includes("top")&&xn<0||wn.includes("bottom")&&xn>0)&&(pr.y=xn):ye==="x"&&(wn.includes("left")||wn.includes("right"))&&(wn.includes("left")&&_s<0||wn.includes("right")&&_s>0)&&(pr.x=_s),(Math.abs(pr.x)>0||Math.abs(pr.y)>0)&&Ue(!0),(Je=L.current)==null||Je.style.setProperty("--swipe-amount-x",`${pr.x}px`),(an=L.current)==null||an.style.setProperty("--swipe-amount-y",`${pr.y}px`)}},ke&&!f.jsx?j.createElement("button",{"aria-label":ne,"data-disabled":Re,"data-close-button":!0,onClick:Re||!ie?()=>{}:()=>{var ae;le(),(ae=f.onDismiss)==null||ae.call(f,f)},className:Vr(B==null?void 0:B.closeButton,(r=f==null?void 0:f.classNames)==null?void 0:r.closeButton)},(s=K==null?void 0:K.close)!=null?s:N6):null,f.jsx||M.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:j.createElement(j.Fragment,null,G||f.icon||f.promise?j.createElement("div",{"data-icon":"",className:Vr(B==null?void 0:B.icon,(o=f==null?void 0:f.classNames)==null?void 0:o.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||se():null,f.type!=="loading"?f.icon||(K==null?void 0:K[G])||A6(G):null):null,j.createElement("div",{"data-content":"",className:Vr(B==null?void 0:B.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},j.createElement("div",{"data-title":"",className:Vr(B==null?void 0:B.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?j.createElement("div",{"data-description":"",className:Vr(I,Ae,B==null?void 0:B.description,(c=f==null?void 0:f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),M.isValidElement(f.cancel)?f.cancel:f.cancel&&tm(f.cancel)?j.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||C,onClick:ae=>{var Ce,He;tm(f.cancel)&&ie&&((He=(Ce=f.cancel).onClick)==null||He.call(Ce,ae),le())},className:Vr(B==null?void 0:B.cancelButton,(u=f==null?void 0:f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,M.isValidElement(f.action)?f.action:f.action&&tm(f.action)?j.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:ae=>{var Ce,He;tm(f.action)&&((He=(Ce=f.action).onClick)==null||He.call(Ce,ae),!ae.defaultPrevented&&le())},className:Vr(B==null?void 0:B.actionButton,(d=f==null?void 0:f.classNames)==null?void 0:d.actionButton)},f.action.label):null))};function _C(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function eG(t,e){let n={};return[t,e].forEach((i,r)=>{let s=r===1,o=s?"--mobile-offset":"--offset",a=s?q6:$6;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof i=="number"||typeof i=="string"?l(i):typeof i=="object"?["top","right","bottom","left"].forEach(c=>{i[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof i[c]=="number"?`${i[c]}px`:i[c]}):l(a)}),n}var tG=M.forwardRef(function(t,e){let{invert:n,position:i="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:h,style:f,visibleToasts:v=G6,toastOptions:m,dir:g=_C(),gap:p=K6,loadingIcon:_,icons:y,containerAriaLabel:w="Notifications",pauseWhenPageIsHidden:b}=t,[S,E]=j.useState([]),P=j.useMemo(()=>Array.from(new Set([i].concat(S.filter(te=>te.position).map(te=>te.position)))),[S,i]),[T,C]=j.useState([]),[R,N]=j.useState(!1),[I,O]=j.useState(!1),[H,V]=j.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),z=j.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),B=j.useRef(null),K=j.useRef(!1),ne=j.useCallback(te=>{E(ye=>{var pe;return(pe=ye.find(Y=>Y.id===te.id))!=null&&pe.delete||Ci.dismiss(te.id),ye.filter(({id:Y})=>Y!==te.id)})},[]);return j.useEffect(()=>Ci.subscribe(te=>{if(te.dismiss){E(ye=>ye.map(pe=>pe.id===te.id?{...pe,delete:!0}:pe));return}setTimeout(()=>{hI.flushSync(()=>{E(ye=>{let pe=ye.findIndex(Y=>Y.id===te.id);return pe!==-1?[...ye.slice(0,pe),{...ye[pe],...te},...ye.slice(pe+1)]:[te,...ye]})})})}),[]),j.useEffect(()=>{if(u!=="system"){V(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?V("dark"):V("light")),typeof window>"u")return;let te=window.matchMedia("(prefers-color-scheme: dark)");try{te.addEventListener("change",({matches:ye})=>{V(ye?"dark":"light")})}catch{te.addListener(({matches:pe})=>{try{V(pe?"dark":"light")}catch(Y){console.error(Y)}})}},[u]),j.useEffect(()=>{S.length<=1&&N(!1)},[S]),j.useEffect(()=>{let te=ye=>{var pe,Y;r.every(oe=>ye[oe]||ye.code===oe)&&(N(!0),(pe=z.current)==null||pe.focus()),ye.code==="Escape"&&(document.activeElement===z.current||(Y=z.current)!=null&&Y.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",te),()=>document.removeEventListener("keydown",te)},[r]),j.useEffect(()=>{if(z.current)return()=>{B.current&&(B.current.focus({preventScroll:!0}),B.current=null,K.current=!1)}},[z.current]),j.createElement("section",{ref:e,"aria-label":`${w} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((te,ye)=>{var pe;let[Y,oe]=te.split("-");return S.length?j.createElement("ol",{key:te,dir:g==="auto"?_C():g,tabIndex:-1,ref:z,className:a,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Y,"data-lifted":R&&S.length>1&&!s,"data-x-position":oe,style:{"--front-toast-height":`${((pe=T[0])==null?void 0:pe.height)||0}px`,"--width":`${X6}px`,"--gap":`${p}px`,...f,...eG(l,c)},onBlur:$=>{K.current&&!$.currentTarget.contains($.relatedTarget)&&(K.current=!1,B.current&&(B.current.focus({preventScroll:!0}),B.current=null))},onFocus:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||K.current||(K.current=!0,B.current=$.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{I||N(!1)},onDragEnd:()=>N(!1),onPointerDown:$=>{$.target instanceof HTMLElement&&$.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter($=>!$.position&&ye===0||$.position===te).map(($,ce)=>{var we,ue;return j.createElement(Z6,{key:$.id,icons:y,index:ce,toast:$,defaultRichColors:d,duration:(we=m==null?void 0:m.duration)!=null?we:h,className:m==null?void 0:m.className,descriptionClassName:m==null?void 0:m.descriptionClassName,invert:n,visibleToasts:v,closeButton:(ue=m==null?void 0:m.closeButton)!=null?ue:o,interacting:I,position:te,style:m==null?void 0:m.style,unstyled:m==null?void 0:m.unstyled,classNames:m==null?void 0:m.classNames,cancelButtonStyle:m==null?void 0:m.cancelButtonStyle,actionButtonStyle:m==null?void 0:m.actionButtonStyle,removeToast:ne,toasts:S.filter(Ze=>Ze.position==$.position),heights:T.filter(Ze=>Ze.position==$.position),setHeights:C,expandByDefault:s,gap:p,loadingIcon:_,expanded:R,pauseWhenPageIsHidden:b,swipeDirections:t.swipeDirections})})):null}))});const nG=({...t})=>{const{theme:e="system"}=P6();return x.jsx(tG,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})},iG=["top","right","bottom","left"],Xa=Math.min,Ji=Math.max,Qg=Math.round,nm=Math.floor,Bs=t=>({x:t,y:t}),rG={left:"right",right:"left",bottom:"top",top:"bottom"},sG={start:"end",end:"start"};function Mw(t,e,n){return Ji(t,Xa(e,n))}function Do(t,e){return typeof t=="function"?t(e):t}function Io(t){return t.split("-")[0]}function Vd(t){return t.split("-")[1]}function DE(t){return t==="x"?"y":"x"}function IE(t){return t==="y"?"height":"width"}const oG=new Set(["top","bottom"]);function Ds(t){return oG.has(Io(t))?"y":"x"}function LE(t){return DE(Ds(t))}function aG(t,e,n){n===void 0&&(n=!1);const i=Vd(t),r=LE(t),s=IE(r);let o=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Zg(o)),[o,Zg(o)]}function lG(t){const e=Zg(t);return[Cw(t),e,Cw(e)]}function Cw(t){return t.replace(/start|end/g,e=>sG[e])}const xC=["left","right"],wC=["right","left"],cG=["top","bottom"],uG=["bottom","top"];function dG(t,e,n){switch(t){case"top":case"bottom":return n?e?wC:xC:e?xC:wC;case"left":case"right":return e?cG:uG;default:return[]}}function hG(t,e,n,i){const r=Vd(t);let s=dG(Io(t),n==="start",i);return r&&(s=s.map(o=>o+"-"+r),e&&(s=s.concat(s.map(Cw)))),s}function Zg(t){return t.replace(/left|right|bottom|top/g,e=>rG[e])}function fG(t){return{top:0,right:0,bottom:0,left:0,...t}}function YL(t){return typeof t!="number"?fG(t):{top:t,right:t,bottom:t,left:t}}function ev(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function bC(t,e,n){let{reference:i,floating:r}=t;const s=Ds(e),o=LE(e),a=IE(o),l=Io(e),c=s==="y",u=i.x+i.width/2-r.width/2,d=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(l){case"top":f={x:u,y:i.y-r.height};break;case"bottom":f={x:u,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:d};break;case"left":f={x:i.x-r.width,y:d};break;default:f={x:i.x,y:i.y}}switch(Vd(e)){case"start":f[o]-=h*(n&&c?-1:1);break;case"end":f[o]+=h*(n&&c?-1:1);break}return f}const pG=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:r}),{x:u,y:d}=bC(c,i,l),h=i,f={},v=0;for(let m=0;m<a.length;m++){const{name:g,fn:p}=a[m],{x:_,y,data:w,reset:b}=await p({x:u,y:d,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:c,platform:o,elements:{reference:t,floating:e}});u=_??u,d=y??d,f={...f,[g]:{...f[g],...w}},b&&v<=50&&(v++,typeof b=="object"&&(b.placement&&(h=b.placement),b.rects&&(c=b.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:r}):b.rects),{x:u,y:d}=bC(c,h,l)),m=-1)}return{x:u,y:d,placement:h,strategy:r,middlewareData:f}};async function Ef(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:h=!1,padding:f=0}=Do(e,t),v=YL(f),g=a[h?d==="floating"?"reference":"floating":d],p=ev(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),_=d==="floating"?{x:i,y:r,width:o.floating.width,height:o.floating.height}:o.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},b=ev(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:y,strategy:l}):_);return{top:(p.top-b.top+v.top)/w.y,bottom:(b.bottom-p.bottom+v.bottom)/w.y,left:(p.left-b.left+v.left)/w.x,right:(b.right-p.right+v.right)/w.x}}const mG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Do(t,e)||{};if(c==null)return{};const d=YL(u),h={x:n,y:i},f=LE(r),v=IE(f),m=await o.getDimensions(c),g=f==="y",p=g?"top":"left",_=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=s.reference[v]+s.reference[f]-h[f]-s.floating[v],b=h[f]-s.reference[f],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let E=S?S[y]:0;(!E||!await(o.isElement==null?void 0:o.isElement(S)))&&(E=a.floating[y]||s.floating[v]);const P=w/2-b/2,T=E/2-m[v]/2-1,C=Xa(d[p],T),R=Xa(d[_],T),N=C,I=E-m[v]-R,O=E/2-m[v]/2+P,H=Mw(N,O,I),V=!l.arrow&&Vd(r)!=null&&O!==H&&s.reference[v]/2-(O<N?C:R)-m[v]/2<0,z=V?O<N?O-N:O-I:0;return{[f]:h[f]+z,data:{[f]:H,centerOffset:O-H-z,...V&&{alignmentOffset:z}},reset:V}}}),gG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:m=!0,...g}=Do(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=Io(r),_=Ds(a),y=Io(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),b=h||(y||!m?[Zg(a)]:lG(a)),S=v!=="none";!h&&S&&b.push(...hG(a,m,v,w));const E=[a,...b],P=await Ef(e,g),T=[];let C=((i=s.flip)==null?void 0:i.overflows)||[];if(u&&T.push(P[p]),d){const O=aG(r,o,w);T.push(P[O[0]],P[O[1]])}if(C=[...C,{placement:r,overflows:T}],!T.every(O=>O<=0)){var R,N;const O=(((R=s.flip)==null?void 0:R.index)||0)+1,H=E[O];if(H&&(!(d==="alignment"?_!==Ds(H):!1)||C.every(D=>D.overflows[0]>0&&Ds(D.placement)===_)))return{data:{index:O,overflows:C},reset:{placement:H}};let V=(N=C.filter(z=>z.overflows[0]<=0).sort((z,D)=>z.overflows[1]-D.overflows[1])[0])==null?void 0:N.placement;if(!V)switch(f){case"bestFit":{var I;const z=(I=C.filter(D=>{if(S){const B=Ds(D.placement);return B===_||B==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(B=>B>0).reduce((B,K)=>B+K,0)]).sort((D,B)=>D[1]-B[1])[0])==null?void 0:I[0];z&&(V=z);break}case"initialPlacement":V=a;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function SC(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function EC(t){return iG.some(e=>t[e]>=0)}const vG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...r}=Do(t,e);switch(i){case"referenceHidden":{const s=await Ef(e,{...r,elementContext:"reference"}),o=SC(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:EC(o)}}}case"escaped":{const s=await Ef(e,{...r,altBoundary:!0}),o=SC(s,n.floating);return{data:{escapedOffsets:o,escaped:EC(o)}}}default:return{}}}}},JL=new Set(["left","top"]);async function yG(t,e){const{placement:n,platform:i,elements:r}=t,s=await(i.isRTL==null?void 0:i.isRTL(r.floating)),o=Io(n),a=Vd(n),l=Ds(n)==="y",c=JL.has(o)?-1:1,u=s&&l?-1:1,d=Do(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(f=a==="end"?v*-1:v),l?{x:f*u,y:h*c}:{x:h*c,y:f*u}}const _G=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:s,placement:o,middlewareData:a}=e,l=await yG(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(i=a.arrow)!=null&&i.alignmentOffset?{}:{x:r+l.x,y:s+l.y,data:{...l,placement:o}}}}},xG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:g=>{let{x:p,y:_}=g;return{x:p,y:_}}},...l}=Do(t,e),c={x:n,y:i},u=await Ef(e,l),d=Ds(Io(r)),h=DE(d);let f=c[h],v=c[d];if(s){const g=h==="y"?"top":"left",p=h==="y"?"bottom":"right",_=f+u[g],y=f-u[p];f=Mw(_,f,y)}if(o){const g=d==="y"?"top":"left",p=d==="y"?"bottom":"right",_=v+u[g],y=v-u[p];v=Mw(_,v,y)}const m=a.fn({...e,[h]:f,[d]:v});return{...m,data:{x:m.x-n,y:m.y-i,enabled:{[h]:s,[d]:o}}}}}},wG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:r,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Do(t,e),u={x:n,y:i},d=Ds(r),h=DE(d);let f=u[h],v=u[d];const m=Do(a,e),g=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const y=h==="y"?"height":"width",w=s.reference[h]-s.floating[y]+g.mainAxis,b=s.reference[h]+s.reference[y]-g.mainAxis;f<w?f=w:f>b&&(f=b)}if(c){var p,_;const y=h==="y"?"width":"height",w=JL.has(Io(r)),b=s.reference[d]-s.floating[y]+(w&&((p=o.offset)==null?void 0:p[d])||0)+(w?0:g.crossAxis),S=s.reference[d]+s.reference[y]+(w?0:((_=o.offset)==null?void 0:_[d])||0)-(w?g.crossAxis:0);v<b?v=b:v>S&&(v=S)}return{[h]:f,[d]:v}}}},bG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:r,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Do(t,e),u=await Ef(e,c),d=Io(r),h=Vd(r),f=Ds(r)==="y",{width:v,height:m}=s.floating;let g,p;d==="top"||d==="bottom"?(g=d,p=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,g=h==="end"?"top":"bottom");const _=m-u.top-u.bottom,y=v-u.left-u.right,w=Xa(m-u[g],_),b=Xa(v-u[p],y),S=!e.middlewareData.shift;let E=w,P=b;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=y),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(E=_),S&&!h){const C=Ji(u.left,0),R=Ji(u.right,0),N=Ji(u.top,0),I=Ji(u.bottom,0);f?P=v-2*(C!==0||R!==0?C+R:Ji(u.left,u.right)):E=m-2*(N!==0||I!==0?N+I:Ji(u.top,u.bottom))}await l({...e,availableWidth:P,availableHeight:E});const T=await o.getDimensions(a.floating);return v!==T.width||m!==T.height?{reset:{rects:!0}}:{}}}};function sy(){return typeof window<"u"}function Hd(t){return QL(t)?(t.nodeName||"").toLowerCase():"#document"}function ir(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ks(t){var e;return(e=(QL(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function QL(t){return sy()?t instanceof Node||t instanceof ir(t).Node:!1}function gs(t){return sy()?t instanceof Element||t instanceof ir(t).Element:!1}function $s(t){return sy()?t instanceof HTMLElement||t instanceof ir(t).HTMLElement:!1}function TC(t){return!sy()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ir(t).ShadowRoot}const SG=new Set(["inline","contents"]);function up(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!SG.has(r)}const EG=new Set(["table","td","th"]);function TG(t){return EG.has(Hd(t))}const MG=[":popover-open",":modal"];function oy(t){return MG.some(e=>{try{return t.matches(e)}catch{return!1}})}const CG=["transform","translate","scale","rotate","perspective"],PG=["transform","translate","scale","rotate","perspective","filter"],AG=["paint","layout","strict","content"];function OE(t){const e=NE(),n=gs(t)?vs(t):t;return CG.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||PG.some(i=>(n.willChange||"").includes(i))||AG.some(i=>(n.contain||"").includes(i))}function RG(t){let e=Ka(t);for(;$s(e)&&!md(e);){if(OE(e))return e;if(oy(e))return null;e=Ka(e)}return null}function NE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const kG=new Set(["html","body","#document"]);function md(t){return kG.has(Hd(t))}function vs(t){return ir(t).getComputedStyle(t)}function ay(t){return gs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ka(t){if(Hd(t)==="html")return t;const e=t.assignedSlot||t.parentNode||TC(t)&&t.host||Ks(t);return TC(e)?e.host:e}function ZL(t){const e=Ka(t);return md(e)?t.ownerDocument?t.ownerDocument.body:t.body:$s(e)&&up(e)?e:ZL(e)}function Tf(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=ZL(t),s=r===((i=t.ownerDocument)==null?void 0:i.body),o=ir(r);if(s){const a=Pw(o);return e.concat(o,o.visualViewport||[],up(r)?r:[],a&&n?Tf(a):[])}return e.concat(r,Tf(r,[],n))}function Pw(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function eO(t){const e=vs(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=$s(t),s=r?t.offsetWidth:n,o=r?t.offsetHeight:i,a=Qg(n)!==s||Qg(i)!==o;return a&&(n=s,i=o),{width:n,height:i,$:a}}function UE(t){return gs(t)?t:t.contextElement}function zu(t){const e=UE(t);if(!$s(e))return Bs(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:s}=eO(e);let o=(s?Qg(n.width):n.width)/i,a=(s?Qg(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const DG=Bs(0);function tO(t){const e=ir(t);return!NE()||!e.visualViewport?DG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function IG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ir(t)?!1:e}function _c(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=UE(t);let o=Bs(1);e&&(i?gs(i)&&(o=zu(i)):o=zu(t));const a=IG(s,n,i)?tO(s):Bs(0);let l=(r.left+a.x)/o.x,c=(r.top+a.y)/o.y,u=r.width/o.x,d=r.height/o.y;if(s){const h=ir(s),f=i&&gs(i)?ir(i):i;let v=h,m=Pw(v);for(;m&&i&&f!==v;){const g=zu(m),p=m.getBoundingClientRect(),_=vs(m),y=p.left+(m.clientLeft+parseFloat(_.paddingLeft))*g.x,w=p.top+(m.clientTop+parseFloat(_.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,d*=g.y,l+=y,c+=w,v=ir(m),m=Pw(v)}}return ev({width:u,height:d,x:l,y:c})}function FE(t,e){const n=ay(t).scrollLeft;return e?e.left+n:_c(Ks(t)).left+n}function nO(t,e,n){n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-(n?0:FE(t,i)),s=i.top+e.scrollTop;return{x:r,y:s}}function LG(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const s=r==="fixed",o=Ks(i),a=e?oy(e.floating):!1;if(i===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Bs(1);const u=Bs(0),d=$s(i);if((d||!d&&!s)&&((Hd(i)!=="body"||up(o))&&(l=ay(i)),$s(i))){const f=_c(i);c=zu(i),u.x=f.x+i.clientLeft,u.y=f.y+i.clientTop}const h=o&&!d&&!s?nO(o,l,!0):Bs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function OG(t){return Array.from(t.getClientRects())}function NG(t){const e=Ks(t),n=ay(t),i=t.ownerDocument.body,r=Ji(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=Ji(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let o=-n.scrollLeft+FE(t);const a=-n.scrollTop;return vs(i).direction==="rtl"&&(o+=Ji(e.clientWidth,i.clientWidth)-r),{width:r,height:s,x:o,y:a}}function UG(t,e){const n=ir(t),i=Ks(t),r=n.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(r){s=r.width,o=r.height;const c=NE();(!c||c&&e==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:s,height:o,x:a,y:l}}const FG=new Set(["absolute","fixed"]);function zG(t,e){const n=_c(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,s=$s(t)?zu(t):Bs(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=r*s.x,c=i*s.y;return{width:o,height:a,x:l,y:c}}function MC(t,e,n){let i;if(e==="viewport")i=UG(t,n);else if(e==="document")i=NG(Ks(t));else if(gs(e))i=zG(e,n);else{const r=tO(t);i={x:e.x-r.x,y:e.y-r.y,width:e.width,height:e.height}}return ev(i)}function iO(t,e){const n=Ka(t);return n===e||!gs(n)||md(n)?!1:vs(n).position==="fixed"||iO(n,e)}function jG(t,e){const n=e.get(t);if(n)return n;let i=Tf(t,[],!1).filter(a=>gs(a)&&Hd(a)!=="body"),r=null;const s=vs(t).position==="fixed";let o=s?Ka(t):t;for(;gs(o)&&!md(o);){const a=vs(o),l=OE(o);!l&&a.position==="fixed"&&(r=null),(s?!l&&!r:!l&&a.position==="static"&&!!r&&FG.has(r.position)||up(o)&&!l&&iO(t,o))?i=i.filter(u=>u!==o):r=a,o=Ka(o)}return e.set(t,i),i}function BG(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[...n==="clippingAncestors"?oy(e)?[]:jG(e,this._c):[].concat(n),i],a=o[0],l=o.reduce((c,u)=>{const d=MC(e,u,r);return c.top=Ji(d.top,c.top),c.right=Xa(d.right,c.right),c.bottom=Xa(d.bottom,c.bottom),c.left=Ji(d.left,c.left),c},MC(e,a,r));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function VG(t){const{width:e,height:n}=eO(t);return{width:e,height:n}}function HG(t,e,n){const i=$s(e),r=Ks(e),s=n==="fixed",o=_c(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Bs(0);function c(){l.x=FE(r)}if(i||!i&&!s)if((Hd(e)!=="body"||up(r))&&(a=ay(e)),i){const f=_c(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else r&&c();s&&!i&&r&&c();const u=r&&!i&&!s?nO(r,a):Bs(0),d=o.left+a.scrollLeft-l.x-u.x,h=o.top+a.scrollTop-l.y-u.y;return{x:d,y:h,width:o.width,height:o.height}}function I0(t){return vs(t).position==="static"}function CC(t,e){if(!$s(t)||vs(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ks(t)===n&&(n=n.ownerDocument.body),n}function rO(t,e){const n=ir(t);if(oy(t))return n;if(!$s(t)){let r=Ka(t);for(;r&&!md(r);){if(gs(r)&&!I0(r))return r;r=Ka(r)}return n}let i=CC(t,e);for(;i&&TG(i)&&I0(i);)i=CC(i,e);return i&&md(i)&&I0(i)&&!OE(i)?n:i||RG(t)||n}const WG=async function(t){const e=this.getOffsetParent||rO,n=this.getDimensions,i=await n(t.floating);return{reference:HG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function GG(t){return vs(t).direction==="rtl"}const $G={convertOffsetParentRelativeRectToViewportRelativeRect:LG,getDocumentElement:Ks,getClippingRect:BG,getOffsetParent:rO,getElementRects:WG,getClientRects:OG,getDimensions:VG,getScale:zu,isElement:gs,isRTL:GG};function sO(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qG(t,e){let n=null,i;const r=Ks(t);function s(){var a;clearTimeout(i),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:h,height:f}=c;if(a||e(),!h||!f)return;const v=nm(d),m=nm(r.clientWidth-(u+h)),g=nm(r.clientHeight-(d+f)),p=nm(u),y={rootMargin:-v+"px "+-m+"px "+-g+"px "+-p+"px",threshold:Ji(0,Xa(1,l))||1};let w=!0;function b(S){const E=S[0].intersectionRatio;if(E!==l){if(!w)return o();E?o(!1,E):i=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!sO(c,t.getBoundingClientRect())&&o(),w=!1}try{n=new IntersectionObserver(b,{...y,root:r.ownerDocument})}catch{n=new IntersectionObserver(b,y)}n.observe(t)}return o(!0),s}function XG(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=i,c=UE(t),u=r||s?[...c?Tf(c):[],...Tf(e)]:[];u.forEach(p=>{r&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?qG(c,n):null;let h=-1,f=null;o&&(f=new ResizeObserver(p=>{let[_]=p;_&&_.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=f)==null||y.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let v,m=l?_c(t):null;l&&g();function g(){const p=_c(t);m&&!sO(m,p)&&n(),m=p,v=requestAnimationFrame(g)}return n(),()=>{var p;u.forEach(_=>{r&&_.removeEventListener("scroll",n),s&&_.removeEventListener("resize",n)}),d==null||d(),(p=f)==null||p.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const KG=_G,YG=xG,JG=gG,QG=bG,ZG=vG,PC=mG,e8=wG,t8=(t,e,n)=>{const i=new Map,r={platform:$G,...n},s={...r.platform,_c:i};return pG(t,e,{...r,platform:s})};var n8=typeof document<"u",i8=function(){},ag=n8?M.useLayoutEffect:i8;function tv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,r;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!tv(t[i],e[i]))return!1;return!0}if(r=Object.keys(t),n=r.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,r[i]))return!1;for(i=n;i--!==0;){const s=r[i];if(!(s==="_owner"&&t.$$typeof)&&!tv(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function oO(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AC(t,e){const n=oO(t);return Math.round(e*n)/n}function L0(t){const e=M.useRef(t);return ag(()=>{e.current=t}),e}function r8(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:r,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,d]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,f]=M.useState(i);tv(h,i)||f(i);const[v,m]=M.useState(null),[g,p]=M.useState(null),_=M.useCallback(D=>{D!==S.current&&(S.current=D,m(D))},[]),y=M.useCallback(D=>{D!==E.current&&(E.current=D,p(D))},[]),w=s||v,b=o||g,S=M.useRef(null),E=M.useRef(null),P=M.useRef(u),T=l!=null,C=L0(l),R=L0(r),N=L0(c),I=M.useCallback(()=>{if(!S.current||!E.current)return;const D={placement:e,strategy:n,middleware:h};R.current&&(D.platform=R.current),t8(S.current,E.current,D).then(B=>{const K={...B,isPositioned:N.current!==!1};O.current&&!tv(P.current,K)&&(P.current=K,jd.flushSync(()=>{d(K)}))})},[h,e,n,R,N]);ag(()=>{c===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,d(D=>({...D,isPositioned:!1})))},[c]);const O=M.useRef(!1);ag(()=>(O.current=!0,()=>{O.current=!1}),[]),ag(()=>{if(w&&(S.current=w),b&&(E.current=b),w&&b){if(C.current)return C.current(w,b,I);I()}},[w,b,I,C,T]);const H=M.useMemo(()=>({reference:S,floating:E,setReference:_,setFloating:y}),[_,y]),V=M.useMemo(()=>({reference:w,floating:b}),[w,b]),z=M.useMemo(()=>{const D={position:n,left:0,top:0};if(!V.floating)return D;const B=AC(V.floating,u.x),K=AC(V.floating,u.y);return a?{...D,transform:"translate("+B+"px, "+K+"px)",...oO(V.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:K}},[n,a,V.floating,u.x,u.y]);return M.useMemo(()=>({...u,update:I,refs:H,elements:V,floatingStyles:z}),[u,I,H,V,z])}const s8=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:r}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?PC({element:i.current,padding:r}).fn(n):{}:i?PC({element:i,padding:r}).fn(n):{}}}},o8=(t,e)=>({...KG(t),options:[t,e]}),a8=(t,e)=>({...YG(t),options:[t,e]}),l8=(t,e)=>({...e8(t),options:[t,e]}),c8=(t,e)=>({...JG(t),options:[t,e]}),u8=(t,e)=>({...QG(t),options:[t,e]}),d8=(t,e)=>({...ZG(t),options:[t,e]}),h8=(t,e)=>({...s8(t),options:[t,e]});var f8="Arrow",aO=M.forwardRef((t,e)=>{const{children:n,width:i=10,height:r=5,...s}=t;return x.jsx(Si.svg,{...s,ref:e,width:i,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});aO.displayName=f8;var p8=aO;function m8(t){const[e,n]=M.useState(void 0);return qa(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const i=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const s=r[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return i.observe(t,{box:"border-box"}),()=>i.unobserve(t)}else n(void 0)},[t]),e}var lO="Popper",[cO,uO]=ty(lO),[Dfe,dO]=cO(lO),hO="PopperAnchor",fO=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:i,...r}=t,s=dO(hO,n),o=M.useRef(null),a=ms(e,o);return M.useEffect(()=>{s.onAnchorChange((i==null?void 0:i.current)||o.current)}),i?null:x.jsx(Si.div,{...r,ref:a})});fO.displayName=hO;var zE="PopperContent",[g8,v8]=cO(zE),pO=M.forwardRef((t,e)=>{var $,ce,we,ue,Ze,Xe;const{__scopePopper:n,side:i="bottom",sideOffset:r=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:v,...m}=t,g=dO(zE,n),[p,_]=M.useState(null),y=ms(e,U=>_(U)),[w,b]=M.useState(null),S=m8(w),E=(S==null?void 0:S.width)??0,P=(S==null?void 0:S.height)??0,T=i+(s!=="center"?"-"+s:""),C=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],N=R.length>0,I={padding:C,boundary:R.filter(_8),altBoundary:N},{refs:O,floatingStyles:H,placement:V,isPositioned:z,middlewareData:D}=r8({strategy:"fixed",placement:T,whileElementsMounted:(...U)=>XG(...U,{animationFrame:f==="always"}),elements:{reference:g.anchor},middleware:[o8({mainAxis:r+P,alignmentAxis:o}),l&&a8({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?l8():void 0,...I}),l&&c8({...I}),u8({...I,apply:({elements:U,rects:Ne,availableWidth:Se,availableHeight:Ue})=>{const{width:Me,height:rt}=Ne.reference,ve=U.floating.style;ve.setProperty("--radix-popper-available-width",`${Se}px`),ve.setProperty("--radix-popper-available-height",`${Ue}px`),ve.setProperty("--radix-popper-anchor-width",`${Me}px`),ve.setProperty("--radix-popper-anchor-height",`${rt}px`)}}),w&&h8({element:w,padding:a}),x8({arrowWidth:E,arrowHeight:P}),h&&d8({strategy:"referenceHidden",...I})]}),[B,K]=vO(V),ne=$a(v);qa(()=>{z&&(ne==null||ne())},[z,ne]);const te=($=D.arrow)==null?void 0:$.x,ye=(ce=D.arrow)==null?void 0:ce.y,pe=((we=D.arrow)==null?void 0:we.centerOffset)!==0,[Y,oe]=M.useState();return qa(()=>{p&&oe(window.getComputedStyle(p).zIndex)},[p]),x.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:z?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Y,"--radix-popper-transform-origin":[(ue=D.transformOrigin)==null?void 0:ue.x,(Ze=D.transformOrigin)==null?void 0:Ze.y].join(" "),...((Xe=D.hide)==null?void 0:Xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:x.jsx(g8,{scope:n,placedSide:B,onArrowChange:b,arrowX:te,arrowY:ye,shouldHideArrow:pe,children:x.jsx(Si.div,{"data-side":B,"data-align":K,...m,ref:y,style:{...m.style,animation:z?void 0:"none"}})})})});pO.displayName=zE;var mO="PopperArrow",y8={top:"bottom",right:"left",bottom:"top",left:"right"},gO=M.forwardRef(function(e,n){const{__scopePopper:i,...r}=e,s=v8(mO,i),o=y8[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(p8,{...r,ref:n,style:{...r.style,display:"block"}})})});gO.displayName=mO;function _8(t){return t!==null}var x8=t=>({name:"transformOrigin",options:t,fn(e){var g,p,_;const{placement:n,rects:i,middlewareData:r}=e,o=((g=r.arrow)==null?void 0:g.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=vO(n),d={start:"0%",center:"50%",end:"100%"}[u],h=(((p=r.arrow)==null?void 0:p.x)??0)+a/2,f=(((_=r.arrow)==null?void 0:_.y)??0)+l/2;let v="",m="";return c==="bottom"?(v=o?d:`${h}px`,m=`${-l}px`):c==="top"?(v=o?d:`${h}px`,m=`${i.floating.height+l}px`):c==="right"?(v=`${-l}px`,m=o?d:`${f}px`):c==="left"&&(v=`${i.floating.width+l}px`,m=o?d:`${f}px`),{data:{x:v,y:m}}}});function vO(t){const[e,n="center"]=t.split("-");return[e,n]}var w8=fO,b8=pO,S8=gO,[ly,Ife]=ty("Tooltip",[uO]),jE=uO(),yO="TooltipProvider",E8=700,RC="tooltip.open",[T8,_O]=ly(yO),xO=t=>{const{__scopeTooltip:e,delayDuration:n=E8,skipDelayDuration:i=300,disableHoverableContent:r=!1,children:s}=t,o=M.useRef(!0),a=M.useRef(!1),l=M.useRef(0);return M.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(T8,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,i)},[i]),isPointerInTransitRef:a,onPointerInTransitChange:M.useCallback(c=>{a.current=c},[]),disableHoverableContent:r,children:s})};xO.displayName=yO;var wO="Tooltip",[Lfe,cy]=ly(wO),Aw="TooltipTrigger",M8=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=cy(Aw,n),s=_O(Aw,n),o=jE(n),a=M.useRef(null),l=ms(e,a,r.onTriggerChange),c=M.useRef(!1),u=M.useRef(!1),d=M.useCallback(()=>c.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),x.jsx(w8,{asChild:!0,...o,children:x.jsx(Si.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...i,ref:l,onPointerMove:Mn(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(r.onTriggerEnter(),u.current=!0)}),onPointerLeave:Mn(t.onPointerLeave,()=>{r.onTriggerLeave(),u.current=!1}),onPointerDown:Mn(t.onPointerDown,()=>{r.open&&r.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Mn(t.onFocus,()=>{c.current||r.onOpen()}),onBlur:Mn(t.onBlur,r.onClose),onClick:Mn(t.onClick,r.onClose)})})});M8.displayName=Aw;var C8="TooltipPortal",[Ofe,P8]=ly(C8,{forceMount:void 0}),gd="TooltipContent",bO=M.forwardRef((t,e)=>{const n=P8(gd,t.__scopeTooltip),{forceMount:i=n.forceMount,side:r="top",...s}=t,o=cy(gd,t.__scopeTooltip);return x.jsx(CE,{present:i||o.open,children:o.disableHoverableContent?x.jsx(SO,{side:r,...s,ref:e}):x.jsx(A8,{side:r,...s,ref:e})})}),A8=M.forwardRef((t,e)=>{const n=cy(gd,t.__scopeTooltip),i=_O(gd,t.__scopeTooltip),r=M.useRef(null),s=ms(e,r),[o,a]=M.useState(null),{trigger:l,onClose:c}=n,u=r.current,{onPointerInTransitChange:d}=i,h=M.useCallback(()=>{a(null),d(!1)},[d]),f=M.useCallback((v,m)=>{const g=v.currentTarget,p={x:v.clientX,y:v.clientY},_=L8(p,g.getBoundingClientRect()),y=O8(p,_),w=N8(m.getBoundingClientRect()),b=F8([...y,...w]);a(b),d(!0)},[d]);return M.useEffect(()=>()=>h(),[h]),M.useEffect(()=>{if(l&&u){const v=g=>f(g,u),m=g=>f(g,l);return l.addEventListener("pointerleave",v),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",v),u.removeEventListener("pointerleave",m)}}},[l,u,f,h]),M.useEffect(()=>{if(o){const v=m=>{const g=m.target,p={x:m.clientX,y:m.clientY},_=(l==null?void 0:l.contains(g))||(u==null?void 0:u.contains(g)),y=!U8(p,o);_?h():y&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,u,o,c,h]),x.jsx(SO,{...t,ref:s})}),[R8,k8]=ly(wO,{isInside:!1}),D8=uH("TooltipContent"),SO=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:i,"aria-label":r,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=cy(gd,n),c=jE(n),{onClose:u}=l;return M.useEffect(()=>(document.addEventListener(RC,u),()=>document.removeEventListener(RC,u)),[u]),M.useEffect(()=>{if(l.trigger){const d=h=>{const f=h.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),x.jsx(ME,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:x.jsxs(b8,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(D8,{children:i}),x.jsx(R8,{scope:n,isInside:!0,children:x.jsx(OH,{id:l.contentId,role:"tooltip",children:r||i})})]})})});bO.displayName=gd;var EO="TooltipArrow",I8=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...i}=t,r=jE(n);return k8(EO,n).isInside?null:x.jsx(S8,{...r,...i,ref:e})});I8.displayName=EO;function L8(t,e){const n=Math.abs(e.top-t.y),i=Math.abs(e.bottom-t.y),r=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw new Error("unreachable")}}function O8(t,e,n=5){const i=[];switch(e){case"top":i.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":i.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":i.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":i.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return i}function N8(t){const{top:e,right:n,bottom:i,left:r}=t;return[{x:r,y:e},{x:n,y:e},{x:n,y:i},{x:r,y:i}]}function U8(t,e){const{x:n,y:i}=t;let r=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,d=l.x,h=l.y;u>i!=h>i&&n<(d-c)*(i-u)/(h-u)+c&&(r=!r)}return r}function F8(t){const e=t.slice();return e.sort((n,i)=>n.x<i.x?-1:n.x>i.x?1:n.y<i.y?-1:n.y>i.y?1:0),z8(e)}function z8(t){if(t.length<=1)return t.slice();const e=[];for(let i=0;i<t.length;i++){const r=t[i];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))e.pop();else break}e.push(r)}e.pop();const n=[];for(let i=t.length-1;i>=0;i--){const r=t[i];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(r.y-o.y)>=(s.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var j8=xO,TO=bO;const B8=j8,V8=M.forwardRef(({className:t,sideOffset:e=4,...n},i)=>x.jsx(TO,{ref:i,sideOffset:e,className:yt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));V8.displayName=TO.displayName;var uy=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},dy=typeof window>"u"||"Deno"in globalThis;function Kr(){}function H8(t,e){return typeof t=="function"?t(e):t}function W8(t){return typeof t=="number"&&t>=0&&t!==1/0}function G8(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Rw(t,e){return typeof t=="function"?t(e):t}function $8(t,e){return typeof t=="function"?t(e):t}function kC(t,e){const{type:n="all",exact:i,fetchStatus:r,predicate:s,queryKey:o,stale:a}=t;if(o){if(i){if(e.queryHash!==BE(o,e.options))return!1}else if(!Cf(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||r&&r!==e.state.fetchStatus||s&&!s(e))}function DC(t,e){const{exact:n,status:i,predicate:r,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Mf(e.options.mutationKey)!==Mf(s))return!1}else if(!Cf(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||r&&!r(e))}function BE(t,e){return((e==null?void 0:e.queryKeyHashFn)||Mf)(t)}function Mf(t){return JSON.stringify(t,(e,n)=>kw(n)?Object.keys(n).sort().reduce((i,r)=>(i[r]=n[r],i),{}):n)}function Cf(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Cf(t[n],e[n])):!1}function MO(t,e){if(t===e)return t;const n=IC(t)&&IC(e);if(n||kw(t)&&kw(e)){const i=n?t:Object.keys(t),r=i.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(i);let c=0;for(let u=0;u<o;u++){const d=n?u:s[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,c++):(a[d]=MO(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&c++)}return r===o&&c===r?t:a}return e}function IC(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function kw(t){if(!LC(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!LC(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function LC(t){return Object.prototype.toString.call(t)==="[object Object]"}function q8(t){return new Promise(e=>{setTimeout(e,t)})}function X8(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?MO(t,e):e}function K8(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function Y8(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var VE=Symbol();function CO(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===VE?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ql,pa,Qu,Wk,J8=(Wk=class extends uy{constructor(){super();mt(this,Ql);mt(this,pa);mt(this,Qu);Ye(this,Qu,e=>{if(!dy&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){re(this,pa)||this.setEventListener(re(this,Qu))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,pa))==null||e.call(this),Ye(this,pa,void 0))}setEventListener(e){var n;Ye(this,Qu,e),(n=re(this,pa))==null||n.call(this),Ye(this,pa,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){re(this,Ql)!==e&&(Ye(this,Ql,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof re(this,Ql)=="boolean"?re(this,Ql):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ql=new WeakMap,pa=new WeakMap,Qu=new WeakMap,Wk),PO=new J8,Zu,ma,ed,Gk,Q8=(Gk=class extends uy{constructor(){super();mt(this,Zu,!0);mt(this,ma);mt(this,ed);Ye(this,ed,e=>{if(!dy&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){re(this,ma)||this.setEventListener(re(this,ed))}onUnsubscribe(){var e;this.hasListeners()||((e=re(this,ma))==null||e.call(this),Ye(this,ma,void 0))}setEventListener(e){var n;Ye(this,ed,e),(n=re(this,ma))==null||n.call(this),Ye(this,ma,e(this.setOnline.bind(this)))}setOnline(e){re(this,Zu)!==e&&(Ye(this,Zu,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return re(this,Zu)}},Zu=new WeakMap,ma=new WeakMap,ed=new WeakMap,Gk),nv=new Q8;function Z8(){let t,e;const n=new Promise((r,s)=>{t=r,e=s});n.status="pending",n.catch(()=>{});function i(r){Object.assign(n,r),delete n.resolve,delete n.reject}return n.resolve=r=>{i({status:"fulfilled",value:r}),t(r)},n.reject=r=>{i({status:"rejected",reason:r}),e(r)},n}function e$(t){return Math.min(1e3*2**t,3e4)}function AO(t){return(t??"online")==="online"?nv.isOnline():!0}var RO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function O0(t){return t instanceof RO}function kO(t){let e=!1,n=0,i=!1,r;const s=Z8(),o=m=>{var g;i||(h(new RO(m)),(g=t.abort)==null||g.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>PO.isFocused()&&(t.networkMode==="always"||nv.isOnline())&&t.canRun(),u=()=>AO(t.networkMode)&&t.canRun(),d=m=>{var g;i||(i=!0,(g=t.onSuccess)==null||g.call(t,m),r==null||r(),s.resolve(m))},h=m=>{var g;i||(i=!0,(g=t.onError)==null||g.call(t,m),r==null||r(),s.reject(m))},f=()=>new Promise(m=>{var g;r=p=>{(i||c())&&m(p)},(g=t.onPause)==null||g.call(t)}).then(()=>{var m;r=void 0,i||(m=t.onContinue)==null||m.call(t)}),v=()=>{if(i)return;let m;const g=n===0?t.initialPromise:void 0;try{m=g??t.fn()}catch(p){m=Promise.reject(p)}Promise.resolve(m).then(d).catch(p=>{var S;if(i)return;const _=t.retry??(dy?0:3),y=t.retryDelay??e$,w=typeof y=="function"?y(n,p):y,b=_===!0||typeof _=="number"&&n<_||typeof _=="function"&&_(n,p);if(e||!b){h(p);return}n++,(S=t.onFail)==null||S.call(t,n,p),q8(w).then(()=>c()?void 0:f()).then(()=>{e?h(p):v()})})};return{promise:s,cancel:o,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?v():f().then(v),s)}}var t$=t=>setTimeout(t,0);function n$(){let t=[],e=0,n=a=>{a()},i=a=>{a()},r=t$;const s=a=>{e?t.push(a):r(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&r(()=>{i(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{i=a},setScheduler:a=>{r=a}}}var pi=n$(),Zl,$k,DO=($k=class{constructor(){mt(this,Zl)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),W8(this.gcTime)&&Ye(this,Zl,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(dy?1/0:5*60*1e3))}clearGcTimeout(){re(this,Zl)&&(clearTimeout(re(this,Zl)),Ye(this,Zl,void 0))}},Zl=new WeakMap,$k),td,ec,br,tc,Kn,Qf,nc,Jr,so,qk,i$=(qk=class extends DO{constructor(e){super();mt(this,Jr);mt(this,td);mt(this,ec);mt(this,br);mt(this,tc);mt(this,Kn);mt(this,Qf);mt(this,nc);Ye(this,nc,!1),Ye(this,Qf,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ye(this,tc,e.client),Ye(this,br,re(this,tc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ye(this,td,s$(this.options)),this.state=e.state??re(this,td),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=re(this,Kn))==null?void 0:e.promise}setOptions(e){this.options={...re(this,Qf),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&re(this,br).remove(this)}setData(e,n){const i=X8(this.state.data,e,this.options);return Wn(this,Jr,so).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){Wn(this,Jr,so).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,r;const n=(i=re(this,Kn))==null?void 0:i.promise;return(r=re(this,Kn))==null||r.cancel(e),n?n.then(Kr).catch(Kr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(re(this,td))}isActive(){return this.observers.some(e=>$8(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===VE||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Rw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!G8(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=re(this,Kn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=re(this,Kn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),re(this,br).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(re(this,Kn)&&(re(this,nc)?re(this,Kn).cancel({revert:!0}):re(this,Kn).cancelRetry()),this.scheduleGc()),re(this,br).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wn(this,Jr,so).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(re(this,Kn))return re(this,Kn).continueRetry(),re(this,Kn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(f=>f.options.queryFn);h&&this.setOptions(h.options)}const i=new AbortController,r=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(Ye(this,nc,!0),i.signal)})},s=()=>{const h=CO(this.options,n),v=(()=>{const m={client:re(this,tc),queryKey:this.queryKey,meta:this.meta};return r(m),m})();return Ye(this,nc,!1),this.options.persister?this.options.persister(h,v,this):h(v)},a=(()=>{const h={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:re(this,tc),state:this.state,fetchFn:s};return r(h),h})();(c=this.options.behavior)==null||c.onFetch(a,this),Ye(this,ec,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Wn(this,Jr,so).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta});const l=h=>{var f,v,m,g;O0(h)&&h.silent||Wn(this,Jr,so).call(this,{type:"error",error:h}),O0(h)||((v=(f=re(this,br).config).onError)==null||v.call(f,h,this),(g=(m=re(this,br).config).onSettled)==null||g.call(m,this.state.data,h,this)),this.scheduleGc()};return Ye(this,Kn,kO({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:h=>{var f,v,m,g;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(p){l(p);return}(v=(f=re(this,br).config).onSuccess)==null||v.call(f,h,this),(g=(m=re(this,br).config).onSettled)==null||g.call(m,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,f)=>{Wn(this,Jr,so).call(this,{type:"failed",failureCount:h,error:f})},onPause:()=>{Wn(this,Jr,so).call(this,{type:"pause"})},onContinue:()=>{Wn(this,Jr,so).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),re(this,Kn).start()}},td=new WeakMap,ec=new WeakMap,br=new WeakMap,tc=new WeakMap,Kn=new WeakMap,Qf=new WeakMap,nc=new WeakMap,Jr=new WeakSet,so=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...r$(i.data,this.options),fetchMeta:e.meta??null};case"success":return Ye(this,ec,void 0),{...i,data:e.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return O0(r)&&r.revert&&re(this,ec)?{...re(this,ec),fetchStatus:"idle"}:{...i,error:r,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),pi.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),re(this,br).notify({query:this,type:"updated",action:e})})},qk);function r$(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:AO(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s$(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Ms,Xk,o$=(Xk=class extends uy{constructor(e={}){super();mt(this,Ms);this.config=e,Ye(this,Ms,new Map)}build(e,n,i){const r=n.queryKey,s=n.queryHash??BE(r,n);let o=this.get(s);return o||(o=new i$({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){re(this,Ms).has(e.queryHash)||(re(this,Ms).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=re(this,Ms).get(e.queryHash);n&&(e.destroy(),n===e&&re(this,Ms).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){pi.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return re(this,Ms).get(e)}getAll(){return[...re(this,Ms).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>kC(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>kC(e,i)):n}notify(e){pi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){pi.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){pi.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ms=new WeakMap,Xk),Cs,ui,ic,Ps,na,Kk,a$=(Kk=class extends DO{constructor(e){super();mt(this,Ps);mt(this,Cs);mt(this,ui);mt(this,ic);this.mutationId=e.mutationId,Ye(this,ui,e.mutationCache),Ye(this,Cs,[]),this.state=e.state||l$(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){re(this,Cs).includes(e)||(re(this,Cs).push(e),this.clearGcTimeout(),re(this,ui).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ye(this,Cs,re(this,Cs).filter(n=>n!==e)),this.scheduleGc(),re(this,ui).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){re(this,Cs).length||(this.state.status==="pending"?this.scheduleGc():re(this,ui).remove(this))}continue(){var e;return((e=re(this,ic))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,u,d,h,f,v,m,g,p,_,y,w,b,S,E,P;const n=()=>{Wn(this,Ps,na).call(this,{type:"continue"})};Ye(this,ic,kO({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,C)=>{Wn(this,Ps,na).call(this,{type:"failed",failureCount:T,error:C})},onPause:()=>{Wn(this,Ps,na).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>re(this,ui).canRun(this)}));const i=this.state.status==="pending",r=!re(this,ic).canStart();try{if(i)n();else{Wn(this,Ps,na).call(this,{type:"pending",variables:e,isPaused:r}),await((o=(s=re(this,ui).config).onMutate)==null?void 0:o.call(s,e,this));const C=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));C!==this.state.context&&Wn(this,Ps,na).call(this,{type:"pending",context:C,variables:e,isPaused:r})}const T=await re(this,ic).start();return await((u=(c=re(this,ui).config).onSuccess)==null?void 0:u.call(c,T,e,this.state.context,this)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,T,e,this.state.context)),await((v=(f=re(this,ui).config).onSettled)==null?void 0:v.call(f,T,null,this.state.variables,this.state.context,this)),await((g=(m=this.options).onSettled)==null?void 0:g.call(m,T,null,e,this.state.context)),Wn(this,Ps,na).call(this,{type:"success",data:T}),T}catch(T){try{throw await((_=(p=re(this,ui).config).onError)==null?void 0:_.call(p,T,e,this.state.context,this)),await((w=(y=this.options).onError)==null?void 0:w.call(y,T,e,this.state.context)),await((S=(b=re(this,ui).config).onSettled)==null?void 0:S.call(b,void 0,T,this.state.variables,this.state.context,this)),await((P=(E=this.options).onSettled)==null?void 0:P.call(E,void 0,T,e,this.state.context)),T}finally{Wn(this,Ps,na).call(this,{type:"error",error:T})}}finally{re(this,ui).runNext(this)}}},Cs=new WeakMap,ui=new WeakMap,ic=new WeakMap,Ps=new WeakSet,na=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),pi.batch(()=>{re(this,Cs).forEach(i=>{i.onMutationUpdate(e)}),re(this,ui).notify({mutation:this,type:"updated",action:e})})},Kk);function l$(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vo,Qr,Zf,Yk,c$=(Yk=class extends uy{constructor(e={}){super();mt(this,vo);mt(this,Qr);mt(this,Zf);this.config=e,Ye(this,vo,new Set),Ye(this,Qr,new Map),Ye(this,Zf,0)}build(e,n,i){const r=new a$({mutationCache:this,mutationId:++Pp(this,Zf)._,options:e.defaultMutationOptions(n),state:i});return this.add(r),r}add(e){re(this,vo).add(e);const n=im(e);if(typeof n=="string"){const i=re(this,Qr).get(n);i?i.push(e):re(this,Qr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(re(this,vo).delete(e)){const n=im(e);if(typeof n=="string"){const i=re(this,Qr).get(n);if(i)if(i.length>1){const r=i.indexOf(e);r!==-1&&i.splice(r,1)}else i[0]===e&&re(this,Qr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=im(e);if(typeof n=="string"){const i=re(this,Qr).get(n),r=i==null?void 0:i.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){var i;const n=im(e);if(typeof n=="string"){const r=(i=re(this,Qr).get(n))==null?void 0:i.find(s=>s!==e&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}else return Promise.resolve()}clear(){pi.batch(()=>{re(this,vo).forEach(e=>{this.notify({type:"removed",mutation:e})}),re(this,vo).clear(),re(this,Qr).clear()})}getAll(){return Array.from(re(this,vo))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>DC(n,i))}findAll(e={}){return this.getAll().filter(n=>DC(e,n))}notify(e){pi.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return pi.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kr))))}},vo=new WeakMap,Qr=new WeakMap,Zf=new WeakMap,Yk);function im(t){var e;return(e=t.options.scope)==null?void 0:e.id}function OC(t){return{onFetch:(e,n)=>{var u,d,h,f,v;const i=e.options,r=(h=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((f=e.state.data)==null?void 0:f.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let m=!1;const g=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?m=!0:e.signal.addEventListener("abort",()=>{m=!0}),e.signal)})},p=CO(e.options,e.fetchOptions),_=async(y,w,b)=>{if(m)return Promise.reject();if(w==null&&y.pages.length)return Promise.resolve(y);const E=(()=>{const R={client:e.client,queryKey:e.queryKey,pageParam:w,direction:b?"backward":"forward",meta:e.options.meta};return g(R),R})(),P=await p(E),{maxPages:T}=e.options,C=b?Y8:K8;return{pages:C(y.pages,P,T),pageParams:C(y.pageParams,w,T)}};if(r&&s.length){const y=r==="backward",w=y?u$:NC,b={pages:s,pageParams:o},S=w(i,b);a=await _(b,S,y)}else{const y=t??s.length;do{const w=l===0?o[0]??i.initialPageParam:NC(i,a);if(l>0&&w==null)break;a=await _(a,w),l++}while(l<y)}return a};e.options.persister?e.fetchFn=()=>{var m,g;return(g=(m=e.options).persister)==null?void 0:g.call(m,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function NC(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function u$(t,{pages:e,pageParams:n}){var i;return e.length>0?(i=t.getPreviousPageParam)==null?void 0:i.call(t,e[0],e,n[0],n):void 0}var tn,ga,va,nd,id,ya,rd,sd,Jk,d$=(Jk=class{constructor(t={}){mt(this,tn);mt(this,ga);mt(this,va);mt(this,nd);mt(this,id);mt(this,ya);mt(this,rd);mt(this,sd);Ye(this,tn,t.queryCache||new o$),Ye(this,ga,t.mutationCache||new c$),Ye(this,va,t.defaultOptions||{}),Ye(this,nd,new Map),Ye(this,id,new Map),Ye(this,ya,0)}mount(){Pp(this,ya)._++,re(this,ya)===1&&(Ye(this,rd,PO.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,tn).onFocus())})),Ye(this,sd,nv.subscribe(async t=>{t&&(await this.resumePausedMutations(),re(this,tn).onOnline())})))}unmount(){var t,e;Pp(this,ya)._--,re(this,ya)===0&&((t=re(this,rd))==null||t.call(this),Ye(this,rd,void 0),(e=re(this,sd))==null||e.call(this),Ye(this,sd,void 0))}isFetching(t){return re(this,tn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return re(this,ga).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,tn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=re(this,tn).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Rw(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return re(this,tn).findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),r=re(this,tn).get(i.queryHash),s=r==null?void 0:r.state.data,o=H8(e,s);if(o!==void 0)return re(this,tn).build(this,i).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return pi.batch(()=>re(this,tn).findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=re(this,tn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=re(this,tn);pi.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=re(this,tn);return pi.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=pi.batch(()=>re(this,tn).findAll(t).map(r=>r.cancel(n)));return Promise.all(i).then(Kr).catch(Kr)}invalidateQueries(t,e={}){return pi.batch(()=>(re(this,tn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=pi.batch(()=>re(this,tn).findAll(t).filter(r=>!r.isDisabled()&&!r.isStatic()).map(r=>{let s=r.fetch(void 0,n);return n.throwOnError||(s=s.catch(Kr)),r.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Kr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=re(this,tn).build(this,e);return n.isStaleByTime(Rw(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kr).catch(Kr)}fetchInfiniteQuery(t){return t.behavior=OC(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kr).catch(Kr)}ensureInfiniteQueryData(t){return t.behavior=OC(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return nv.isOnline()?re(this,ga).resumePausedMutations():Promise.resolve()}getQueryCache(){return re(this,tn)}getMutationCache(){return re(this,ga)}getDefaultOptions(){return re(this,va)}setDefaultOptions(t){Ye(this,va,t)}setQueryDefaults(t,e){re(this,nd).set(Mf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...re(this,nd).values()],n={};return e.forEach(i=>{Cf(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){re(this,id).set(Mf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...re(this,id).values()],n={};return e.forEach(i=>{Cf(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...re(this,va).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=BE(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===VE&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...re(this,va).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){re(this,tn).clear(),re(this,ga).clear()}},tn=new WeakMap,ga=new WeakMap,va=new WeakMap,nd=new WeakMap,id=new WeakMap,ya=new WeakMap,rd=new WeakMap,sd=new WeakMap,Jk),h$=M.createContext(void 0),f$=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),x.jsx(h$.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pf(){return Pf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Pf.apply(this,arguments)}var ba;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ba||(ba={}));const UC="popstate";function p$(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return Dw("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:iv(r)}return g$(e,n,null,t)}function Jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function IO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m$(){return Math.random().toString(36).substr(2,8)}function FC(t,e){return{usr:t.state,key:t.key,idx:e}}function Dw(t,e,n,i){return n===void 0&&(n=null),Pf({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wd(e):e,{state:n,key:e&&e.key||i||m$()})}function iv(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Wd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function g$(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=ba.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Pf({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ba.Pop;let g=u(),p=g==null?null:g-c;c=g,l&&l({action:a,location:m.location,delta:p})}function h(g,p){a=ba.Push;let _=Dw(m.location,g,p);c=u()+1;let y=FC(_,c),w=m.createHref(_);try{o.pushState(y,"",w)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;r.location.assign(w)}s&&l&&l({action:a,location:m.location,delta:1})}function f(g,p){a=ba.Replace;let _=Dw(m.location,g,p);c=u();let y=FC(_,c),w=m.createHref(_);o.replaceState(y,"",w),s&&l&&l({action:a,location:m.location,delta:0})}function v(g){let p=r.location.origin!=="null"?r.location.origin:r.location.href,_=typeof g=="string"?g:iv(g);return _=_.replace(/ $/,"%20"),Jt(p,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,p)}let m={get action(){return a},get location(){return t(r,o)},listen(g){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(UC,d),l=g,()=>{r.removeEventListener(UC,d),l=null}},createHref(g){return e(r,g)},createURL:v,encodeLocation(g){let p=v(g);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:h,replace:f,go(g){return o.go(g)}};return m}var zC;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zC||(zC={}));function v$(t,e,n){return n===void 0&&(n="/"),y$(t,e,n,!1)}function y$(t,e,n,i){let r=typeof e=="string"?Wd(e):e,s=vd(r.pathname||"/",n);if(s==null)return null;let o=LO(t);_$(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=R$(s);a=P$(o[l],c,i)}return a}function LO(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jt(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let c=Fa([i,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Jt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),LO(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:M$(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of OO(s.path))r(s,o,l)}),e}function OO(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=OO(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function _$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:C$(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const x$=/^:[\w-]+$/,w$=3,b$=2,S$=1,E$=10,T$=-2,jC=t=>t==="*";function M$(t,e){let n=t.split("/"),i=n.length;return n.some(jC)&&(i+=T$),e&&(i+=b$),n.filter(r=>!jC(r)).reduce((r,s)=>r+(x$.test(s)?w$:s===""?S$:E$),i)}function C$(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function P$(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],c=a===i.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=rv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!i[i.length-1].route.index&&(d=rv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:Fa([s,d.pathname]),pathnameBase:L$(Fa([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Fa([s,d.pathnameBase]))}return o}function rv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=A$(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let m=a[d]||"";o=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}const v=a[d];return f&&!v?c[h]=void 0:c[h]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function A$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),IO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function R$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return IO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vd(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function k$(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Wd(t):t;return{pathname:n?n.startsWith("/")?n:D$(n,e):e,search:O$(i),hash:N$(r)}}function D$(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function N0(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function HE(t,e){let n=I$(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function WE(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Wd(t):(r=Pf({},t),Jt(!r.pathname||!r.pathname.includes("?"),N0("?","pathname","search",r)),Jt(!r.pathname||!r.pathname.includes("#"),N0("#","pathname","hash",r)),Jt(!r.search||!r.search.includes("#"),N0("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;r.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=k$(r,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Fa=t=>t.join("/").replace(/\/\/+/g,"/"),L$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,N$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function U$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const NO=["post","put","patch","delete"];new Set(NO);const F$=["get",...NO];new Set(F$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Af(){return Af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Af.apply(this,arguments)}const hy=M.createContext(null),UO=M.createContext(null),Vo=M.createContext(null),fy=M.createContext(null),Ho=M.createContext({outlet:null,matches:[],isDataRoute:!1}),FO=M.createContext(null);function z$(t,e){let{relative:n}=e===void 0?{}:e;Gd()||Jt(!1);let{basename:i,navigator:r}=M.useContext(Vo),{hash:s,pathname:o,search:a}=my(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:Fa([i,o])),r.createHref({pathname:l,search:a,hash:s})}function Gd(){return M.useContext(fy)!=null}function Wo(){return Gd()||Jt(!1),M.useContext(fy).location}function zO(t){M.useContext(Vo).static||M.useLayoutEffect(t)}function py(){let{isDataRoute:t}=M.useContext(Ho);return t?e9():j$()}function j$(){Gd()||Jt(!1);let t=M.useContext(hy),{basename:e,future:n,navigator:i}=M.useContext(Vo),{matches:r}=M.useContext(Ho),{pathname:s}=Wo(),o=JSON.stringify(HE(r,n.v7_relativeSplatPath)),a=M.useRef(!1);return zO(()=>{a.current=!0}),M.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){i.go(c);return}let d=WE(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Fa([e,d.pathname])),(u.replace?i.replace:i.push)(d,u.state,u)},[e,i,o,s,t])}const B$=M.createContext(null);function V$(t){let e=M.useContext(Ho).outlet;return e&&M.createElement(B$.Provider,{value:t},e)}function my(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=M.useContext(Vo),{matches:r}=M.useContext(Ho),{pathname:s}=Wo(),o=JSON.stringify(HE(r,i.v7_relativeSplatPath));return M.useMemo(()=>WE(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function H$(t,e){return W$(t,e)}function W$(t,e,n,i){Gd()||Jt(!1);let{navigator:r}=M.useContext(Vo),{matches:s}=M.useContext(Ho),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Wo(),u;if(e){var d;let g=typeof e=="string"?Wd(e):e;l==="/"||(d=g.pathname)!=null&&d.startsWith(l)||Jt(!1),u=g}else u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let g=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(g.length).join("/")}let v=v$(t,{pathname:f}),m=K$(v&&v.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Fa([l,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Fa([l,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,i);return e&&m?M.createElement(fy.Provider,{value:{location:Af({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ba.Pop}},m):m}function G$(){let t=Z$(),e=U$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:r},n):null,null)}const $$=M.createElement(G$,null);class q$ extends M.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?M.createElement(Ho.Provider,{value:this.props.routeContext},M.createElement(FO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function X$(t){let{routeContext:e,match:n,children:i}=t,r=M.useContext(hy);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),M.createElement(Ho.Provider,{value:e},i)}function K$(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Jt(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&i&&i.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,v=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||v){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,v=!1,m=null,g=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,m=d.route.errorElement||$$,l&&(c<0&&h===0?(v=!0,g=null):c===h&&(v=!0,g=d.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,h+1)),_=()=>{let y;return f?y=m:v?y=g:d.route.Component?y=M.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,M.createElement(X$,{match:d,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:y})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?M.createElement(q$,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:_(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):_()},null)}var jO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(jO||{}),sv=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sv||{});function Y$(t){let e=M.useContext(hy);return e||Jt(!1),e}function J$(t){let e=M.useContext(UO);return e||Jt(!1),e}function Q$(t){let e=M.useContext(Ho);return e||Jt(!1),e}function BO(t){let e=Q$(),n=e.matches[e.matches.length-1];return n.route.id||Jt(!1),n.route.id}function Z$(){var t;let e=M.useContext(FO),n=J$(sv.UseRouteError),i=BO(sv.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function e9(){let{router:t}=Y$(jO.UseNavigateStable),e=BO(sv.UseNavigateStable),n=M.useRef(!1);return zO(()=>{n.current=!0}),M.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,Af({fromRouteId:e},s)))},[t,e])}function t9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function oo(t){let{to:e,replace:n,state:i,relative:r}=t;Gd()||Jt(!1);let{future:s,static:o}=M.useContext(Vo),{matches:a}=M.useContext(Ho),{pathname:l}=Wo(),c=py(),u=WE(e,HE(a,s.v7_relativeSplatPath),l,r==="path"),d=JSON.stringify(u);return M.useEffect(()=>c(JSON.parse(d),{replace:n,state:i,relative:r}),[c,d,r,n,i]),null}function n9(t){return V$(t.context)}function Wt(t){Jt(!1)}function i9(t){let{basename:e="/",children:n=null,location:i,navigationType:r=ba.Pop,navigator:s,static:o=!1,future:a}=t;Gd()&&Jt(!1);let l=e.replace(/^\/*/,"/"),c=M.useMemo(()=>({basename:l,navigator:s,static:o,future:Af({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Wd(i));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:v="default"}=i,m=M.useMemo(()=>{let g=vd(u,l);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:v},navigationType:r}},[l,u,d,h,f,v,r]);return m==null?null:M.createElement(Vo.Provider,{value:c},M.createElement(fy.Provider,{children:n,value:m}))}function r9(t){let{children:e,location:n}=t;return H$(Iw(e),n)}new Promise(()=>{});function Iw(t,e){e===void 0&&(e=[]);let n=[];return M.Children.forEach(t,(i,r)=>{if(!M.isValidElement(i))return;let s=[...e,r];if(i.type===M.Fragment){n.push.apply(n,Iw(i.props.children,s));return}i.type!==Wt&&Jt(!1),!i.props.index||!i.props.children||Jt(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Iw(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},ov.apply(this,arguments)}function VO(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function s9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function o9(t,e){return t.button===0&&(!e||e==="_self")&&!s9(t)}const a9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],l9=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],c9="6";try{window.__reactRouterVersion=c9}catch{}const u9=M.createContext({isTransitioning:!1}),d9="startTransition",BC=c2[d9];function h9(t){let{basename:e,children:n,future:i,window:r}=t,s=M.useRef();s.current==null&&(s.current=p$({window:r,v5Compat:!0}));let o=s.current,[a,l]=M.useState({action:o.action,location:o.location}),{v7_startTransition:c}=i||{},u=M.useCallback(d=>{c&&BC?BC(()=>l(d)):l(d)},[l,c]);return M.useLayoutEffect(()=>o.listen(u),[o,u]),M.useEffect(()=>t9(i),[i]),M.createElement(i9,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const f9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",p9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jn=M.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=VO(e,a9),{basename:f}=M.useContext(Vo),v,m=!1;if(typeof c=="string"&&p9.test(c)&&(v=c,f9))try{let y=new URL(window.location.href),w=c.startsWith("//")?new URL(y.protocol+c):new URL(c),b=vd(w.pathname,f);w.origin===y.origin&&b!=null?c=b+w.search+w.hash:m=!0}catch{}let g=z$(c,{relative:r}),p=g9(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:r,viewTransition:d});function _(y){i&&i(y),y.defaultPrevented||p(y)}return M.createElement("a",ov({},h,{href:v||g,onClick:m||s?i:_,ref:n,target:l}))}),uh=M.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u}=e,d=VO(e,l9),h=my(l,{relative:d.relative}),f=Wo(),v=M.useContext(UO),{navigator:m,basename:g}=M.useContext(Vo),p=v!=null&&v9(h)&&c===!0,_=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,y=f.pathname,w=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;r||(y=y.toLowerCase(),w=w?w.toLowerCase():null,_=_.toLowerCase()),w&&g&&(w=vd(w,g)||w);const b=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let S=y===_||!o&&y.startsWith(_)&&y.charAt(b)==="/",E=w!=null&&(w===_||!o&&w.startsWith(_)&&w.charAt(_.length)==="/"),P={isActive:S,isPending:E,isTransitioning:p},T=S?i:void 0,C;typeof s=="function"?C=s(P):C=[s,S?"active":null,E?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(P):a;return M.createElement(jn,ov({},d,{"aria-current":T,className:C,ref:n,style:R,to:l,viewTransition:c}),typeof u=="function"?u(P):u)});var Lw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Lw||(Lw={}));var VC;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(VC||(VC={}));function m9(t){let e=M.useContext(hy);return e||Jt(!1),e}function g9(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=py(),c=Wo(),u=my(t,{relative:o});return M.useCallback(d=>{if(o9(d,n)){d.preventDefault();let h=i!==void 0?i:iv(c)===iv(u);l(t,{replace:h,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,i,r,n,t,s,o,a])}function v9(t,e){e===void 0&&(e={});let n=M.useContext(u9);n==null&&Jt(!1);let{basename:i}=m9(Lw.useViewTransitionState),r=my(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=vd(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=vd(n.nextLocation.pathname,i)||n.nextLocation.pathname;return rv(r.pathname,o)!=null||rv(r.pathname,s)!=null}const y9=ry("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Pt=M.forwardRef(({className:t,variant:e,size:n,asChild:i=!1,...r},s)=>{const o=i?lH:"button";return x.jsx(o,{className:yt(y9({variant:e,size:n,className:t})),ref:s,...r})});Pt.displayName="Button";const GE=M.createContext({});function gy(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}const $E=typeof window<"u",qE=$E?M.useLayoutEffect:M.useEffect,vy=M.createContext(null);function XE(t,e){t.indexOf(e)===-1&&t.push(e)}function KE(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Lo=(t,e,n)=>n>e?e:n<t?t:n;let av=()=>{};const Oo={},HO=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function WO(t){return typeof t=="object"&&t!==null}const GO=t=>/^0[^.\s]+$/u.test(t);function YE(t){let e;return()=>(e===void 0&&(e=t()),e)}const Or=t=>t,_9=(t,e)=>n=>e(t(n)),dp=(...t)=>t.reduce(_9),Rf=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class JE{constructor(){this.subscriptions=[]}add(e){return XE(this.subscriptions,e),()=>KE(this.subscriptions,e)}notify(e,n,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,n,i);else for(let s=0;s<r;s++){const o=this.subscriptions[s];o&&o(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Vs=t=>t*1e3,Hs=t=>t/1e3;function $O(t,e){return e?t*(1e3/e):0}const qO=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,x9=1e-7,w9=12;function b9(t,e,n,i,r){let s,o,a=0;do o=e+(n-e)/2,s=qO(o,i,r)-t,s>0?n=o:e=o;while(Math.abs(s)>x9&&++a<w9);return o}function hp(t,e,n,i){if(t===e&&n===i)return Or;const r=s=>b9(s,0,1,t,n);return s=>s===0||s===1?s:qO(r(s),e,i)}const XO=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,KO=t=>e=>1-t(1-e),YO=hp(.33,1.53,.69,.99),QE=KO(YO),JO=XO(QE),QO=t=>(t*=2)<1?.5*QE(t):.5*(2-Math.pow(2,-10*(t-1))),ZE=t=>1-Math.sin(Math.acos(t)),ZO=KO(ZE),eN=XO(ZE),S9=hp(.42,0,1,1),E9=hp(0,0,.58,1),tN=hp(.42,0,.58,1),T9=t=>Array.isArray(t)&&typeof t[0]!="number",nN=t=>Array.isArray(t)&&typeof t[0]=="number",HC={linear:Or,easeIn:S9,easeInOut:tN,easeOut:E9,circIn:ZE,circInOut:eN,circOut:ZO,backIn:QE,backInOut:JO,backOut:YO,anticipate:QO},M9=t=>typeof t=="string",WC=t=>{if(nN(t)){av(t.length===4);const[e,n,i,r]=t;return hp(e,n,i,r)}else if(M9(t))return av(HC[t]!==void 0),HC[t];return t},rm=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],GC={value:null,addProjectionMetrics:null};function C9(t,e){let n=new Set,i=new Set,r=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){o.has(d)&&(u.schedule(d),t()),l++,d(a)}const u={schedule:(d,h=!1,f=!1)=>{const m=f&&r?n:i;return h&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{i.delete(d),o.delete(d)},process:d=>{if(a=d,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(c),e&&GC.value&&GC.value.frameloop[e].push(l),l=0,n.clear(),r=!1,s&&(s=!1,u.process(d))}};return u}const P9=40;function iN(t,e){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=rm.reduce((y,w)=>(y[w]=C9(s,e?w:void 0),y),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:h,render:f,postRender:v}=o,m=()=>{const y=Oo.useManualTiming?r.timestamp:performance.now();n=!1,Oo.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(y-r.timestamp,P9),1)),r.timestamp=y,r.isProcessing=!0,a.process(r),l.process(r),c.process(r),u.process(r),d.process(r),h.process(r),f.process(r),v.process(r),r.isProcessing=!1,n&&e&&(i=!1,t(m))},g=()=>{n=!0,i=!0,r.isProcessing||t(m)};return{schedule:rm.reduce((y,w)=>{const b=o[w];return y[w]=(S,E=!1,P=!1)=>(n||g(),b.schedule(S,E,P)),y},{}),cancel:y=>{for(let w=0;w<rm.length;w++)o[rm[w]].cancel(y)},state:r,steps:o}}const{schedule:zt,cancel:Ya,state:Fn,steps:U0}=iN(typeof requestAnimationFrame<"u"?requestAnimationFrame:Or,!0);let lg;function A9(){lg=void 0}const Di={now:()=>(lg===void 0&&Di.set(Fn.isProcessing||Oo.useManualTiming?Fn.timestamp:performance.now()),lg),set:t=>{lg=t,queueMicrotask(A9)}},rN=t=>e=>typeof e=="string"&&e.startsWith(t),e1=rN("--"),R9=rN("var(--"),t1=t=>R9(t)?k9.test(t.split("/*")[0].trim()):!1,k9=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,$d={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},kf={...$d,transform:t=>Lo(0,1,t)},sm={...$d,default:1},$h=t=>Math.round(t*1e5)/1e5,n1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D9(t){return t==null}const I9=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,i1=(t,e)=>n=>!!(typeof n=="string"&&I9.test(n)&&n.startsWith(t)||e&&!D9(n)&&Object.prototype.hasOwnProperty.call(n,e)),sN=(t,e,n)=>i=>{if(typeof i!="string")return i;const[r,s,o,a]=i.match(n1);return{[t]:parseFloat(r),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},L9=t=>Lo(0,255,t),F0={...$d,transform:t=>Math.round(L9(t))},Vl={test:i1("rgb","red"),parse:sN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+F0.transform(t)+", "+F0.transform(e)+", "+F0.transform(n)+", "+$h(kf.transform(i))+")"};function O9(t){let e="",n="",i="",r="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),r=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),r=t.substring(4,5),e+=e,n+=n,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const Ow={test:i1("#"),parse:O9,transform:Vl.transform},fp=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ia=fp("deg"),Ws=fp("%"),$e=fp("px"),N9=fp("vh"),U9=fp("vw"),$C={...Ws,parse:t=>Ws.parse(t)/100,transform:t=>Ws.transform(t*100)},wu={test:i1("hsl","hue"),parse:sN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+Ws.transform($h(e))+", "+Ws.transform($h(n))+", "+$h(kf.transform(i))+")"},pn={test:t=>Vl.test(t)||Ow.test(t)||wu.test(t),parse:t=>Vl.test(t)?Vl.parse(t):wu.test(t)?wu.parse(t):Ow.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Vl.transform(t):wu.transform(t),getAnimatableNone:t=>{const e=pn.parse(t);return e.alpha=0,pn.transform(e)}},F9=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function z9(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(n1))==null?void 0:e.length)||0)+(((n=t.match(F9))==null?void 0:n.length)||0)>0}const oN="number",aN="color",j9="var",B9="var(",qC="${}",V9=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Df(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=e.replace(V9,l=>(pn.test(l)?(i.color.push(s),r.push(aN),n.push(pn.parse(l))):l.startsWith(B9)?(i.var.push(s),r.push(j9),n.push(l)):(i.number.push(s),r.push(oN),n.push(parseFloat(l))),++s,qC)).split(qC);return{values:n,split:a,indexes:i,types:r}}function lN(t){return Df(t).values}function cN(t){const{split:e,types:n}=Df(t),i=e.length;return r=>{let s="";for(let o=0;o<i;o++)if(s+=e[o],r[o]!==void 0){const a=n[o];a===oN?s+=$h(r[o]):a===aN?s+=pn.transform(r[o]):s+=r[o]}return s}}const H9=t=>typeof t=="number"?0:pn.test(t)?pn.getAnimatableNone(t):t;function W9(t){const e=lN(t);return cN(t)(e.map(H9))}const Ja={test:z9,parse:lN,createTransformer:cN,getAnimatableNone:W9};function z0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function G9({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let r=0,s=0,o=0;if(!e)r=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;r=z0(l,a,t+1/3),s=z0(l,a,t),o=z0(l,a,t-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:i}}function lv(t,e){return n=>n>0?e:t}const Xt=(t,e,n)=>t+(e-t)*n,j0=(t,e,n)=>{const i=t*t,r=n*(e*e-i)+i;return r<0?0:Math.sqrt(r)},$9=[Ow,Vl,wu],q9=t=>$9.find(e=>e.test(t));function XC(t){const e=q9(t);if(!e)return!1;let n=e.parse(t);return e===wu&&(n=G9(n)),n}const KC=(t,e)=>{const n=XC(t),i=XC(e);if(!n||!i)return lv(t,e);const r={...n};return s=>(r.red=j0(n.red,i.red,s),r.green=j0(n.green,i.green,s),r.blue=j0(n.blue,i.blue,s),r.alpha=Xt(n.alpha,i.alpha,s),Vl.transform(r))},Nw=new Set(["none","hidden"]);function X9(t,e){return Nw.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function K9(t,e){return n=>Xt(t,e,n)}function r1(t){return typeof t=="number"?K9:typeof t=="string"?t1(t)?lv:pn.test(t)?KC:Q9:Array.isArray(t)?uN:typeof t=="object"?pn.test(t)?KC:Y9:lv}function uN(t,e){const n=[...t],i=n.length,r=t.map((s,o)=>r1(s)(s,e[o]));return s=>{for(let o=0;o<i;o++)n[o]=r[o](s);return n}}function Y9(t,e){const n={...t,...e},i={};for(const r in n)t[r]!==void 0&&e[r]!==void 0&&(i[r]=r1(t[r])(t[r],e[r]));return r=>{for(const s in i)n[s]=i[s](r);return n}}function J9(t,e){const n=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],o=t.indexes[s][i[s]],a=t.values[o]??0;n[r]=a,i[s]++}return n}const Q9=(t,e)=>{const n=Ja.createTransformer(e),i=Df(t),r=Df(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?Nw.has(t)&&!r.values.length||Nw.has(e)&&!i.values.length?X9(t,e):dp(uN(J9(i,r),r.values),n):lv(t,e)};function dN(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Xt(t,e,n):r1(t)(t,e)}const Z9=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>zt.update(e,n),stop:()=>Ya(e),now:()=>Fn.isProcessing?Fn.timestamp:Di.now()}},hN=(t,e,n=10)=>{let i="";const r=Math.max(Math.round(e/n),2);for(let s=0;s<r;s++)i+=Math.round(t(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},cv=2e4;function s1(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<cv;)e+=n,i=t.next(e);return e>=cv?1/0:e}function e7(t,e=100,n){const i=n({...t,keyframes:[0,e]}),r=Math.min(s1(i),cv);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:Hs(r)}}const t7=5;function fN(t,e,n){const i=Math.max(e-t7,0);return $O(n-t(i),e-i)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},B0=.001;function n7({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:i=nn.mass}){let r,s,o=1-e;o=Lo(nn.minDamping,nn.maxDamping,o),t=Lo(nn.minDuration,nn.maxDuration,Hs(t)),o<1?(r=c=>{const u=c*o,d=u*t,h=u-n,f=Uw(c,o),v=Math.exp(-d);return B0-h/f*v},s=c=>{const d=c*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),m=Uw(Math.pow(c,2),o);return(-r(c)+B0>0?-1:1)*((h-f)*v)/m}):(r=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-B0+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=r7(r,s,a);if(t=Vs(t),isNaN(l))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const c=Math.pow(l,2)*i;return{stiffness:c,damping:o*2*Math.sqrt(i*c),duration:t}}}const i7=12;function r7(t,e,n){let i=n;for(let r=1;r<i7;r++)i=i-t(i)/e(i);return i}function Uw(t,e){return t*Math.sqrt(1-e*e)}const s7=["duration","bounce"],o7=["stiffness","damping","mass"];function YC(t,e){return e.some(n=>t[n]!==void 0)}function a7(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!YC(t,o7)&&YC(t,s7))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),r=i*i,s=2*Lo(.05,1,1-(t.bounce||0))*Math.sqrt(r);e={...e,mass:nn.mass,stiffness:r,damping:s}}else{const n=n7(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function uv(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=a7({...n,velocity:-Hs(n.velocity||0)}),v=h||0,m=c/(2*Math.sqrt(l*u)),g=o-s,p=Hs(Math.sqrt(l/u)),_=Math.abs(g)<5;i||(i=_?nn.restSpeed.granular:nn.restSpeed.default),r||(r=_?nn.restDelta.granular:nn.restDelta.default);let y;if(m<1){const b=Uw(p,m);y=S=>{const E=Math.exp(-m*p*S);return o-E*((v+m*p*g)/b*Math.sin(b*S)+g*Math.cos(b*S))}}else if(m===1)y=b=>o-Math.exp(-p*b)*(g+(v+p*g)*b);else{const b=p*Math.sqrt(m*m-1);y=S=>{const E=Math.exp(-m*p*S),P=Math.min(b*S,300);return o-E*((v+m*p*g)*Math.sinh(P)+b*g*Math.cosh(P))/b}}const w={calculatedDuration:f&&d||null,next:b=>{const S=y(b);if(f)a.done=b>=d;else{let E=b===0?v:0;m<1&&(E=b===0?Vs(v):fN(y,b,S));const P=Math.abs(E)<=i,T=Math.abs(o-S)<=r;a.done=P&&T}return a.value=a.done?o:S,a},toString:()=>{const b=Math.min(s1(w),cv),S=hN(E=>w.next(b*E).value,b,30);return b+"ms "+S},toTransition:()=>{}};return w}uv.applyToOptions=t=>{const e=e7(t,100,uv);return t.ease=e.ease,t.duration=Vs(e.duration),t.type="keyframes",t};function Fw({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=P=>a!==void 0&&P<a||l!==void 0&&P>l,v=P=>a===void 0?l:l===void 0||Math.abs(a-P)<Math.abs(l-P)?a:l;let m=n*e;const g=d+m,p=o===void 0?g:o(g);p!==g&&(m=p-d);const _=P=>-m*Math.exp(-P/i),y=P=>p+_(P),w=P=>{const T=_(P),C=y(P);h.done=Math.abs(T)<=c,h.value=h.done?p:C};let b,S;const E=P=>{f(h.value)&&(b=P,S=uv({keyframes:[h.value,v(h.value)],velocity:fN(y,P,h.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:P=>{let T=!1;return!S&&b===void 0&&(T=!0,w(P),E(P)),b!==void 0&&P>=b?S.next(P-b):(!T&&w(P),h)}}}function l7(t,e,n){const i=[],r=n||Oo.mix||dN,s=t.length-1;for(let o=0;o<s;o++){let a=r(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Or:e;a=dp(l,a)}i.push(a)}return i}function c7(t,e,{clamp:n=!0,ease:i,mixer:r}={}){const s=t.length;if(av(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=l7(e,i,r),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=Rf(t[d],t[d+1],u);return a[d](h)};return n?u=>c(Lo(t[0],t[s-1],u)):c}function u7(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const r=Rf(0,e,i);t.push(Xt(n,1,r))}}function d7(t){const e=[0];return u7(e,t.length-1),e}function h7(t,e){return t.map(n=>n*e)}function f7(t,e){return t.map(()=>e||tN).splice(0,t.length-1)}function qh({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const r=T9(i)?i.map(WC):WC(i),s={done:!1,value:e[0]},o=h7(n&&n.length===e.length?n:d7(e),t),a=c7(o,e,{ease:Array.isArray(r)?r:f7(e,r)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const p7=t=>t!==null;function o1(t,{repeat:e,repeatType:n="loop"},i,r=1){const s=t.filter(p7),a=r<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||i===void 0?s[a]:i}const m7={decay:Fw,inertia:Fw,tween:qh,keyframes:qh,spring:uv};function pN(t){typeof t.type=="string"&&(t.type=m7[t.type])}class a1{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const g7=t=>t/100;class l1 extends a1{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:n}=this.options;n&&n.updatedAt!==Di.now()&&this.tick(Di.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;pN(e);const{type:n=qh,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||qh;l!==qh&&typeof a[0]!="number"&&(this.mixKeyframes=dp(g7,dN(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=s1(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:h,repeatDelay:f,type:v,onUpdate:m,finalKeyframe:g}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const p=this.currentTime-c*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?p<0:p>r;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let y=this.currentTime,w=i;if(d){const P=Math.min(this.currentTime,r)/a;let T=Math.floor(P),C=P%1;!C&&P>=1&&(C=1),C===1&&T--,T=Math.min(T,d+1),!!(T%2)&&(h==="reverse"?(C=1-C,f&&(C-=f/a)):h==="mirror"&&(w=o)),y=Lo(0,1,C)*a}const b=_?{done:!1,value:u[0]}:w.next(y);s&&(b.value=s(b.value));let{done:S}=b;!_&&l!==null&&(S=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&v!==Fw&&(b.value=o1(u,this.options,g,this.speed)),m&&m(b.value),E&&this.finish(),b}then(e,n){return this.finished.then(e,n)}get duration(){return Hs(this.calculatedDuration)}get time(){return Hs(this.currentTime)}set time(e){var n;e=Vs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Di.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Hs(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=Z9,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Di.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function v7(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Hl=t=>t*180/Math.PI,zw=t=>{const e=Hl(Math.atan2(t[1],t[0]));return jw(e)},y7={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:zw,rotateZ:zw,skewX:t=>Hl(Math.atan(t[1])),skewY:t=>Hl(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jw=t=>(t=t%360,t<0&&(t+=360),t),JC=zw,QC=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),ZC=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),_7={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:QC,scaleY:ZC,scale:t=>(QC(t)+ZC(t))/2,rotateX:t=>jw(Hl(Math.atan2(t[6],t[5]))),rotateY:t=>jw(Hl(Math.atan2(-t[2],t[0]))),rotateZ:JC,rotate:JC,skewX:t=>Hl(Math.atan(t[4])),skewY:t=>Hl(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Bw(t){return t.includes("scale")?1:0}function Vw(t,e){if(!t||t==="none")return Bw(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=_7,r=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=y7,r=a}if(!r)return Bw(e);const s=i[e],o=r[1].split(",").map(w7);return typeof s=="function"?s(o):o[s]}const x7=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Vw(n,e)};function w7(t){return parseFloat(t.trim())}const qd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xd=new Set(qd),eP=t=>t===$d||t===$e,b7=new Set(["x","y","z"]),S7=qd.filter(t=>!b7.has(t));function E7(t){const e=[];return S7.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const oc={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Vw(e,"x"),y:(t,{transform:e})=>Vw(e,"y")};oc.translateX=oc.x;oc.translateY=oc.y;const ac=new Set;let Hw=!1,Ww=!1,Gw=!1;function mN(){if(Ww){const t=Array.from(ac).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const r=E7(i);r.length&&(n.set(i,r),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=n.get(i);r&&r.forEach(([s,o])=>{var a;(a=i.getValue(s))==null||a.set(o)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Ww=!1,Hw=!1,ac.forEach(t=>t.complete(Gw)),ac.clear()}function gN(){ac.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Ww=!0)})}function T7(){Gw=!0,gN(),mN(),Gw=!1}class c1{constructor(e,n,i,r,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=r,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(ac.add(this),Hw||(Hw=!0,zt.read(gN),zt.resolveKeyframes(mN))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&n){const a=i.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),r&&s===void 0&&r.set(e[0])}v7(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ac.delete(this)}cancel(){this.state==="scheduled"&&(ac.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const M7=t=>t.startsWith("--");function C7(t,e,n){M7(e)?t.style.setProperty(e,n):t.style[e]=n}const P7=YE(()=>window.ScrollTimeline!==void 0),A7={};function R7(t,e){const n=YE(t);return()=>A7[e]??n()}const vN=R7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mh=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,tP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mh([0,.65,.55,1]),circOut:Mh([.55,0,1,.45]),backIn:Mh([.31,.01,.66,-.59]),backOut:Mh([.33,1.53,.69,.99])};function yN(t,e){if(t)return typeof t=="function"?vN()?hN(t,e):"ease-out":nN(t)?Mh(t):Array.isArray(t)?t.map(n=>yN(n,e)||tP.easeOut):tP[t]}function k7(t,e,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=yN(a,r);Array.isArray(d)&&(u.easing=d);const h={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),t.animate(u,h)}function _N(t){return typeof t=="function"&&"applyToOptions"in t}function D7({type:t,...e}){return _N(t)&&vN()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class I7 extends a1{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:r,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,av(typeof e.type!="string");const c=D7(e);this.animation=k7(n,i,r,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=o1(r,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):C7(n,i,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return Hs(Number(e))}get time(){return Hs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Vs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&P7()?(this.animation.timeline=e,Or):n(this)}}const xN={anticipate:QO,backInOut:JO,circInOut:eN};function L7(t){return t in xN}function O7(t){typeof t.ease=="string"&&L7(t.ease)&&(t.ease=xN[t.ease])}const nP=10;class N7 extends I7{constructor(e){O7(e),pN(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:r,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new l1({...o,autoplay:!1}),l=Vs(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-nP).value,a.sample(l).value,nP),a.stop()}}const iP=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ja.test(t)||t==="0")&&!t.startsWith("url("));function U7(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function F7(t,e,n,i){const r=t[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=iP(r,e),a=iP(s,e);return!o||!a?!1:U7(t)||(n==="spring"||_N(n))&&i}function $w(t){t.duration=0,t.type}const z7=new Set(["opacity","clipPath","filter","transform"]),j7=YE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function B7(t){var u;const{motionValue:e,name:n,repeatDelay:i,repeatType:r,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return j7()&&n&&z7.has(n)&&(n!=="transform"||!c)&&!l&&!i&&r!=="mirror"&&s!==0&&o!=="inertia"}const V7=40;class H7 extends a1{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...d}){var v;super(),this.stop=()=>{var m,g;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(g=this.keyframeResolver)==null||g.cancel()},this.createdAt=Di.now();const h={autoplay:e,delay:n,type:i,repeat:r,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...d},f=(u==null?void 0:u.KeyframeResolver)||c1;this.keyframeResolver=new f(a,(m,g,p)=>this.onKeyframesResolved(m,g,h,!p),l,c,u),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,n,i,r){this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=i;this.resolvedAt=Di.now(),F7(e,s,o,a)||((Oo.instantAnimations||!l)&&(u==null||u(o1(e,i,n))),e[0]=e[e.length-1],$w(i),i.repeat=0);const h={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>V7?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},f=!c&&B7(h)?new N7({...h,element:h.motionValue.owner.current}):new l1(h);f.finished.then(()=>this.notifyFinished()).catch(Or),this.pendingTimeline&&(this.stopTimeline=f.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=f}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),T7()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const W7=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function G7(t){const e=W7.exec(t);if(!e)return[,];const[,n,i,r]=e;return[`--${n??i}`,r]}function wN(t,e,n=1){const[i,r]=G7(t);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const o=s.trim();return HO(o)?parseFloat(o):o}return t1(r)?wN(r,e,n+1):r}function u1(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const bN=new Set(["width","height","top","left","right","bottom",...qd]),$7={test:t=>t==="auto",parse:t=>t},SN=t=>e=>e.test(t),EN=[$d,$e,Ws,ia,U9,N9,$7],rP=t=>EN.find(SN(t));function q7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||GO(t):!0}const X7=new Set(["brightness","contrast","saturate","opacity"]);function K7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(n1)||[];if(!i)return t;const r=n.replace(i,"");let s=X7.has(e)?1:0;return i!==n&&(s*=100),e+"("+s+r+")"}const Y7=/\b([a-z-]*)\(.*?\)/gu,qw={...Ja,getAnimatableNone:t=>{const e=t.match(Y7);return e?e.map(K7).join(" "):t}},sP={...$d,transform:Math.round},J7={rotate:ia,rotateX:ia,rotateY:ia,rotateZ:ia,scale:sm,scaleX:sm,scaleY:sm,scaleZ:sm,skew:ia,skewX:ia,skewY:ia,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:kf,originX:$C,originY:$C,originZ:$e},d1={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...J7,zIndex:sP,fillOpacity:kf,strokeOpacity:kf,numOctaves:sP},Q7={...d1,color:pn,backgroundColor:pn,outlineColor:pn,fill:pn,stroke:pn,borderColor:pn,borderTopColor:pn,borderRightColor:pn,borderBottomColor:pn,borderLeftColor:pn,filter:qw,WebkitFilter:qw},TN=t=>Q7[t];function MN(t,e){let n=TN(t);return n!==qw&&(n=Ja),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Z7=new Set(["auto","none","0"]);function eq(t,e,n){let i=0,r;for(;i<t.length&&!r;){const s=t[i];typeof s=="string"&&!Z7.has(s)&&Df(s).values.length&&(r=t[i]),i++}if(r&&n)for(const s of e)t[s]=MN(n,r)}class tq extends c1{constructor(e,n,i,r,s){super(e,n,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),t1(c))){const u=wN(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!bN.has(i)||e.length!==2)return;const[r,s]=e,o=rP(r),a=rP(s);if(o!==a)if(eP(o)&&eP(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else oc[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||q7(e[r]))&&i.push(r);i.length&&eq(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oc[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,o=i[s];i[s]=oc[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function nq(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const r=document.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const CN=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PN(t){return WO(t)&&"offsetHeight"in t}const oP=30,iq=t=>!isNaN(parseFloat(t));class rq{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{var s;const r=Di.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Di.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=iq(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new JE);const i=this.events[e].add(n);return e==="change"?()=>{i(),zt.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Di.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>oP)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,oP);return $O(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yd(t,e){return new rq(t,e)}const{schedule:h1,cancel:Nfe}=iN(queueMicrotask,!1),qr={x:!1,y:!1};function AN(){return qr.x||qr.y}function sq(t){return t==="x"||t==="y"?qr[t]?null:(qr[t]=!0,()=>{qr[t]=!1}):qr.x||qr.y?null:(qr.x=qr.y=!0,()=>{qr.x=qr.y=!1})}function RN(t,e){const n=nq(t),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[n,r,()=>i.abort()]}function aP(t){return!(t.pointerType==="touch"||AN())}function oq(t,e,n={}){const[i,r,s]=RN(t,n),o=a=>{if(!aP(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=d=>{aP(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,r)};return i.forEach(a=>{a.addEventListener("pointerenter",o,r)}),s}const kN=(t,e)=>e?t===e?!0:kN(t,e.parentElement):!1,f1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,aq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function lq(t){return aq.has(t.tagName)||t.tabIndex!==-1}const cg=new WeakSet;function lP(t){return e=>{e.key==="Enter"&&t(e)}}function V0(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cq=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=lP(()=>{if(cg.has(n))return;V0(n,"down");const r=lP(()=>{V0(n,"up")}),s=()=>V0(n,"cancel");n.addEventListener("keyup",r,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function cP(t){return f1(t)&&!AN()}function uq(t,e,n={}){const[i,r,s]=RN(t,n),o=a=>{const l=a.currentTarget;if(!cP(a))return;cg.add(l);const c=e(l,a),u=(f,v)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),cg.has(l)&&cg.delete(l),cP(f)&&typeof c=="function"&&c(f,{success:v})},d=f=>{u(f,l===window||l===document||n.useGlobalTarget||kN(l,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,r),window.addEventListener("pointercancel",h,r)};return i.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,r),PN(a)&&(a.addEventListener("focus",c=>cq(c,r)),!lq(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function DN(t){return WO(t)&&"ownerSVGElement"in t}function dq(t){return DN(t)&&t.tagName==="svg"}const Zn=t=>!!(t&&t.getVelocity),hq=[...EN,pn,Ja],fq=t=>hq.find(SN(t)),p1=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class pq extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,r=PN(i)&&i.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function mq({children:t,isPresent:e,anchorX:n,root:i}){const r=M.useId(),s=M.useRef(null),o=M.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=M.useContext(p1);return M.useInsertionEffect(()=>{const{width:l,height:c,top:u,left:d,right:h}=o.current;if(e||!s.current||!l||!c)return;const f=n==="left"?`left: ${d}`:`right: ${h}`;s.current.dataset.motionPopId=r;const v=document.createElement("style");a&&(v.nonce=a);const m=i??document.head;return m.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${c}px !important;
            ${f}px !important;
            top: ${u}px !important;
          }
        `),()=>{m.contains(v)&&m.removeChild(v)}},[e]),x.jsx(pq,{isPresent:e,childRef:s,sizeRef:o,children:M.cloneElement(t,{ref:s})})}const gq=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:r,presenceAffectsLayout:s,mode:o,anchorX:a,root:l})=>{const c=gy(vq),u=M.useId();let d=!0,h=M.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:r,onExitComplete:f=>{c.set(f,!0);for(const v of c.values())if(!v)return;i&&i()},register:f=>(c.set(f,!1),()=>c.delete(f))}),[n,c,i]);return s&&d&&(h={...h}),M.useMemo(()=>{c.forEach((f,v)=>c.set(v,!1))},[n]),M.useEffect(()=>{!n&&!c.size&&i&&i()},[n]),o==="popLayout"&&(t=x.jsx(mq,{isPresent:n,anchorX:a,root:l,children:t})),x.jsx(vy.Provider,{value:h,children:t})};function vq(){return new Map}function IN(t=!0){const e=M.useContext(vy);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:r}=e,s=M.useId();M.useEffect(()=>{if(t)return r(s)},[t]);const o=M.useCallback(()=>t&&i&&i(s),[s,i,t]);return!n&&i?[!1,o]:[!0]}const om=t=>t.key||"";function uP(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const yq=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:r=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",root:l})=>{const[c,u]=IN(o),d=M.useMemo(()=>uP(t),[t]),h=o&&!c?[]:d.map(om),f=M.useRef(!0),v=M.useRef(d),m=gy(()=>new Map),[g,p]=M.useState(d),[_,y]=M.useState(d);qE(()=>{f.current=!1,v.current=d;for(let S=0;S<_.length;S++){const E=om(_[S]);h.includes(E)?m.delete(E):m.get(E)!==!0&&m.set(E,!1)}},[_,h.length,h.join("-")]);const w=[];if(d!==g){let S=[...d];for(let E=0;E<_.length;E++){const P=_[E],T=om(P);h.includes(T)||(S.splice(E,0,P),w.push(P))}return s==="wait"&&w.length&&(S=w),y(uP(S)),p(d),null}const{forceRender:b}=M.useContext(GE);return x.jsx(x.Fragment,{children:_.map(S=>{const E=om(S),P=o&&!c?!1:d===_||h.includes(E),T=()=>{if(m.has(E))m.set(E,!0);else return;let C=!0;m.forEach(R=>{R||(C=!1)}),C&&(b==null||b(),y(v.current),o&&(u==null||u()),i&&i())};return x.jsx(gq,{isPresent:P,initial:!f.current||n?void 0:!1,custom:e,presenceAffectsLayout:r,mode:s,root:l,onExitComplete:P?void 0:T,anchorX:a,children:S},E)})})},LN=M.createContext({strict:!1}),dP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_d={};for(const t in dP)_d[t]={isEnabled:e=>dP[t].some(n=>!!e[n])};function _q(t){for(const e in t)_d[e]={..._d[e],...t[e]}}const xq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||xq.has(t)}let ON=t=>!dv(t);function wq(t){typeof t=="function"&&(ON=e=>e.startsWith("on")?!dv(e):t(e))}try{wq(require("@emotion/is-prop-valid").default)}catch{}function bq(t,e,n){const i={};for(const r in t)r==="values"&&typeof t.values=="object"||(ON(r)||n===!0&&dv(r)||!e&&!dv(r)||t.draggable&&r.startsWith("onDrag"))&&(i[r]=t[r]);return i}const yy=M.createContext({});function _y(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function If(t){return typeof t=="string"||Array.isArray(t)}const m1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g1=["initial",...m1];function xy(t){return _y(t.animate)||g1.some(e=>If(t[e]))}function NN(t){return!!(xy(t)||t.variants)}function Sq(t,e){if(xy(t)){const{initial:n,animate:i}=t;return{initial:n===!1||If(n)?n:void 0,animate:If(i)?i:void 0}}return t.inherit!==!1?e:{}}function Eq(t){const{initial:e,animate:n}=Sq(t,M.useContext(yy));return M.useMemo(()=>({initial:e,animate:n}),[hP(e),hP(n)])}function hP(t){return Array.isArray(t)?t.join(" "):t}const Lf={};function Tq(t){for(const e in t)Lf[e]=t[e],e1(e)&&(Lf[e].isCSSVariable=!0)}function UN(t,{layout:e,layoutId:n}){return Xd.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lf[t]||t==="opacity")}const Mq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Cq=qd.length;function Pq(t,e,n){let i="",r=!0;for(let s=0;s<Cq;s++){const o=qd[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=CN(a,d1[o]);if(!l){r=!1;const u=Mq[o]||o;i+=`${u}(${c}) `}n&&(e[o]=c)}}return i=i.trim(),n?i=n(e,r?"":i):r&&(i="none"),i}function v1(t,e,n){const{style:i,vars:r,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Xd.has(l)){o=!0;continue}else if(e1(l)){r[l]=c;continue}else{const u=CN(c,d1[l]);l.startsWith("origin")?(a=!0,s[l]=u):i[l]=u}}if(e.transform||(o||n?i.transform=Pq(e,t.transform,n):i.transform&&(i.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;i.transformOrigin=`${l} ${c} ${u}`}}const y1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function FN(t,e,n){for(const i in e)!Zn(e[i])&&!UN(i,n)&&(t[i]=e[i])}function Aq({transformTemplate:t},e){return M.useMemo(()=>{const n=y1();return v1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Rq(t,e){const n=t.style||{},i={};return FN(i,n,t),Object.assign(i,Aq(t,e)),i}function kq(t,e){const n={},i=Rq(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Dq={offset:"stroke-dashoffset",array:"stroke-dasharray"},Iq={offset:"strokeDashoffset",array:"strokeDasharray"};function Lq(t,e,n=1,i=0,r=!0){t.pathLength=1;const s=r?Dq:Iq;t[s.offset]=$e.transform(-i);const o=$e.transform(e),a=$e.transform(n);t[s.array]=`${o} ${a}`}function zN(t,{attrX:e,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(v1(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:h}=t;d.transform&&(h.transform=d.transform,delete d.transform),(h.transform||d.transformOrigin)&&(h.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),i!==void 0&&(d.scale=i),r!==void 0&&Lq(d,r,s,o,!1)}const jN=()=>({...y1(),attrs:{}}),BN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Oq(t,e,n,i){const r=M.useMemo(()=>{const s=jN();return zN(s,e,BN(i),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};FN(s,t.style,t),r.style={...s,...r.style}}return r}const Nq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function _1(t){return typeof t!="string"||t.includes("-")?!1:!!(Nq.indexOf(t)>-1||/[A-Z]/u.test(t))}function Uq(t,e,n,{latestValues:i},r,s=!1){const a=(_1(t)?Oq:kq)(e,i,r,t),l=bq(e,typeof t=="string",s),c=t!==M.Fragment?{...l,...a,ref:n}:{},{children:u}=e,d=M.useMemo(()=>Zn(u)?u.get():u,[u]);return M.createElement(t,{...c,children:d})}function fP(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function x1(t,e,n,i){if(typeof e=="function"){const[r,s]=fP(i);e=e(n!==void 0?n:t.custom,r,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[r,s]=fP(i);e=e(n!==void 0?n:t.custom,r,s)}return e}function ug(t){return Zn(t)?t.get():t}function Fq({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,r){return{latestValues:zq(n,i,r,t),renderState:e()}}function zq(t,e,n,i){const r={},s=i(t,{});for(const h in s)r[h]=ug(s[h]);let{initial:o,animate:a}=t;const l=xy(t),c=NN(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!_y(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const v=x1(t,h[f]);if(v){const{transitionEnd:m,transition:g,...p}=v;for(const _ in p){let y=p[_];if(Array.isArray(y)){const w=u?y.length-1:0;y=y[w]}y!==null&&(r[_]=y)}for(const _ in m)r[_]=m[_]}}}return r}const VN=t=>(e,n)=>{const i=M.useContext(yy),r=M.useContext(vy),s=()=>Fq(t,e,i,r);return n?s():gy(s)};function w1(t,e,n){var s;const{style:i}=t,r={};for(const o in i)(Zn(i[o])||e.style&&Zn(e.style[o])||UN(o,t)||((s=n==null?void 0:n.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(r[o]=i[o]);return r}const jq=VN({scrapeMotionValuesFromProps:w1,createRenderState:y1});function HN(t,e,n){const i=w1(t,e,n);for(const r in t)if(Zn(t[r])||Zn(e[r])){const s=qd.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=t[r]}return i}const Bq=VN({scrapeMotionValuesFromProps:HN,createRenderState:jN}),Vq=Symbol.for("motionComponentSymbol");function bu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Hq(t,e,n){return M.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):bu(n)&&(n.current=i))},[e])}const b1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Wq="framerAppearId",WN="data-"+b1(Wq),GN=M.createContext({});function Gq(t,e,n,i,r){var m,g;const{visualElement:s}=M.useContext(yy),o=M.useContext(LN),a=M.useContext(vy),l=M.useContext(p1).reducedMotion,c=M.useRef(null);i=i||o.renderer,!c.current&&i&&(c.current=i(t,{visualState:e,parent:s,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=M.useContext(GN);u&&!u.projection&&r&&(u.type==="html"||u.type==="svg")&&$q(c.current,n,r,d);const h=M.useRef(!1);M.useInsertionEffect(()=>{u&&h.current&&u.update(n,a)});const f=n[WN],v=M.useRef(!!f&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,f))&&((g=window.MotionHasOptimisedAnimation)==null?void 0:g.call(window,f)));return qE(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),v.current&&u.animationState&&u.animationState.animateChanges())}),M.useEffect(()=>{u&&(!v.current&&u.animationState&&u.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,f)}),v.current=!1),u.enteringChildren=void 0)}),u}function $q(t,e,n,i){const{layoutId:r,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:$N(t.parent)),t.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!o||a&&bu(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}function $N(t){if(t)return t.options.allowProjection!==!1?t.projection:$N(t.parent)}function H0(t,{forwardMotionProps:e=!1}={},n,i){n&&_q(n);const r=_1(t)?Bq:jq;function s(a,l){let c;const u={...M.useContext(p1),...a,layoutId:qq(a)},{isStatic:d}=u,h=Eq(a),f=r(a,d);if(!d&&$E){Xq();const v=Kq(u);c=v.MeasureLayout,h.visualElement=Gq(t,f,u,i,v.ProjectionNode)}return x.jsxs(yy.Provider,{value:h,children:[c&&h.visualElement?x.jsx(c,{visualElement:h.visualElement,...u}):null,Uq(t,a,Hq(f,h.visualElement,l),f,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=M.forwardRef(s);return o[Vq]=t,o}function qq({layoutId:t}){const e=M.useContext(GE).id;return e&&t!==void 0?e+"-"+t:t}function Xq(t,e){M.useContext(LN).strict}function Kq(t){const{drag:e,layout:n}=_d;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function Yq(t,e){if(typeof Proxy>"u")return H0;const n=new Map,i=(s,o)=>H0(s,o,t,e),r=(s,o)=>i(s,o);return new Proxy(r,{get:(s,o)=>o==="create"?i:(n.has(o)||n.set(o,H0(o,void 0,t,e)),n.get(o))})}function qN({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function Jq({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Qq(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function W0(t){return t===void 0||t===1}function Xw({scale:t,scaleX:e,scaleY:n}){return!W0(t)||!W0(e)||!W0(n)}function Al(t){return Xw(t)||XN(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function XN(t){return pP(t.x)||pP(t.y)}function pP(t){return t&&t!=="0%"}function hv(t,e,n){const i=t-n,r=e*i;return n+r}function mP(t,e,n,i,r){return r!==void 0&&(t=hv(t,r,i)),hv(t,n,i)+e}function Kw(t,e=0,n=1,i,r){t.min=mP(t.min,e,n,i,r),t.max=mP(t.max,e,n,i,r)}function KN(t,{x:e,y:n}){Kw(t.x,e.translate,e.scale,e.originPoint),Kw(t.y,n.translate,n.scale,n.originPoint)}const gP=.999999999999,vP=1.0000000000001;function Zq(t,e,n,i=!1){const r=n.length;if(!r)return;e.x=e.y=1;let s,o;for(let a=0;a<r;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Eu(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,KN(t,o)),i&&Al(s.latestValues)&&Eu(t,s.latestValues))}e.x<vP&&e.x>gP&&(e.x=1),e.y<vP&&e.y>gP&&(e.y=1)}function Su(t,e){t.min=t.min+e,t.max=t.max+e}function yP(t,e,n,i,r=.5){const s=Xt(t.min,t.max,r);Kw(t,e,n,s,i)}function Eu(t,e){yP(t.x,e.x,e.scaleX,e.scale,e.originX),yP(t.y,e.y,e.scaleY,e.scale,e.originY)}function YN(t,e){return qN(Qq(t.getBoundingClientRect(),e))}function eX(t,e,n){const i=YN(t,n),{scroll:r}=e;return r&&(Su(i.x,r.offset.x),Su(i.y,r.offset.y)),i}const _P=()=>({translate:0,scale:1,origin:0,originPoint:0}),Tu=()=>({x:_P(),y:_P()}),xP=()=>({min:0,max:0}),ln=()=>({x:xP(),y:xP()}),Yw={current:null},JN={current:!1};function tX(){if(JN.current=!0,!!$E)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yw.current=t.matches;t.addEventListener("change",e),e()}else Yw.current=!1}const nX=new WeakMap;function iX(t,e,n){for(const i in e){const r=e[i],s=n[i];if(Zn(r))t.addValue(i,r);else if(Zn(s))t.addValue(i,yd(r,{owner:t}));else if(s!==r)if(t.hasValue(i)){const o=t.getValue(i);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=t.getStaticValue(i);t.addValue(i,yd(o!==void 0?o:r,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const wP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rX{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=c1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Di.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,zt.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=xy(n),this.isVariantNode=NN(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const f=d[h];l[h]!==void 0&&Zn(f)&&f.set(l[h])}}mount(e){var n;this.current=e,nX.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((i,r)=>this.bindToMotionValue(r,i)),JN.current||tX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yw.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ya(this.notifyUpdate),Ya(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const i=this.features[n];i&&(i.unmount(),i.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Xd.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&zt.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{r(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _d){const n=_d[e];if(!n)continue;const{isEnabled:i,Feature:r}=n;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ln()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<wP.length;i++){const r=wP[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,o=e[s];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=iX(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=yd(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(HO(i)||GO(i))?i=parseFloat(i):!fq(i)&&Ja.test(n)&&(i=MN(e,n)),this.setBaseTarget(e,Zn(i)?i.get():i)),Zn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=x1(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!Zn(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new JE),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){h1.render(this.render)}}class QN extends rX{constructor(){super(...arguments),this.KeyframeResolver=tq}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Zn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function ZN(t,{style:e,vars:n},i,r){const s=t.style;let o;for(o in e)s[o]=e[o];r==null||r.applyProjectionStyles(s,i);for(o in n)s.setProperty(o,n[o])}function sX(t){return window.getComputedStyle(t)}class oX extends QN{constructor(){super(...arguments),this.type="html",this.renderInstance=ZN}readValueFromInstance(e,n){var i;if(Xd.has(n))return(i=this.projection)!=null&&i.isProjecting?Bw(n):x7(e,n);{const r=sX(e),s=(e1(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return YN(e,n)}build(e,n,i){v1(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return w1(e,n,i)}}const eU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function aX(t,e,n,i){ZN(t,e,void 0,i);for(const r in e.attrs)t.setAttribute(eU.has(r)?r:b1(r),e.attrs[r])}class lX extends QN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ln}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Xd.has(n)){const i=TN(n);return i&&i.default||0}return n=eU.has(n)?n:b1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return HN(e,n,i)}build(e,n,i){zN(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,r){aX(e,n,i,r)}mount(e){this.isSVGTag=BN(e.tagName),super.mount(e)}}const cX=(t,e)=>_1(t)?new lX(e):new oX(e,{allowProjection:t!==M.Fragment});function ju(t,e,n){const i=t.getProps();return x1(i,e,n!==void 0?n:i.custom,t)}const Jw=t=>Array.isArray(t);function uX(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yd(n))}function dX(t){return Jw(t)?t[t.length-1]||0:t}function S1(t,e){const n=ju(t,e);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const o in s){const a=dX(s[o]);uX(t,o,a)}}function hX(t){return!!(Zn(t)&&t.add)}function Qw(t,e){const n=t.getValue("willChange");if(hX(n))return n.add(e);if(!n&&Oo.WillChange){const i=new Oo.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function tU(t){return t.props[WN]}const fX=t=>t!==null;function pX(t,{repeat:e,repeatType:n="loop"},i){const r=t.filter(fX),s=e&&n!=="loop"&&e%2===1?0:r.length-1;return!s||i===void 0?r[s]:i}const mX={type:"spring",stiffness:500,damping:25,restSpeed:10},gX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),vX={type:"keyframes",duration:.8},yX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_X=(t,{keyframes:e})=>e.length>2?vX:Xd.has(t)?t.startsWith("scale")?gX(e[1]):mX:yX;function xX({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const E1=(t,e,n,i={},r,s)=>o=>{const a=u1(i,t)||{},l=a.delay||i.delay||0;let{elapsed:c=0}=i;c=c-Vs(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:r};xX(a)||Object.assign(u,_X(t,u)),u.duration&&(u.duration=Vs(u.duration)),u.repeatDelay&&(u.repeatDelay=Vs(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&($w(u),u.delay===0&&(d=!0)),(Oo.instantAnimations||Oo.skipAnimations)&&(d=!0,$w(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,d&&!s&&e.get()!==void 0){const h=pX(u.keyframes,a);if(h!==void 0){zt.update(()=>{u.onUpdate(h),u.onComplete()});return}}return a.isSync?new l1(u):new H7(u)};function wX({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function nU(t,e,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;i&&(s=i);const l=[],c=r&&t.animationState&&t.animationState.getState()[r];for(const u in a){const d=t.getValue(u,t.latestValues[u]??null),h=a[u];if(h===void 0||c&&wX(c,u))continue;const f={delay:n,...u1(s||{},u)},v=d.get();if(v!==void 0&&!d.isAnimating&&!Array.isArray(h)&&h===v&&!f.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const p=tU(t);if(p){const _=window.MotionHandoffAnimation(p,u,zt);_!==null&&(f.startTime=_,m=!0)}}Qw(t,u),d.start(E1(u,d,h,t.shouldReduceMotion&&bN.has(u)?{type:!1}:f,t,m));const g=d.animation;g&&l.push(g)}return o&&Promise.all(l).then(()=>{zt.update(()=>{o&&S1(t,o)})}),l}function iU(t,e,n,i=0,r=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*i;return typeof n=="function"?n(s,o):r===1?s*i:a-s*i}function Zw(t,e,n={}){var l;const i=ju(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(r=n.transitionOverride);const s=i?()=>Promise.all(nU(t,i,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=r;return bX(t,e,c,u,d,h,n)}:()=>Promise.resolve(),{when:a}=r;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function bX(t,e,n=0,i=0,r=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(Zw(l,e,{...o,delay:n+(typeof i=="function"?0:i)+iU(t.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function rU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>Zw(t,s,n));i=Promise.all(r)}else if(typeof e=="string")i=Zw(t,e,n);else{const r=typeof e=="function"?ju(t,e,n.custom):e;i=Promise.all(nU(t,r,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function sU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const SX=g1.length;function oU(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?oU(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SX;n++){const i=g1[n],r=t.props[i];(If(r)||r===!1)&&(e[i]=r)}return e}const EX=[...m1].reverse(),TX=m1.length;function MX(t){return e=>Promise.all(e.map(({animation:n,options:i})=>rU(t,n,i)))}function CX(t){let e=MX(t),n=bP(),i=!0;const r=l=>(c,u)=>{var h;const d=ju(t,u,l==="exit"?(h=t.presenceContext)==null?void 0:h.custom:void 0);if(d){const{transition:f,transitionEnd:v,...m}=d;c={...c,...m,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=oU(t.parent)||{},d=[],h=new Set;let f={},v=1/0;for(let g=0;g<TX;g++){const p=EX[g],_=n[p],y=c[p]!==void 0?c[p]:u[p],w=If(y),b=p===l?_.isActive:null;b===!1&&(v=g);let S=y===u[p]&&y!==c[p]&&w;if(S&&i&&t.manuallyAnimateOnMount&&(S=!1),_.protectedKeys={...f},!_.isActive&&b===null||!y&&!_.prevProp||_y(y)||typeof y=="boolean")continue;const E=PX(_.prevProp,y);let P=E||p===l&&_.isActive&&!S&&w||g>v&&w,T=!1;const C=Array.isArray(y)?y:[y];let R=C.reduce(r(p),{});b===!1&&(R={});const{prevResolvedValues:N={}}=_,I={...N,...R},O=z=>{P=!0,h.has(z)&&(T=!0,h.delete(z)),_.needsAnimating[z]=!0;const D=t.getValue(z);D&&(D.liveStyle=!1)};for(const z in I){const D=R[z],B=N[z];if(f.hasOwnProperty(z))continue;let K=!1;Jw(D)&&Jw(B)?K=!sU(D,B):K=D!==B,K?D!=null?O(z):h.add(z):D!==void 0&&h.has(z)?O(z):_.protectedKeys[z]=!0}_.prevProp=y,_.prevResolvedValues=R,_.isActive&&(f={...f,...R}),i&&t.blockInitialAnimation&&(P=!1);const H=S&&E;P&&(!H||T)&&d.push(...C.map(z=>{const D={type:p};if(typeof z=="string"&&i&&!H&&t.manuallyAnimateOnMount&&t.parent){const{parent:B}=t,K=ju(B,z);if(B.enteringChildren&&K){const{delayChildren:ne}=K.transition||{};D.delay=iU(B.enteringChildren,t,ne)}}return{animation:z,options:D}}))}if(h.size){const g={};if(typeof c.initial!="boolean"){const p=ju(t,Array.isArray(c.initial)?c.initial[0]:c.initial);p&&p.transition&&(g.transition=p.transition)}h.forEach(p=>{const _=t.getBaseTarget(p),y=t.getValue(p);y&&(y.liveStyle=!0),g[p]=_??null}),d.push({animation:g})}let m=!!d.length;return i&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(m=!1),i=!1,m?e(d):Promise.resolve()}function a(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(h=>{var f;return(f=h.animationState)==null?void 0:f.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const h in n)n[h].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=bP(),i=!0}}}function PX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sU(e,t):!1}function ul(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bP(){return{animate:ul(!0),whileInView:ul(),whileHover:ul(),whileTap:ul(),whileDrag:ul(),whileFocus:ul(),exit:ul()}}class ol{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AX extends ol{constructor(e){super(e),e.animationState||(e.animationState=CX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_y(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let RX=0;class kX extends ol{constructor(){super(...arguments),this.id=RX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);n&&!e&&r.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const DX={animation:{Feature:AX},exit:{Feature:kX}};function Of(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function pp(t){return{point:{x:t.pageX,y:t.pageY}}}const IX=t=>e=>f1(e)&&t(e,pp(e));function Xh(t,e,n,i){return Of(t,e,IX(n),i)}const aU=1e-4,LX=1-aU,OX=1+aU,lU=.01,NX=0-lU,UX=0+lU;function vi(t){return t.max-t.min}function FX(t,e,n){return Math.abs(t-e)<=n}function SP(t,e,n,i=.5){t.origin=i,t.originPoint=Xt(e.min,e.max,t.origin),t.scale=vi(n)/vi(e),t.translate=Xt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LX&&t.scale<=OX||isNaN(t.scale))&&(t.scale=1),(t.translate>=NX&&t.translate<=UX||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,n,i){SP(t.x,e.x,n.x,i?i.originX:void 0),SP(t.y,e.y,n.y,i?i.originY:void 0)}function EP(t,e,n){t.min=n.min+e.min,t.max=t.min+vi(e)}function zX(t,e,n){EP(t.x,e.x,n.x),EP(t.y,e.y,n.y)}function TP(t,e,n){t.min=e.min-n.min,t.max=t.min+vi(e)}function Yh(t,e,n){TP(t.x,e.x,n.x),TP(t.y,e.y,n.y)}function xr(t){return[t("x"),t("y")]}const cU=({current:t})=>t?t.ownerDocument.defaultView:null,MP=(t,e)=>Math.abs(t-e);function jX(t,e){const n=MP(t.x,e.x),i=MP(t.y,e.y);return Math.sqrt(n**2+i**2)}class uU{constructor(e,n,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=$0(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,v=jX(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!f&&!v)return;const{point:m}=h,{timestamp:g}=Fn;this.history.push({...m,timestamp:g});const{onStart:p,onMove:_}=this.handlers;f||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=G0(f,this.transformPagePoint),zt.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:v,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=$0(h.type==="pointercancel"?this.lastMoveEventInfo:G0(f,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,p),m&&m(h,p)},!f1(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=i,this.distanceThreshold=o,this.contextWindow=r||window;const a=pp(e),l=G0(a,this.transformPagePoint),{point:c}=l,{timestamp:u}=Fn;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,$0(l,this.history)),this.removeListeners=dp(Xh(this.contextWindow,"pointermove",this.handlePointerMove),Xh(this.contextWindow,"pointerup",this.handlePointerUp),Xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ya(this.updatePoint)}}function G0(t,e){return e?{point:e(t.point)}:t}function CP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $0({point:t},e){return{point:t,delta:CP(t,dU(e)),offset:CP(t,BX(e)),velocity:VX(e,.1)}}function BX(t){return t[0]}function dU(t){return t[t.length-1]}function VX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const r=dU(t);for(;n>=0&&(i=t[n],!(r.timestamp-i.timestamp>Vs(e)));)n--;if(!i)return{x:0,y:0};const s=Hs(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const o={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function HX(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Xt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Xt(n,t,i.max):Math.min(t,n)),t}function PP(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function WX(t,{top:e,left:n,bottom:i,right:r}){return{x:PP(t.x,n,r),y:PP(t.y,e,i)}}function AP(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function GX(t,e){return{x:AP(t.x,e.x),y:AP(t.y,e.y)}}function $X(t,e){let n=.5;const i=vi(t),r=vi(e);return r>i?n=Rf(e.min,e.max-i,t.min):i>r&&(n=Rf(t.min,t.max-r,e.min)),Lo(0,1,n)}function qX(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const eb=.35;function XX(t=eb){return t===!1?t=0:t===!0&&(t=eb),{x:RP(t,"left","right"),y:RP(t,"top","bottom")}}function RP(t,e,n){return{min:kP(t,e),max:kP(t,n)}}function kP(t,e){return typeof t=="number"?t:t[e]||0}const KX=new WeakMap;class YX{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ln(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(pp(d).point)},o=(d,h)=>{const{drag:f,dragPropagation:v,onDragStart:m}=this.getProps();if(f&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sq(f),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xr(p=>{let _=this.getAxisMotionValue(p).get()||0;if(Ws.test(_)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[p];w&&(_=vi(w)*(parseFloat(_)/100))}}this.originPoint[p]=_}),m&&zt.postRender(()=>m(d,h)),Qw(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},a=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h;const{dragPropagation:f,dragDirectionLock:v,onDirectionLock:m,onDrag:g}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:p}=h;if(v&&this.currentDirection===null){this.currentDirection=JX(p),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),g&&g(d,h)},l=(d,h)=>{this.latestPointerEvent=d,this.latestPanInfo=h,this.stop(d,h),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>xr(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)==null?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new uU(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:i,contextWindow:cU(this.visualElement)})}stop(e,n){const i=e||this.latestPointerEvent,r=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&zt.postRender(()=>a(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:r}=this.getProps();if(!i||!am(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(o=HX(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&bu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=WX(i.layoutBox,e):this.constraints=!1,this.elastic=XX(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=qX(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!bu(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=eX(i,r.root,this.visualElement.getTransformPagePoint());let o=GX(r.layout.layoutBox,s);if(n){const a=n(Jq(o));this.hasMutatedConstraints=!!a,a&&(o=qN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=xr(u=>{if(!am(u,n,this.currentDirection))return;let d=l&&l[u]||{};o&&(d={min:0,max:0});const h=r?200:1e6,f=r?40:1e7,v={type:"inertia",velocity:i?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Qw(this.visualElement,e),i.start(E1(e,i,0,n,this.visualElement,!1))}stopAnimation(){xr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[n];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){xr(n=>{const{drag:i}=this.getProps();if(!am(n,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:a}=r.layout.layoutBox[n];s.set(e[n]-Xt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!bu(n)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};xr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();r[o]=$X({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),xr(o=>{if(!am(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Xt(l,c,r[o]))})}addListeners(){if(!this.visualElement.current)return;KX.set(this.visualElement,this);const e=this.visualElement.current,n=Xh(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();bu(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),zt.read(i);const o=Of(window,"resize",()=>this.scalePositionWithinConstraints()),a=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(xr(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:o=eb,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function am(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JX(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class QX extends ol{constructor(e){super(e),this.removeGroupControls=Or,this.removeListeners=Or,this.controls=new YX(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Or}unmount(){this.removeGroupControls(),this.removeListeners()}}const DP=t=>(e,n)=>{t&&zt.postRender(()=>t(e,n))};class ZX extends ol{constructor(){super(...arguments),this.removePointerDownListener=Or}onPointerDown(e){this.session=new uU(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cU(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:DP(e),onStart:DP(n),onMove:i,onEnd:(s,o)=>{delete this.session,r&&zt.postRender(()=>r(s,o))}}}mount(){this.removePointerDownListener=Xh(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IP(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=IP(t,e.target.x),i=IP(t,e.target.y);return`${n}% ${i}%`}},eK={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,r=Ja.parse(t);if(r.length>5)return i;const s=Ja.createTransformer(t),o=typeof r[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;r[0+o]/=a,r[1+o]/=l;const c=Xt(a,l,.5);return typeof r[2+o]=="number"&&(r[2+o]/=c),typeof r[3+o]=="number"&&(r[3+o]/=c),s(r)}};let q0=!1;class tK extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;Tq(nK),s&&(n.group&&n.group.add(s),i&&i.register&&r&&i.register(s),q0&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:r,isPresent:s}=this.props,{projection:o}=i;return o&&(o.isPresent=s,q0=!0,r||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||zt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),h1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:r}=e;q0=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function hU(t){const[e,n]=IN(),i=M.useContext(GE);return x.jsx(tK,{...t,layoutGroup:i,switchLayoutGroup:M.useContext(GN),isPresent:e,safeToRemove:n})}const nK={borderRadius:{...dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dh,borderTopRightRadius:dh,borderBottomLeftRadius:dh,borderBottomRightRadius:dh,boxShadow:eK};function iK(t,e,n){const i=Zn(t)?t:yd(t);return i.start(E1("",i,e,n)),i.animation}const rK=(t,e)=>t.depth-e.depth;class sK{constructor(){this.children=[],this.isDirty=!1}add(e){XE(this.children,e),this.isDirty=!0}remove(e){KE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(rK),this.isDirty=!1,this.children.forEach(e)}}function oK(t,e){const n=Di.now(),i=({timestamp:r})=>{const s=r-n;s>=e&&(Ya(i),t(s-e))};return zt.setup(i,!0),()=>Ya(i)}const fU=["TopLeft","TopRight","BottomLeft","BottomRight"],aK=fU.length,LP=t=>typeof t=="string"?parseFloat(t):t,OP=t=>typeof t=="number"||$e.test(t);function lK(t,e,n,i,r,s){r?(t.opacity=Xt(0,n.opacity??1,cK(i)),t.opacityExit=Xt(e.opacity??1,0,uK(i))):s&&(t.opacity=Xt(e.opacity??1,n.opacity??1,i));for(let o=0;o<aK;o++){const a=`border${fU[o]}Radius`;let l=NP(e,a),c=NP(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||OP(l)===OP(c)?(t[a]=Math.max(Xt(LP(l),LP(c),i),0),(Ws.test(c)||Ws.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Xt(e.rotate||0,n.rotate||0,i))}function NP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cK=pU(0,.5,ZO),uK=pU(.5,.95,Or);function pU(t,e,n){return i=>i<t?0:i>e?1:n(Rf(t,e,i))}function UP(t,e){t.min=e.min,t.max=e.max}function vr(t,e){UP(t.x,e.x),UP(t.y,e.y)}function FP(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function zP(t,e,n,i,r){return t-=e,t=hv(t,1/n,i),r!==void 0&&(t=hv(t,1/r,i)),t}function dK(t,e=0,n=1,i=.5,r,s=t,o=t){if(Ws.test(e)&&(e=parseFloat(e),e=Xt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Xt(s.min,s.max,i);t===s&&(a-=e),t.min=zP(t.min,e,n,a,r),t.max=zP(t.max,e,n,a,r)}function jP(t,e,[n,i,r],s,o){dK(t,e[n],e[i],e[r],e.scale,s,o)}const hK=["x","scaleX","originX"],fK=["y","scaleY","originY"];function BP(t,e,n,i){jP(t.x,e,hK,n?n.x:void 0,i?i.x:void 0),jP(t.y,e,fK,n?n.y:void 0,i?i.y:void 0)}function VP(t){return t.translate===0&&t.scale===1}function mU(t){return VP(t.x)&&VP(t.y)}function HP(t,e){return t.min===e.min&&t.max===e.max}function pK(t,e){return HP(t.x,e.x)&&HP(t.y,e.y)}function WP(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function gU(t,e){return WP(t.x,e.x)&&WP(t.y,e.y)}function GP(t){return vi(t.x)/vi(t.y)}function $P(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class mK{constructor(){this.members=[]}add(e){XE(this.members,e),e.scheduleRender()}remove(e){if(KE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(r=>e===r);if(n===0)return!1;let i;for(let r=n;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gK(t,e,n){let i="";const r=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((r||s||o)&&(i=`translate3d(${r}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:v}=n;c&&(i=`perspective(${c}px) ${i}`),u&&(i+=`rotate(${u}deg) `),d&&(i+=`rotateX(${d}deg) `),h&&(i+=`rotateY(${h}deg) `),f&&(i+=`skewX(${f}deg) `),v&&(i+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(i+=`scale(${a}, ${l})`),i||"none"}const X0=["","X","Y","Z"],vK=1e3;let yK=0;function K0(t,e,n,i){const{latestValues:r}=e;r[t]&&(n[t]=r[t],e.setStaticValue(t,0),i&&(i[t]=0))}function vU(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=tU(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",zt,!(r||s))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&vU(i)}function yU({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(o={},a=e==null?void 0:e()){this.id=yK++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(wK),this.nodes.forEach(TK),this.nodes.forEach(MK),this.nodes.forEach(bK)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new sK)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new JE),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=DN(o)&&!dq(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,d=0;const h=()=>this.root.updateBlockedByResize=!1;zt.read(()=>{d=window.innerWidth}),t(o,()=>{const f=window.innerWidth;f!==d&&(d=f,this.root.updateBlockedByResize=!0,u&&u(),u=oK(h,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(KP)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:h,layout:f})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||c.getDefaultTransition()||kK,{onLayoutAnimationStart:m,onLayoutAnimationComplete:g}=c.getProps(),p=!this.targetLayout||!gU(this.targetLayout,f),_=!d&&h;if(this.options.layoutRoot||this.resumeFrom||_||d&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...u1(v,"layout"),onPlay:m,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(u,_)}else d||KP(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=f})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ya(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CK),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qP);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(XP);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(EK),this.nodes.forEach(_K),this.nodes.forEach(xK)):this.nodes.forEach(XP),this.clearAllSnapshots();const a=Di.now();Fn.delta=Lo(0,1e3/60,a-Fn.timestamp),Fn.timestamp=a,Fn.isProcessing=!0,U0.update.process(Fn),U0.preRender.process(Fn),U0.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,h1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SK),this.sharedNodes.forEach(PK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vi(this.snapshot.measuredBox.x)&&!vi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ln(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!mU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||Al(this.latestValues)||u)&&(r(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),DK(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ln();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(IK))){const{scroll:u}=this.root;u&&(Su(a.x,u.offset.x),Su(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=ln();if(vr(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&vr(a,o),Su(a.x,d.offset.x),Su(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const l=ln();vr(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Eu(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Al(u.latestValues)&&Eu(l,u.latestValues)}return Al(this.latestValues)&&Eu(l,this.latestValues),l}removeTransform(o){const a=ln();vr(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Al(c.latestValues))continue;Xw(c.latestValues)&&c.updateSnapshot();const u=ln(),d=c.measurePageBox();vr(u,d),BP(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Al(this.latestValues)&&BP(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Yh(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ln(),this.targetWithTransforms=ln()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),KN(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ln(),this.relativeTargetOrigin=ln(),Yh(this.relativeTargetOrigin,this.target,f.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Xw(this.parent.latestValues)||XN(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;vr(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;Zq(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ln());const{target:f}=o;if(!f){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(FP(this.prevProjectionDelta.x,this.projectionDelta.x),FP(this.prevProjectionDelta.y,this.projectionDelta.y)),Kh(this.projectionDelta,this.layoutCorrected,f,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==h||!$P(this.projectionDelta.x,this.prevProjectionDelta.x)||!$P(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",f))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Tu(),this.projectionDelta=Tu(),this.projectionDeltaWithTransform=Tu()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=Tu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ln(),f=l?l.source:void 0,v=this.layout?this.layout.source:void 0,m=f!==v,g=this.getStack(),p=!g||g.members.length<=1,_=!!(m&&!p&&this.options.crossfade===!0&&!this.path.some(RK));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const b=w/1e3;YP(d.x,o.x,b),YP(d.y,o.y,b),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yh(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AK(this.relativeTarget,this.relativeTargetOrigin,h,b),y&&pK(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=ln()),vr(y,this.relativeTarget)),m&&(this.animationValues=u,lK(u,c,this.latestValues,b,_,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=b},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ya(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zt.update(()=>{dg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=yd(0)),this.currentAnimation=iK(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(vK),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&_U(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ln();const d=vi(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=vi(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}vr(a,l),Eu(a,u),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mK),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&K0("z",o,c,this.animationValues);for(let u=0;u<X0.length;u++)K0(`rotate${X0[u]}`,o,c,this.animationValues),K0(`skew${X0[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=ug(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=ug(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Al(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=gK(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),o.transform=d;const{x:h,y:f}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${f.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const v in Lf){if(u[v]===void 0)continue;const{correct:m,applyTo:g,isCSSVariable:p}=Lf[v],_=d==="none"?u[v]:m(u[v],c);if(g){const y=g.length;for(let w=0;w<y;w++)o[g[w]]=_}else p?this.options.visualElement.renderState.vars[v]=_:o[v]=_}this.options.layoutId&&(o.pointerEvents=c===this?ug(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(qP),this.root.sharedNodes.clear()}}}function _K(t){t.updateLayout()}function xK(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?xr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=vi(h);h.min=i[d].min,h.max=h.min+f}):_U(s,e.layoutBox,i)&&xr(d=>{const h=o?e.measuredBox[d]:e.layoutBox[d],f=vi(i[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=Tu();Kh(a,i,e.layoutBox);const l=Tu();o?Kh(l,t.applyTransform(r,!0),e.measuredBox):Kh(l,i,e.layoutBox);const c=!mU(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const v=ln();Yh(v,e.layoutBox,h.layoutBox);const m=ln();Yh(m,i,f.layoutBox),gU(v,m)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=m,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function wK(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function bK(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SK(t){t.clearSnapshot()}function qP(t){t.clearMeasurements()}function XP(t){t.isLayoutDirty=!1}function EK(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function KP(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function TK(t){t.resolveTargetDelta()}function MK(t){t.calcProjection()}function CK(t){t.resetSkewAndRotation()}function PK(t){t.removeLeadSnapshot()}function YP(t,e,n){t.translate=Xt(e.translate,0,n),t.scale=Xt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function JP(t,e,n,i){t.min=Xt(e.min,n.min,i),t.max=Xt(e.max,n.max,i)}function AK(t,e,n,i){JP(t.x,e.x,n.x,i),JP(t.y,e.y,n.y,i)}function RK(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const kK={duration:.45,ease:[.4,0,.1,1]},QP=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ZP=QP("applewebkit/")&&!QP("chrome/")?Math.round:Or;function eA(t){t.min=ZP(t.min),t.max=ZP(t.max)}function DK(t){eA(t.x),eA(t.y)}function _U(t,e,n){return t==="position"||t==="preserve-aspect"&&!FX(GP(e),GP(n),.2)}function IK(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const LK=yU({attachResizeListener:(t,e)=>Of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Y0={current:void 0},xU=yU({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Y0.current){const t=new LK({});t.mount(window),t.setOptions({layoutScroll:!0}),Y0.current=t}return Y0.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OK={pan:{Feature:ZX},drag:{Feature:QX,ProjectionNode:xU,MeasureLayout:hU}};function tA(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,s=i[r];s&&zt.postRender(()=>s(e,pp(e)))}class NK extends ol{mount(){const{current:e}=this.node;e&&(this.unmount=oq(e,(n,i)=>(tA(this.node,i,"Start"),r=>tA(this.node,r,"End"))))}unmount(){}}class UK extends ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=dp(Of(this.node.current,"focus",()=>this.onFocus()),Of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nA(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),s=i[r];s&&zt.postRender(()=>s(e,pp(e)))}class FK extends ol{mount(){const{current:e}=this.node;e&&(this.unmount=uq(e,(n,i)=>(nA(this.node,i,"Start"),(r,{success:s})=>nA(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const tb=new WeakMap,J0=new WeakMap,zK=t=>{const e=tb.get(t.target);e&&e(t)},jK=t=>{t.forEach(zK)};function BK({root:t,...e}){const n=t||document;J0.has(n)||J0.set(n,{});const i=J0.get(n),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(jK,{root:t,...e})),i[r]}function VK(t,e,n){const i=BK(e);return tb.set(t,n),i.observe(t),()=>{tb.delete(t),i.unobserve(t)}}const HK={some:0,all:1};class WK extends ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:r="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:HK[r]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return VK(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(GK(e,n))&&this.startObserver()}unmount(){}}function GK({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const $K={inView:{Feature:WK},tap:{Feature:FK},focus:{Feature:UK},hover:{Feature:NK}},qK={layout:{ProjectionNode:xU,MeasureLayout:hU}},XK={...DX,...$K,...OK,...qK},st=Yq(XK,cX);function KK(t){t.values.forEach(e=>e.stop())}function nb(t,e){[...e].reverse().forEach(i=>{const r=t.getVariant(i);r&&S1(t,r),t.variantChildren&&t.variantChildren.forEach(s=>{nb(s,e)})})}function YK(t,e){if(Array.isArray(e))return nb(t,e);if(typeof e=="string")return nb(t,[e]);S1(t,e)}function JK(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,i){const r=[];return t.forEach(s=>{r.push(rU(s,n,{transitionOverride:i}))}),Promise.all(r)},set(n){return t.forEach(i=>{YK(i,n)})},stop(){t.forEach(n=>{KK(n)})},mount(){return()=>{e.stop()}}};return e}function QK(){const t=gy(JK);return qE(t.mount,[]),t}const ZK=QK;function eY({items:t,className:e}){const n=Wo(),[i,r]=M.useState(!1),[s,o]=M.useState(()=>window.location.hash);return M.useEffect(()=>{const a=()=>{r(window.innerWidth<768)};return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),M.useEffect(()=>{const a=()=>o(window.location.hash);return window.addEventListener("hashchange",a),window.addEventListener("popstate",a),()=>{window.removeEventListener("hashchange",a),window.removeEventListener("popstate",a)}},[]),x.jsx("div",{className:yt("flex items-center gap-2",e),children:x.jsx("div",{className:"flex items-center gap-1 bg-background/5 border border-border backdrop-blur-lg py-1 px-1 rounded-full shadow-lg",children:t.map(a=>{const l=a.icon,c=n.pathname,u=a.url.includes("#");let d=!1;if(u){const f=a.url.substring(a.url.indexOf("#"));d=c==="/"&&s===f}else d=a.url==="/"?c==="/"&&!n.hash:c===a.url||c.startsWith(a.url+"/");const h=f=>{if(!u)return;const v=a.url.substring(a.url.indexOf("#")),m=v.slice(1);if(c==="/"){f.preventDefault();const g=document.getElementById(m);g&&(g.scrollIntoView({behavior:"smooth",block:"start"}),history.replaceState(null,"",`/${v}`),o(v),window.dispatchEvent(new HashChangeEvent("hashchange")))}};return x.jsxs(jn,{to:a.url,onClick:h,className:yt("relative cursor-pointer text-sm font-semibold px-3 md:px-4 py-2 rounded-full transition-colors","text-foreground/80 hover:text-primary",d&&"bg-muted text-primary"),children:[x.jsx("span",{className:"hidden md:inline",children:a.name}),x.jsx("span",{className:"md:hidden",children:x.jsx(l,{size:16,strokeWidth:2.5})}),d&&x.jsx(st.div,{layoutId:"lamp",className:"absolute inset-0 w-full bg-primary/5 rounded-full -z-10",initial:!1,transition:{type:"spring",stiffness:300,damping:30},children:x.jsxs("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-6 h-1 bg-primary rounded-t-full",children:[x.jsx("div",{className:"absolute w-8 h-4 bg-primary/20 rounded-full blur-md -top-1 -left-1"}),x.jsx("div",{className:"absolute w-6 h-4 bg-primary/20 rounded-full blur-md -top-0.5"}),x.jsx("div",{className:"absolute w-3 h-3 bg-primary/20 rounded-full blur-sm top-0 left-1.5"})]})})]},a.name)})})})}async function us(t){var n;const e={};(!t||t.json!==!1)&&(e["Content-Type"]="application/json");try{const i=(n=globalThis==null?void 0:globalThis.sessionStorage)==null?void 0:n.getItem("admin_password");i&&(e["x-admin-password"]=i)}catch{}return e}const tY=new Set(["/","/contact"]),nY=[{slug:"about",title:"About"},{slug:"team",title:"Team"},{slug:"programs",title:"Programs"},{slug:"events",title:"Events"},{slug:"projects",title:"Projects"},{slug:"resources",title:"Resources"},{slug:"join",title:"Join"},{slug:"dashboard",title:"Dashboard"},{slug:"dashboard-landing",title:"Dashboard Landing"},{slug:"spiral",title:"Spiral"},{slug:"wavy",title:"Wavy"}],wU=M.createContext(null);function iY({children:t}){const[e,n]=M.useState({}),[i,r]=M.useState(!0),[s,o]=M.useState(void 0),a=async()=>{r(!0),o(void 0);try{const d=await fetch("/api/public/pages");if(!d.ok)throw new Error(await d.text());const h=await d.json(),f={};for(const v of h||[])f[v.slug]=!!v.visible;n(f)}catch(d){o(d==null?void 0:d.message)}finally{r(!1)}};M.useEffect(()=>{a()},[]);const l=async(d,h)=>{n(f=>({...f,[d]:h}));try{const f=await us();await fetch(`/api/admin/pages/${d}`,{method:"PATCH",headers:f,body:JSON.stringify({visible:h})})}catch{}},c=d=>{if(!d||!d.startsWith("/")||tY.has(d))return!0;const h=d.replace(/^\//,"");return e[h]!==!1},u=M.useMemo(()=>({map:e,loading:i,error:s,refresh:a,setVisible:l,isLinkVisible:c,knownPages:nY}),[e,i,s]);return x.jsx(wU.Provider,{value:u,children:t})}function wy(){const t=M.useContext(wU);if(!t)throw new Error("useSiteVisibility must be used within SiteVisibilityProvider");return t}function bU(){const{isLinkVisible:t}=wy(),n=[{name:"Home",url:"/",icon:yW},{name:"About",url:"/#about",icon:xW},{name:"Events",url:"/#events",icon:og},{name:"Projects",url:"/#projects",icon:UL},{name:"Team",url:"/#team",icon:Sf},{name:"Contact",url:"/#contact",icon:RW}].filter(i=>t(i.url));return x.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 bg-background/80 backdrop-blur-lg border-b border-border",children:x.jsxs("div",{className:"container mx-auto px-4 sm:px-6 py-3 sm:py-4",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx(jn,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity group",children:x.jsx("div",{className:"relative flex items-center h-full",children:x.jsx("img",{src:"/aihackerdorm-logo1.svg",alt:"AI HackerDorm Logo",className:"h-10 w-auto sm:h-14 transition-transform duration-200 hover:scale-105",style:{minHeight:"40px",maxHeight:"56px",width:"auto",objectFit:"contain",display:"block",padding:"6px 0",marginRight:"8px"}})})})}),x.jsx("div",{className:"hidden md:block",children:x.jsx(eY,{items:n,className:"relative"})})]}),x.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 justify-self-end",children:[x.jsx(yw,{children:x.jsx(rC,{mode:"modal",children:x.jsx(Pt,{variant:"outline",size:"sm",children:"Sign In"})})}),x.jsxs(vw,{children:[x.jsx(jn,{to:"/dashboard",children:x.jsx(Pt,{variant:"outline",size:"sm",children:"Dashboard"})}),x.jsx(QM,{afterSignOutUrl:"/"})]})]}),x.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[x.jsx(yw,{children:x.jsx(Pt,{asChild:!0,variant:"outline",children:x.jsx(rC,{mode:"modal"})})}),x.jsx(vw,{children:x.jsx(QM,{afterSignOutUrl:"/"})})]})]})})}const SU=M.forwardRef(({texts:t,transition:e={type:"spring",damping:25,stiffness:300},initial:n={y:"100%",opacity:0},animate:i={y:0,opacity:1},exit:r={y:"-120%",opacity:0},animatePresenceMode:s="wait",animatePresenceInitial:o=!1,rotationInterval:a=2e3,staggerDuration:l=0,staggerFrom:c="first",loop:u=!0,auto:d=!0,splitBy:h="characters",onNext:f,mainClassName:v,splitLevelClassName:m,elementLevelClassName:g,...p},_)=>{const[y,w]=M.useState(0),b=I=>Array.from(I),S=M.useMemo(()=>{const I=t[y];if(h==="characters"){const O=I.split(" ");return O.map((H,V)=>({characters:b(H),needsSpace:V!==O.length-1}))}return h==="words"?I.split(" "):h==="lines"?I.split(`
`):I.split(h)},[t,y,h]),E=M.useCallback((I,O)=>{const H=O;if(c==="first")return I*l;if(c==="last")return(H-1-I)*l;if(c==="center"){const V=Math.floor(H/2);return Math.abs(V-I)*l}if(c==="random"){const V=Math.floor(Math.random()*H);return Math.abs(V-I)*l}return Math.abs(c-I)*l},[c,l]),P=M.useCallback(I=>{w(I),f==null||f(I)},[f]),T=M.useCallback(()=>{const I=y===t.length-1?u?0:y:y+1;I!==y&&P(I)},[y,t.length,u,P]),C=M.useCallback(()=>{const I=y===0?u?t.length-1:y:y-1;I!==y&&P(I)},[y,t.length,u,P]),R=M.useCallback(I=>{const O=Math.max(0,Math.min(I,t.length-1));O!==y&&P(O)},[t.length,y,P]),N=M.useCallback(()=>{y!==0&&P(0)},[y,P]);return M.useImperativeHandle(_,()=>({next:T,previous:C,jumpTo:R,reset:N}),[T,C,R,N]),M.useEffect(()=>{if(!d)return;const I=setInterval(T,a);return()=>clearInterval(I)},[T,a,d]),x.jsxs(st.span,{className:yt("flex flex-wrap whitespace-pre-wrap",v),...p,layout:!0,transition:e,children:[x.jsx("span",{className:"sr-only",children:t[y]}),x.jsx(yq,{mode:s,initial:o,children:x.jsx(st.div,{className:yt("flex flex-wrap",h==="lines"&&"flex-col w-full"),layout:!0,"aria-hidden":"true",children:(h==="characters"?S:S.map((I,O)=>({characters:[I],needsSpace:O!==S.length-1}))).map((I,O,H)=>{const V=H.slice(0,O).reduce((z,D)=>z+D.characters.length,0);return x.jsxs("span",{className:yt("inline-flex",m),children:[I.characters.map((z,D)=>x.jsx(st.span,{initial:n,animate:i,exit:r,transition:{...e,delay:E(V+D,H.reduce((B,K)=>B+K.characters.length,0))},className:yt("inline-block",g),children:z},D)),I.needsSpace&&x.jsx("span",{className:"whitespace-pre",children:" "})]},O)})},y)})]})});SU.displayName="TextRotate";function rY({color:t="hsl(var(--primary))",backgroundColor:e="hsl(var(--background))",duration:n=150,blurIntensity:i="1em",density:r=1,className:s}){const o=()=>[`radial-gradient(4px 100px at 0px 235px, ${t}, transparent)`,`radial-gradient(4px 100px at 300px 235px, ${t}, transparent)`,`radial-gradient(1.5px 1.5px at 150px 117.5px, ${t} 100%, transparent 150%)`,`radial-gradient(4px 100px at 0px 252px, ${t}, transparent)`,`radial-gradient(4px 100px at 300px 252px, ${t}, transparent)`,`radial-gradient(1.5px 1.5px at 150px 126px, ${t} 100%, transparent 150%)`,`radial-gradient(4px 100px at 0px 150px, ${t}, transparent)`,`radial-gradient(4px 100px at 300px 150px, ${t}, transparent)`,`radial-gradient(1.5px 1.5px at 150px 75px, ${t} 100%, transparent 150%)`,`radial-gradient(4px 100px at 0px 253px, ${t}, transparent)`,`radial-gradient(4px 100px at 300px 253px, ${t}, transparent)`,`radial-gradient(1.5px 1.5px at 150px 126.5px, ${t} 100%, transparent 150%)`,`radial-gradient(4px 100px at 0px 204px, ${t}, transparent)`,`radial-gradient(4px 100px at 300px 204px, ${t}, transparent)`,`radial-gradient(1.5px 1.5px at 150px 102px, ${t} 100%, transparent 150%)`].join(", "),a=["300px 235px","300px 235px","300px 235px","300px 252px","300px 252px","300px 252px","300px 150px","300px 150px","300px 150px","300px 253px","300px 253px","300px 253px","300px 204px","300px 204px","300px 204px"].join(", "),l="0px 220px, 3px 220px, 151.5px 337.5px, 25px 24px, 28px 24px, 176.5px 150px, 50px 16px, 53px 16px, 201.5px 91px, 75px 224px, 78px 224px, 226.5px 230.5px, 100px 19px, 103px 19px, 251.5px 121px";return x.jsxs("div",{className:yt("relative h-full w-full p-1",s),children:[x.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"size-full",children:x.jsx(st.div,{className:"relative size-full z-0",style:{backgroundColor:e,backgroundImage:o(),backgroundSize:a},variants:{initial:{backgroundPosition:l},animate:{backgroundPosition:[l,"0px 6800px, 3px 6800px, 151.5px 6917.5px, 25px 13632px, 28px 13632px, 176.5px 13758px, 50px 5416px, 53px 5416px, 201.5px 5491px, 75px 17175px, 78px 17175px, 226.5px 17301.5px, 100px 5119px, 103px 5119px, 251.5px 5221px"],transition:{duration:n,ease:"linear",repeat:Number.POSITIVE_INFINITY}}},initial:"initial",animate:"animate"})}),x.jsx("div",{className:"absolute inset-0 z-1 dark:brightness-600",style:{backdropFilter:`blur(${i})`,backgroundImage:`radial-gradient(circle at 50% 50%, transparent 0, transparent 2px, ${e} 2px)`,backgroundSize:`${8*r}px ${8*r}px`}})]})}var iA=["x","y","z"],ao=function(t){Object.assign(this,{uniforms:{},geometry:{vertices:[{x:0,y:0,z:0}]},mode:0,modifiers:{},attributes:[],multiplier:1,buffers:[]}),Object.assign(this,t),this.prepareProgram(),this.prepareUniforms(),this.prepareAttributes()};ao.prototype.compileShader=function(t,e){var n=this.gl.createShader(t);return this.gl.shaderSource(n,e),this.gl.compileShader(n),n},ao.prototype.prepareProgram=function(){var t=this.gl,e=this.vertex,n=this.fragment,i=t.createProgram();t.attachShader(i,this.compileShader(35633,e)),t.attachShader(i,this.compileShader(35632,n)),t.linkProgram(i),t.useProgram(i),this.program=i},ao.prototype.prepareUniforms=function(){for(var t=Object.keys(this.uniforms),e=0;e<t.length;e+=1){var n=this.gl.getUniformLocation(this.program,t[e]);this.uniforms[t[e]].location=n}},ao.prototype.prepareAttributes=function(){this.geometry.vertices!==void 0&&this.attributes.push({name:"aPosition",size:3}),this.geometry.normal!==void 0&&this.attributes.push({name:"aNormal",size:3}),this.attributeKeys=[];for(var t=0;t<this.attributes.length;t+=1)this.attributeKeys.push(this.attributes[t].name),this.prepareAttribute(this.attributes[t])},ao.prototype.prepareAttribute=function(t){for(var e=this.geometry,n=this.multiplier,i=e.vertices,r=e.normal,s=new Float32Array(n*i.length*t.size),o=0;o<n;o+=1)for(var a=t.data&&t.data(o,n),l=o*i.length*t.size,c=0;c<i.length;c+=1)for(var u=0;u<t.size;u+=1){var d=this.modifiers[t.name];s[l]=d!==void 0?d(a,c,u,this):t.name==="aPosition"?i[c][iA[u]]:t.name==="aNormal"?r[c][iA[u]]:a[u],l+=1}this.attributes[this.attributeKeys.indexOf(t.name)].data=s,this.prepareBuffer(this.attributes[this.attributeKeys.indexOf(t.name)])},ao.prototype.prepareBuffer=function(t){var e=t.data,n=t.name,i=t.size,r=this.gl.createBuffer();this.gl.bindBuffer(34962,r),this.gl.bufferData(34962,e,35044);var s=this.gl.getAttribLocation(this.program,n);this.gl.enableVertexAttribArray(s),this.gl.vertexAttribPointer(s,i,5126,!1,0,0),this.buffers[this.attributeKeys.indexOf(t.name)]={buffer:r,location:s,size:i}},ao.prototype.render=function(t){var e=this,n=this.uniforms,i=this.multiplier,r=this.gl;r.useProgram(this.program);for(var s=0;s<this.buffers.length;s+=1){var o=this.buffers[s],a=o.location,l=o.buffer,c=o.size;r.enableVertexAttribArray(a),r.bindBuffer(34962,l),r.vertexAttribPointer(a,c,5126,!1,0,0)}Object.keys(t).forEach(function(u){n[u].value=t[u].value}),Object.keys(n).forEach(function(u){var d=n[u];e.uniformMap[d.type](d.location,d.value)}),r.drawArrays(this.mode,0,i*this.geometry.vertices.length),this.onRender&&this.onRender(this)},ao.prototype.destroy=function(){for(var t=0;t<this.buffers.length;t+=1)this.gl.deleteBuffer(this.buffers[t].buffer);this.gl.deleteProgram(this.program),this.gl=null};var Rl=function(t){var e=this,n=t||{},i=n.canvas;i===void 0&&(i=document.querySelector("canvas"));var r=n.context;r===void 0&&(r={});var s=n.contextType;s===void 0&&(s="experimental-webgl");var o=n.settings;o===void 0&&(o={});var a=i.getContext(s,Object.assign({alpha:!1,antialias:!1},r));Object.assign(this,{gl:a,canvas:i,uniforms:{},instances:new Map,shouldRender:!0}),Object.assign(this,{devicePixelRatio:1,clearColor:[1,1,1,1],position:{x:0,y:0,z:2},clip:[.001,100]}),Object.assign(this,o),this.uniformMap={float:function(l,c){return a.uniform1f(l,c)},vec2:function(l,c){return a.uniform2fv(l,c)},vec3:function(l,c){return a.uniform3fv(l,c)},vec4:function(l,c){return a.uniform4fv(l,c)},mat2:function(l,c){return a.uniformMatrix2fv(l,!1,c)},mat3:function(l,c){return a.uniformMatrix3fv(l,!1,c)},mat4:function(l,c){return a.uniformMatrix4fv(l,!1,c)}},a.enable(a.DEPTH_TEST),a.depthFunc(a.LEQUAL),a.getContextAttributes().alpha===!1&&(a.clearColor.apply(a,this.clearColor),a.clearDepth(1)),this.onSetup&&this.onSetup(a),window.addEventListener("resize",function(){return e.resize()}),this.resize(),this.render()};Rl.prototype.resize=function(){var t=this.gl,e=this.canvas,n=this.devicePixelRatio,i=this.position;e.width=e.clientWidth*n,e.height=e.clientHeight*n;var r=t.drawingBufferWidth,s=t.drawingBufferHeight,o=r/s;t.viewport(0,0,r,s);var a=Math.tan(Math.PI/180*22.5),l=[1,0,0,0,0,1,0,0,0,0,1,0,i.x,i.y,(o<1?1:o)*-i.z,1];this.uniforms.uProjectionMatrix={type:"mat4",value:[.5/a,0,0,0,0,o/a*.5,0,0,0,0,-(this.clip[1]+this.clip[0])/(this.clip[1]-this.clip[0]),-1,0,0,-2*this.clip[1]*(this.clip[0]/(this.clip[1]-this.clip[0])),0]},this.uniforms.uViewMatrix={type:"mat4",value:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},this.uniforms.uModelMatrix={type:"mat4",value:l}},Rl.prototype.toggle=function(t){t!==this.shouldRender&&(this.shouldRender=t!==void 0?t:!this.shouldRender,this.shouldRender&&this.render())},Rl.prototype.render=function(){var t=this;this.gl.clear(16640),this.instances.forEach(function(e){e.render(t.uniforms)}),this.onRender&&this.onRender(this),this.shouldRender&&requestAnimationFrame(function(){return t.render()})},Rl.prototype.add=function(t,e){e===void 0&&(e={uniforms:{}}),e.uniforms===void 0&&(e.uniforms={}),Object.assign(e.uniforms,JSON.parse(JSON.stringify(this.uniforms))),Object.assign(e,{gl:this.gl,uniformMap:this.uniformMap});var n=new ao(e);return this.instances.set(t,n),n},Rl.prototype.remove=function(t){var e=this.instances.get(t);e!==void 0&&(e.destroy(),this.instances.delete(t))},Rl.prototype.destroy=function(){var t=this;this.instances.forEach(function(e,n){e.destroy(),t.instances.delete(n)}),this.toggle(!1)};var EU="phi",TU="theta",MU="mapSamples",CU="mapBrightness",PU="baseColor",AU="markerColor",RU="glowColor",hh="markers",kU="diffuse",rA="devicePixelRatio",DU="dark",IU="offset",LU="scale",OU="opacity",NU="mapBaseBrightness",sA={[EU]:"A",[TU]:"B",[MU]:"m",[CU]:"E",[PU]:"R",[AU]:"S",[RU]:"z",[kU]:"F",[DU]:"G",[IU]:"y",[LU]:"C",[OU]:"H",[NU]:"I"},{PI:Q0,sin:oA,cos:aA}=Math,lA=t=>[].concat(...t.map(e=>{let[n,i]=e.location;n=n*Q0/180,i=i*Q0/180-Q0;let r=aA(n),s=[-r*aA(i),oA(n),r*oA(i),e.size],o=e.color?[...e.color,1]:[0,0,0,0];return[...s,...o]}),[0,0,0,0,0,0,0,0]),sY=(t,e)=>{let n=(s,o,a)=>({type:s,value:typeof e[o]>"u"?a:e[o]}),i=t.getContext("webgl2")?"webgl2":t.getContext("webgl")?"webgl":"experimental-webgl",r=new Rl({canvas:t,contextType:i,context:{alpha:!0,stencil:!1,antialias:!0,depth:!1,preserveDrawingBuffer:!1,...e.context},settings:{[rA]:e[rA]||1,onSetup:s=>{let o=s.RGB,a=s.UNSIGNED_BYTE,l=s.TEXTURE_2D,c=s.createTexture();s.bindTexture(l,c),s.texImage2D(l,0,o,1,1,0,o,a,new Uint8Array([0,0,0,0]));let u=new Image;u.onload=()=>{s.bindTexture(l,c),s.texImage2D(l,0,o,o,a,u),s.generateMipmap(l);let d=s.getParameter(s.CURRENT_PROGRAM),h=s.getUniformLocation(d,"J");s.texParameteri(l,s.TEXTURE_MIN_FILTER,s.NEAREST),s.texParameteri(l,s.TEXTURE_MAG_FILTER,s.NEAREST),s.uniform1i(h,0)},u.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAACAAQAAAADMzoqnAAAAAXNSR0IArs4c6QAABA5JREFUeNrV179uHEUAx/Hf3JpbF+E2VASBsmVKTBcpKJs3SMEDcDwBiVJAAewYEBUivIHT0uUBIt0YCovKD0CRjUC4QfHYh8hYXu+P25vZ2Zm9c66gMd/GJ/tz82d3bk8GN4SrByYF2366FNTACIAkivVAAazQdnf3MvAlbNUQfOPAdQDvSAimMWhwy4I2g4SU+Kp04ISLpPBAKLxPyic3O/CCi+Y7rUJbiodcpDOFY7CgxCEXmdYD2EYK2s5lApOx5pEDDYCUwM1XdJUwBV11QQMg59kePSCaPAASQMEL2hwo6TJFgxpg+TgC2ymXPbuvc40awr3D1QCFfbH9kcoqAOkZozpQo0aqAGQRKCog/+tjkgbNFEtg2FffBvBGlSxHoAaAa1u6X4PBAwDiR8FFsrQgeUhfJTSALaB9jy5NCybJPn1SVFiWk7ywN+KzhH1aKAuydhGkbEF4lWohLXDXavlyFgHY7LBnLRdlAP6BS5Cc8RfVDXbkwN/oIvmY+6obbNeBP0JwTuMGu9gTzy1Q4RS/cWpfzszeYwd+CAFrtBW/Hur0gLbJGlD+/OjVwe/drfBxkbbg63dndEDfiEBlAd7ac0BPe1D6Jd8dfbLH+RI0OzseFB5s01/M+gMdAeluLOCAuaUA9Lezo/vSgXoCX9rtEiXnp7Q1W/CNyWcd8DXoS6jH/YZ5vAJEWY2dXFQe2TUgaFaNejCzJ98g6HnlVrsE58sDcYqg+9XY75fPqdoh/kRQWiXKg8MWlJQxUFMPjqnyujhFBE7UxIMjyszk0QwQlFsezImsyvUYYYVED2pk6m0Tg8T04Fwjk2kdAwSACqlM6gRRt3vQYAFGX0Ah7Ebx1H+MDRI5ui0QldH4j7FGcm90XdxD2Jg1AOEAVAKhEFXSn4cKUELurIAKwJ3MArypPscQaLhJFICJ0ohjDySAdH8AhDtCiTuMycH8CXzhH9jUACAO5uMhoAwA5i+T6WAKmmAqnLy80wxHqIPFYpqCwxGaYLt4Dyievg5kEoVEUAhs6pqKgFtDQYOuaXypaWKQfIuwwoGSZgfLsu/XAtI8cGN+h7Cc1A5oLOMhwlIPXuhu48AIvsSBkvtV9wsJRKCyYLfq5lTrQMFd1a262oqBck9K1V0YjQg0iEYYgpS1A9GlXQV5cykwm4A7BzVsxQqo7E+zCegO7Ma7yKgsuOcfKbMBwLC8wvVNYDsANYalEpOAa6zpWjTeMKGwEwC1CiQewJc5EKfgy7GmRAZA4vUVGwE2dPM/g0xuAInE/yG5aZ8ISxWGfYigUVbdyBElTHh2uCwGdfCkOLGgQVBh3Ewp+/QK4CDlR5Ws/Zf7yhCf8pH7vinWAvoVCQ6zz0NX5V/6GkAVV+2/5qsJ/gU8bsxpM8IeAQAAAABJRU5ErkJggg=="}}});return r.add("",{vertex:"attribute vec3 aPosition;uniform mat4 uProjectionMatrix;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;void main(){gl_Position=uProjectionMatrix*uModelMatrix*uViewMatrix*vec4(aPosition,1.);}",fragment:"precision highp float;uniform vec2 t,y;uniform vec3 R,S,z;uniform vec4 v[64*2];uniform float A,B,m,C,D,E,F,G,H,I;uniform sampler2D J;float K=1./m;mat3 L(float a,float b){float c=cos(a),d=cos(b),e=sin(a),f=sin(b);return mat3(d,f*e,-f*c,0.,c,e,f,d*-e,d*c);}vec3 w(vec3 c,out float x){c=c.xzy;float p=max(2.,floor(log2(2.236068*m*3.141593*(1.-c.z*c.z))*.72021));vec2 g=floor(pow(1.618034,p)/2.236068*vec2(1.,1.618034)+.5),d=fract((g+1.)*.618034)*6.283185-3.883222,e=-2.*g,f=vec2(atan(c.y,c.x),c.z-1.),q=floor(vec2(e.y*f.x-d.y*(f.y*m+1.),-e.x*f.x+d.x*(f.y*m+1.))/(d.x*e.y-e.x*d.y));float n=3.141593;vec3 r;for(float h=0.;h<4.;h+=1.){vec2 s=vec2(mod(h,2.),floor(h*.5));float j=dot(g,q+s);if(j>m)continue;float a=j,b=0.;if(a>=524288.)a-=524288.,b+=.803894;if(a>=262144.)a-=262144.,b+=.901947;if(a>=131072.)a-=131072.,b+=.950973;if(a>=65536.)a-=65536.,b+=.475487;if(a>=32768.)a-=32768.,b+=.737743;if(a>=16384.)a-=16384.,b+=.868872;if(a>=8192.)a-=8192.,b+=.934436;if(a>=4096.)a-=4096.,b+=.467218;if(a>=2048.)a-=2048.,b+=.733609;if(a>=1024.)a-=1024.,b+=.866804;if(a>=512.)a-=512.,b+=.433402;if(a>=256.)a-=256.,b+=.216701;if(a>=128.)a-=128.,b+=.108351;if(a>=64.)a-=64.,b+=.554175;if(a>=32.)a-=32.,b+=.777088;if(a>=16.)a-=16.,b+=.888544;if(a>=8.)a-=8.,b+=.944272;if(a>=4.)a-=4.,b+=.472136;if(a>=2.)a-=2.,b+=.236068;if(a>=1.)a-=1.,b+=.618034;float k=fract(b)*6.283185,i=1.-2.*j*K,l=sqrt(1.-i*i);vec3 o=vec3(cos(k)*l,sin(k)*l,i);float u=length(c-o);if(u<n)n=u,r=o;}x=n;return r.xzy;}void main(){vec2 b=(gl_FragCoord.xy/t*2.-1.)/C-y*vec2(1.,-1.)/t;b.x*=t.x/t.y;float c=dot(b,b);vec4 x=vec4(0.);float n=0.;if(c<=.64){for(int g=0;g<2;g++){vec4 e=vec4(0.);float a;vec3 u=vec3(0.,0.,1.),h=normalize(vec3(b,sqrt(.64-c)));h.z*=g>0?-1.:1.,u.z*=g>0?-1.:1.;vec3 i=h*L(B,A),j=w(i,a);float o=asin(j.y),k=acos(-j.x/cos(o));k=j.z<0.?-k:k;float M=max(texture2D(J,vec2(k*.5/3.141593,-(o/3.141593+.5))).x,I),N=smoothstep(8e-3,0.,a),l=dot(h,u),p=pow(l,F)*E,q=M*N*p,T=mix((1.-q)*pow(l,.4),q,G)+.1;e+=vec4(R*T,1.);int U=int(D);float V=0.;for(int d=0;d<64;d++){if(d>=U)break;vec4 r=v[d*2],O=v[d*2+1];vec3 s=r.xyz,P=s-i;float f=r.w;if(dot(P,P)>f*f*4.)continue;vec3 W=w(s,a);a=length(W-i);if(a<f)V+=smoothstep(f*.5,0.,a),e.xyz=O.w>.5?mix(e.xyz,O.xyz,smoothstep(f*.5,0.,a)*p):mix(e.xyz,S,smoothstep(f*.5,0.,a)*p);}e.xyz+=pow(1.-l,4.)*z,x+=e*(1.+(g>0?-H:H))/2.;}n=pow(dot(normalize(vec3(-b,sqrt(1.-c))),vec3(0.,0.,1.)),4.)*smoothstep(0.,1.,.2/(c-.64));}else{float Q=sqrt(.2/(c-.64));n=smoothstep(.5,1.,Q/(Q+1.));}gl_FragColor=x+vec4(n*z,n);}",uniforms:{t:{type:"vec2",value:[e.width,e.height]},A:n("float",EU),B:n("float",TU),m:n("float",MU),E:n("float",CU),I:n("float",NU),R:n("vec3",PU),S:n("vec3",AU),F:n("float",kU),z:n("vec3",RU),G:n("float",DU),v:{type:"vec4",value:lA(e[hh])},D:{type:"float",value:e[hh].length},y:n("vec2",IU,[0,0]),C:n("float",LU,1),H:n("float",OU,1)},mode:4,geometry:{vertices:[{x:-100,y:100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0},{x:100,y:-100,z:0},{x:-100,y:-100,z:0},{x:100,y:100,z:0}]},onRender:({uniforms:s})=>{let o={};if(e.onRender){o=e.onRender(o)||o;for(let a in sA)o[a]!==void 0&&(s[sA[a]].value=o[a]);o[hh]!==void 0&&(s.v.value=lA(o[hh]),s.D.value=o[hh].length),o.width&&o.height&&(s.t.value=[o.width,o.height])}}}),r};const oY={width:800,height:800,onRender:()=>{},devicePixelRatio:2,phi:0,theta:.3,dark:1,diffuse:.6,mapSamples:16e3,mapBrightness:.9,baseColor:[.15,.2,.45],markerColor:[.1,.85,.75],glowColor:[.45,.75,1],markers:[{location:[14.5995,120.9842],size:.03},{location:[19.076,72.8777],size:.1},{location:[23.8103,90.4125],size:.05},{location:[30.0444,31.2357],size:.07},{location:[39.9042,116.4074],size:.08},{location:[-23.5505,-46.6333],size:.1},{location:[19.4326,-99.1332],size:.1},{location:[40.7128,-74.006],size:.1},{location:[34.6937,135.5022],size:.05},{location:[41.0082,28.9784],size:.06}]};function aY({className:t,config:e=oY}){let n=0,i=0;const r=M.useRef(null),s=M.useRef(null),o=M.useRef(0),[a,l]=M.useState(0),c=f=>{s.current=f,r.current&&(r.current.style.cursor=f?"grabbing":"grab")},u=f=>{if(s.current!==null){const v=f-s.current;o.current=v,l(v/200)}},d=M.useCallback(f=>{s.current||(n+=.003),f.phi=n+a,f.width=i*2,f.height=i*2},[a]),h=()=>{r.current&&(i=r.current.offsetWidth)};return M.useEffect(()=>{window.addEventListener("resize",h),h();const f=sY(r.current,{...e,width:i*2,height:i*2,onRender:d});return setTimeout(()=>r.current.style.opacity="1"),()=>f.destroy()},[]),x.jsx("div",{className:yt("absolute inset-0 mx-auto aspect-[1/1] w-full max-w-[600px]",t),children:x.jsx("canvas",{className:yt("size-full opacity-0 transition-opacity duration-500 [contain:layout_paint_size]"),ref:r,onPointerDown:f=>c(f.clientX-o.current),onPointerUp:()=>c(null),onPointerOut:()=>c(null),onMouseMove:f=>u(f.clientX),onTouchMove:f=>f.touches[0]&&u(f.touches[0].clientX)})})}const ho={brand:{shortName:"AI HackerDorm",fullName:"AI HackerDorm"},hero:{welcomeBadge:"Welcome to AI HackerDorm",tagline:"We are a community of builders",rotateWords:["Innovation","Community","Collaboration","Impact"],slogan:"Learn AI. Build Ethically. Lead the Future.",ctas:{join:"Join the Club",dashboard:"Go to Dashboard",exploreProjects:"Explore Projects"}},features:{headingPrefix:"Why Join"}};function lY(){return x.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[x.jsx(rY,{className:"absolute inset-0 z-0",color:"hsl(var(--primary) / 0.1)",duration:180}),x.jsx("div",{className:"absolute inset-0 hero-gradient opacity-90 z-10"}),x.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.02] bg-grid z-20"}),x.jsx("div",{className:"absolute inset-0 z-[25] hidden md:flex pointer-events-none items-center justify-center",children:x.jsx(aY,{className:"top-24"})}),x.jsxs("div",{className:"absolute inset-0 z-30",children:[x.jsx(st.div,{className:"absolute top-20 left-20 text-primary/20",animate:{y:[0,-20,0]},transition:{duration:3,repeat:1/0},children:x.jsx(cW,{size:40})}),x.jsx(st.div,{className:"absolute top-40 right-32 text-accent/20",animate:{y:[0,20,0]},transition:{duration:4,repeat:1/0,delay:1},children:x.jsx(zL,{size:32})}),x.jsx(st.div,{className:"absolute bottom-40 left-40 text-primary/20",animate:{y:[0,-15,0]},transition:{duration:3.5,repeat:1/0,delay:2},children:x.jsx(Sf,{size:36})})]}),x.jsx("div",{className:"relative z-40 text-center max-w-4xl mx-auto px-6",children:x.jsxs(st.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},children:[x.jsx("div",{className:"mb-6",children:x.jsx("span",{className:"inline-block px-4 py-2 bg-primary/10 border border-primary/20 rounded-full text-primary text-sm font-medium",children:ho.hero.welcomeBadge})}),x.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-6",children:[x.jsx("span",{className:"ai-text-gradient",children:"AI"}),x.jsx("br",{}),x.jsx(SU,{texts:ho.hero.rotateWords,mainClassName:"inline-block",rotationInterval:3e3})]}),x.jsx("p",{className:"text-xl md:text-2xl text-primary/80 mb-2 max-w-2xl mx-auto",children:ho.hero.tagline}),x.jsx("p",{className:"text-base md:text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:ho.hero.slogan}),x.jsxs(st.div,{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.3},children:[x.jsx(yw,{children:x.jsx(jn,{to:"/join",children:x.jsxs(Pt,{className:"ai-button-primary group",children:[ho.hero.ctas.join,x.jsx(pC,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})}),x.jsx(vw,{children:x.jsx(jn,{to:"/dashboard",children:x.jsxs(Pt,{className:"ai-button-primary group",children:[ho.hero.ctas.dashboard,x.jsx(pC,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})})}),x.jsx(jn,{to:"/projects",children:x.jsx(Pt,{variant:"outline",className:"border-primary/50 text-primary hover:bg-primary/10",children:ho.hero.ctas.exploreProjects})}),x.jsx("a",{href:"https://forms.gle/pbG4FWuLXUFnrmsb7",target:"_blank",rel:"noopener noreferrer",children:x.jsx(Pt,{variant:"secondary",className:"bg-accent/20 hover:bg-accent/30",children:"Apply to Join the Team"})})]}),x.jsxs(st.div,{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mt-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},children:[x.jsxs("div",{className:"ai-card text-center",children:[x.jsx("h3",{className:"text-3xl font-bold text-primary mb-2",children:"500+"}),x.jsx("p",{className:"text-muted-foreground",children:"Active Members"})]}),x.jsxs("div",{className:"ai-card text-center",children:[x.jsx("h3",{className:"text-3xl font-bold text-accent mb-2",children:"50+"}),x.jsx("p",{className:"text-muted-foreground",children:"Projects Completed"})]}),x.jsxs("div",{className:"ai-card text-center",children:[x.jsx("h3",{className:"text-3xl font-bold text-primary mb-2",children:"20+"}),x.jsx("p",{className:"text-muted-foreground",children:"Industry Partners"})]})]})]})})]})}const cY=[];function uY(){return x.jsx("section",{className:"py-20 px-6",children:x.jsxs("div",{className:"max-w-6xl mx-auto",children:[x.jsxs(st.div,{className:"text-center mb-16",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},children:[x.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Why Join ",x.jsx("span",{className:"ai-text-gradient",children:ho.brand.shortName}),"?"]}),x.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Discover opportunities that will shape your future in artificial intelligence"})]}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:cY.map((t,e)=>x.jsx(st.div,{className:"ai-card group cursor-pointer",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8,delay:e*.1},whileHover:{y:-5},children:x.jsxs("div",{className:"mb-4",children:[x.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center mb-4 group-hover:bg-primary/20 transition-colors",children:x.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),x.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title})]})},t.title))})]})})}const dY="modulepreload",hY=function(t){return"/"+t},cA={},mp=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=hY(l),l in cA)return;cA[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":dY,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},fY=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mp(async()=>{const{default:i}=await Promise.resolve().then(()=>Kd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class T1 extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class pY extends T1{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class uA extends T1{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class dA extends T1{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ib;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ib||(ib={}));var mY=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class gY{constructor(e,{headers:n={},customFetch:i,region:r=ib.Any}={}){this.url=e,this.headers=n,this.region=r,this.fetch=fY(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return mY(this,void 0,void 0,function*(){try{const{headers:r,method:s,body:o}=n;let a={},{region:l}=n;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:u}).catch(m=>{throw new pY(m)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new uA(d);if(!d.ok)throw new dA(d);let f=((i=d.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(r){return{data:null,error:r,response:r instanceof dA||r instanceof uA?r.context:void 0}}})}}var Ri={},M1={},by={},gp={},Sy={},Ey={},vY=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xd=vY();const yY=xd.fetch,UU=xd.fetch.bind(xd),FU=xd.Headers,_Y=xd.Request,xY=xd.Response,Kd=Object.freeze(Object.defineProperty({__proto__:null,Headers:FU,Request:_Y,Response:xY,default:UU,fetch:yY},Symbol.toStringTag,{value:"Module"})),wY=Dz(Kd);var Ty={};Object.defineProperty(Ty,"__esModule",{value:!0});let bY=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Ty.default=bY;var zU=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ey,"__esModule",{value:!0});const SY=zU(wY),EY=zU(Ty);let TY=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=SY.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let r=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,a,l;let c=null,u=null,d=null,h=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=p:u=JSON.parse(p))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&g&&g.length>1&&(d=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,d=null,h=406,f="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await s.text();try{c=JSON.parse(m),Array.isArray(c)&&s.status===404&&(u=[],c=null,h=200,f="OK")}catch{s.status===404&&m===""?(h=204,f="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,h=200,f="OK"),c&&this.shouldThrowOnError)throw new EY.default(c)}return{error:c,data:u,count:d,status:h,statusText:f}});return this.shouldThrowOnError||(r=r.catch(s=>{var o,a,l;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(a=s==null?void 0:s.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=s==null?void 0:s.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,n)}returns(){return this}overrideTypes(){return this}};Ey.default=TY;var MY=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Sy,"__esModule",{value:!0});const CY=MY(Ey);let PY=class extends CY.default{select(e){let n=!1;const i=(e??"*").split("").map(r=>/\s/.test(r)&&!n?"":(r==='"'&&(n=!n),r)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const r=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,n,{foreignTable:i,referencedTable:r=i}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,i?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Sy.default=PY;var AY=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gp,"__esModule",{value:!0});const RY=AY(Sy);let kY=class extends RY.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const i=Array.from(new Set(n)).map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${s}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(e,n,i){return this.url.searchParams.append(e,`not.${n}.${i}`),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const r=i?`${i}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,n,i){return this.url.searchParams.append(e,`${n}.${i}`),this}};gp.default=kY;var DY=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(by,"__esModule",{value:!0});const fh=DY(gp);let IY=class{constructor(e,{headers:n={},schema:i,fetch:r}){this.url=e,this.headers=n,this.schema=i,this.fetch=r}select(e,{head:n=!1,count:i}={}){const r=n?"HEAD":"GET";let s=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),i&&(this.headers.Prefer=`count=${i}`),new fh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const r="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),i||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new fh.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:r,defaultToNull:s=!0}={}){const o="POST",a=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new fh.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),this.headers.Prefer=r.join(","),new fh.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new fh.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};by.default=IY;var My={},Cy={};Object.defineProperty(Cy,"__esModule",{value:!0});Cy.version=void 0;Cy.version="0.0.0-automated";Object.defineProperty(My,"__esModule",{value:!0});My.DEFAULT_HEADERS=void 0;const LY=Cy;My.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${LY.version}`};var jU=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(M1,"__esModule",{value:!0});const OY=jU(by),NY=jU(gp),UY=My;let FY=class BU{constructor(e,{headers:n={},schema:i,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},UY.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=r}from(e){const n=new URL(`${this.url}/${e}`);return new OY.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new BU(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:r=!1,count:s}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;i||r?(o=i?"HEAD":"GET",Object.entries(n).filter(([u,d])=>d!==void 0).map(([u,d])=>[u,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([u,d])=>{a.searchParams.append(u,d)})):(o="POST",l=n);const c=Object.assign({},this.headers);return s&&(c.Prefer=`count=${s}`),new NY.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};M1.default=FY;var Yd=Nr&&Nr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ri,"__esModule",{value:!0});Ri.PostgrestError=Ri.PostgrestBuilder=Ri.PostgrestTransformBuilder=Ri.PostgrestFilterBuilder=Ri.PostgrestQueryBuilder=Ri.PostgrestClient=void 0;const VU=Yd(M1);Ri.PostgrestClient=VU.default;const HU=Yd(by);Ri.PostgrestQueryBuilder=HU.default;const WU=Yd(gp);Ri.PostgrestFilterBuilder=WU.default;const GU=Yd(Sy);Ri.PostgrestTransformBuilder=GU.default;const $U=Yd(Ey);Ri.PostgrestBuilder=$U.default;const qU=Yd(Ty);Ri.PostgrestError=qU.default;var zY=Ri.default={PostgrestClient:VU.default,PostgrestQueryBuilder:HU.default,PostgrestFilterBuilder:WU.default,PostgrestTransformBuilder:GU.default,PostgrestBuilder:$U.default,PostgrestError:qU.default};const{PostgrestClient:jY,PostgrestQueryBuilder:Hfe,PostgrestFilterBuilder:Wfe,PostgrestTransformBuilder:Gfe,PostgrestBuilder:$fe,PostgrestError:qfe}=zY;class BY{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const VY="2.15.1",HY=`realtime-js/${VY}`,WY="1.0.0",rb=1e4,GY=1e3,$Y=100;var Jh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jh||(Jh={}));var bn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(bn||(bn={}));var es;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(es||(es={}));var sb;(function(t){t.websocket="websocket"})(sb||(sb={}));var Ol;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Ol||(Ol={}));class qY{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const r=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=i.decode(e.slice(o,o+r));o=o+r;const l=i.decode(e.slice(o,o+s));o=o+s;const c=JSON.parse(i.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class XU{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Rt||(Rt={}));const hA=(t,e,n={})=>{var i;const r=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((s,o)=>(s[o]=XY(o,t,e,r),s),{})},XY=(t,e,n,i)=>{const r=e.find(a=>a.name===t),s=r==null?void 0:r.type,o=n[t];return s&&!i.includes(s)?KU(s,o):ob(o)},KU=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return QY(e,n)}switch(t){case Rt.bool:return KY(e);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return YY(e);case Rt.json:case Rt.jsonb:return JY(e);case Rt.timestamp:return ZY(e);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return ob(e);default:return ob(e)}},ob=t=>t,KY=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YY=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},JY=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},QY=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let s;const o=t.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>KU(e,a))}return t},ZY=t=>typeof t=="string"?t.replace(" ","T"):t,YU=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};let Z0=class{constructor(e,n,i={},r=rb){this.channel=e,this.event=n,this.payload=i,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}};var fA;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fA||(fA={}));class Qh{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},r=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qh.syncState(this.state,r,s,o),this.pendingDiffs.forEach(l=>{this.state=Qh.syncDiff(this.state,l,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(i.diff,{},r=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Qh.syncDiff(this.state,r,s,o),a())}),this.onJoin((r,s,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:s,newPresences:o})}),this.onLeave((r,s,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,r){const s=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(s,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const d=s[c];if(d){const h=u.map(g=>g.presence_ref),f=d.map(g=>g.presence_ref),v=u.filter(g=>f.indexOf(g.presence_ref)<0),m=d.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(a[c]=v),m.length>0&&(l[c]=m)}else a[c]=u}),this.syncDiff(s,{joins:a,leaves:l},i,r)}static syncDiff(e,n,i,r){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),r||(r=()=>{}),this.map(s,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const d=e[a].map(f=>f.presence_ref),h=u.filter(f=>d.indexOf(f.presence_ref)<0);e[a].unshift(...h)}i(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const r=e[i];return"metas"in r?n[i]=r.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[i]=r,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pA;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(pA||(pA={}));var Zh;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zh||(Zh={}));var fo;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(fo||(fo={}));class C1{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=bn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Z0(this,es.join,this.params,this.timeout),this.rejoinTimer=new XU(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bn.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=bn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(es.reply,{},(r,s)=>{this._trigger(this._replyEventName(s),r)}),this.presence=new Qh(this),this.broadcastEndpointURL=YU(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,r;if(this.socket.isConnected()||this.socket.connect(),this.state==bn.closed){const{config:{broadcast:s,presence:o,private:a}}=this.params,l=(r=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(h=>h.filter))!==null&&r!==void 0?r:[],c=!!this.bindings[Zh.PRESENCE]&&this.bindings[Zh.PRESENCE].length>0,u={},d={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(fo.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(fo.CLOSED)),this.updateJoinPayload(Object.assign({config:d},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var f;if(this.socket.setAuth(),h===void 0){e==null||e(fo.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(f=v==null?void 0:v.length)!==null&&f!==void 0?f:0,g=[];for(let p=0;p<m;p++){const _=v[p],{filter:{event:y,schema:w,table:b,filter:S}}=_,E=h&&h[p];if(E&&E.event===y&&E.schema===w&&E.table===b&&E.filter===S)g.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=bn.errored,e==null||e(fo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(fo.SUBSCRIBED);return}}).receive("error",h=>{this.state=bn.errored,e==null||e(fo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(fo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===bn.joined&&e===Zh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async send(e,n={}){var i,r;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((r=c.body)===null||r===void 0?void 0:r.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=bn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(es.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(r=>{i=new Z0(this,es.leave,{},e),i.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bn.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const r=new AbortController,s=setTimeout(()=>r.abort(),i),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(s),o}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new Z0(this,e,n,i);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>$Y){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var r,s;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=es;if(i&&[a,l,c,u].indexOf(o)>=0&&i!==this._joinRef())return;let h=this._onMessage(o,n,i);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(f=>{var v,m,g;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=f.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(f=>f.callback(h,i)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var v,m,g,p,_,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const w=f.id,b=(v=f.filter)===null||v===void 0?void 0:v.event;return w&&((m=n.ids)===null||m===void 0?void 0:m.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((g=n.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const w=(_=(p=f==null?void 0:f.filter)===null||p===void 0?void 0:p.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return w==="*"||w===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:p,type:_,errors:y}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:p,eventType:_,new:{},old:{},errors:y}),this._getPayloadRecords(v))}f.callback(h,i)})}_isClosed(){return this.state===bn.closed}_isJoined(){return this.state===bn.joined}_isJoining(){return this.state===bn.joining}_isLeaving(){return this.state===bn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const r=e.toLocaleLowerCase(),s={type:r,filter:n,callback:i};return this.bindings[r]?this.bindings[r].push(s):this.bindings[r]=[s],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(r=>{var s;return!(((s=r.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&C1.isEqual(r.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(es.close,{},e)}_onError(e){this._on(es.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=hA(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=hA(e.columns,e.old_record)),n}}const mA=()=>{},lm={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eJ=[1e3,2e3,5e3,1e4],tJ=1e4,nJ=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class iJ{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rb,this.transport=null,this.heartbeatIntervalMs=lm.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=mA,this.ref=0,this.reconnectTimer=null,this.logger=mA,this.conn=null,this.sendBuffer=[],this.serializer=new qY,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>{let s;return r?s=r:typeof fetch>"u"?s=(...o)=>mp(async()=>{const{default:a}=await Promise.resolve().then(()=>Kd);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${sb.websocket}`,this.httpEndpoint=YU(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BY.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:WY}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Jh.connecting:return Ol.Connecting;case Jh.open:return Ol.Open;case Jh.closing:return Ol.Closing;default:return Ol.Closed}}isConnected(){return this.connectionState()===Ol.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,r=this.getChannels().find(s=>s.topic===i);if(r)return r;{const s=new C1(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:i,payload:r,ref:s}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${i} (${s})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(GY,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lm.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:r,payload:s,ref:o}=n,a=o?`(${o})`:"",l=s.status||"";this.log("receive",`${l} ${i} ${r} ${a}`.trim(),s),this.channels.filter(c=>c._isMember(i)).forEach(c=>c._trigger(r,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(es.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${e}${i}${r}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([nJ],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const r={access_token:n,version:HY};n&&i.updateJoinPayload(r),i.joinedOnce&&i._isJoined()&&i._push(es.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(r){this.log("error",`error in ${e} callback`,r)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new XU(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lm.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,r,s,o,a,l,c;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:rb,this.heartbeatIntervalMs=(r=e==null?void 0:e.heartbeatIntervalMs)!==null&&r!==void 0?r:lm.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:u=>eJ[u-1]||tJ,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(u,d)=>d(JSON.stringify(u)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class P1 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Sn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rJ extends P1{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ab extends P1{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var sJ=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const JU=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mp(async()=>{const{default:i}=await Promise.resolve().then(()=>Kd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},oJ=()=>sJ(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield mp(()=>Promise.resolve().then(()=>Kd),void 0)).Response:Response}),lb=t=>{if(Array.isArray(t))return t.map(n=>lb(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const r=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[r]=lb(i)}),e},aJ=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ac=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const e_=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lJ=(t,e,n)=>Ac(void 0,void 0,void 0,function*(){const i=yield oJ();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const s=t.status||500,o=(r==null?void 0:r.statusCode)||s+"";e(new rJ(e_(r),s,o))}).catch(r=>{e(new ab(e_(r),r))}):e(new ab(e_(t),t))}),cJ=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?r:(aJ(i)?(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(i)):r.body=i,e!=null&&e.duplex&&(r.duplex=e.duplex),Object.assign(Object.assign({},r),n))};function vp(t,e,n,i,r,s){return Ac(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,cJ(e,i,r,s)).then(l=>{if(!l.ok)throw l;return i!=null&&i.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>lJ(l,a,i))})})}function fv(t,e,n,i){return Ac(this,void 0,void 0,function*(){return vp(t,"GET",e,n,i)})}function Ss(t,e,n,i,r){return Ac(this,void 0,void 0,function*(){return vp(t,"POST",e,i,r,n)})}function cb(t,e,n,i,r){return Ac(this,void 0,void 0,function*(){return vp(t,"PUT",e,i,r,n)})}function uJ(t,e,n,i){return Ac(this,void 0,void 0,function*(){return vp(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function QU(t,e,n,i,r){return Ac(this,void 0,void 0,function*(){return vp(t,"DELETE",e,i,r,n)})}var li=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const dJ={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gA={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hJ{constructor(e,n={},i,r){this.url=e,this.headers=n,this.bucketId=i,this.fetch=JU(r)}uploadOrUpdate(e,n,i,r){return li(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},gA),r);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.append("cacheControl",o.cacheControl),l&&s.append("metadata",this.encodeMetadata(l))):(s=i,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),r!=null&&r.headers&&(a=Object.assign(Object.assign({},a),r.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?cb:Ss)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(Sn(s))return{data:null,error:s};throw s}})}upload(e,n,i){return li(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,r){return li(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:gA.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.append("cacheControl",c.cacheControl)):(l=i,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield cb(this.fetch,a.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(Sn(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return li(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const r=Object.assign({},this.headers);n!=null&&n.upsert&&(r["x-upsert"]="true");const s=yield Ss(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:r}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new P1("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}update(e,n,i){return li(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return li(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}copy(e,n,i){return li(this,void 0,void 0,function*(){try{return{data:{path:(yield Ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}createSignedUrl(e,n,i){return li(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),s=yield Ss(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const o=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}createSignedUrls(e,n,i){return li(this,void 0,void 0,function*(){try{const r=yield Ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}download(e,n){return li(this,void 0,void 0,function*(){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield fv(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Sn(a))return{data:null,error:a};throw a}})}info(e){return li(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield fv(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:lb(i),error:null}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}exists(e){return li(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield uJ(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Sn(i)&&i instanceof ab){const r=i.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),r=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&r.push(s);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${i}${c}`)}}}remove(e){return li(this,void 0,void 0,function*(){try{return{data:yield QU(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}list(e,n,i){return li(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},dJ),n),{prefix:e||""});return{data:yield Ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},i),error:null}}catch(r){if(Sn(r))return{data:null,error:r};throw r}})}listV2(e,n){return li(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Ss(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const fJ="2.11.0",pJ={"X-Client-Info":`storage-js/${fJ}`};var Nc=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class mJ{constructor(e,n={},i,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},pJ),n),this.fetch=JU(i)}listBuckets(){return Nc(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Sn(e))return{data:null,error:e};throw e}})}getBucket(e){return Nc(this,void 0,void 0,function*(){try{return{data:yield fv(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Nc(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Nc(this,void 0,void 0,function*(){try{return{data:yield cb(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Sn(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Nc(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Nc(this,void 0,void 0,function*(){try{return{data:yield QU(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Sn(n))return{data:null,error:n};throw n}})}}class gJ extends mJ{constructor(e,n={},i,r){super(e,n,i,r)}from(e){return new hJ(this.url,this.headers,e,this.fetch)}}const vJ="2.55.0";let Ch="";typeof Deno<"u"?Ch="deno":typeof document<"u"?Ch="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ch="react-native":Ch="node";const yJ={"X-Client-Info":`supabase-js-${Ch}/${vJ}`},_J={headers:yJ},xJ={schema:"public"},wJ={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bJ={};var SJ=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};const EJ=t=>{let e;return t?e=t:typeof fetch>"u"?e=UU:e=fetch,(...n)=>e(...n)},TJ=()=>typeof Headers>"u"?FU:Headers,MJ=(t,e,n)=>{const i=EJ(n),r=TJ();return(s,o)=>SJ(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),i(s,Object.assign(Object.assign({},o),{headers:c}))})};var CJ=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};function PJ(t){return t.endsWith("/")?t:t+"/"}function AJ(t,e){var n,i;const{db:r,auth:s,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:d}=e,h={db:Object.assign(Object.assign({},l),r),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(i=a==null?void 0:a.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>CJ(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const ZU="2.71.1",au=30*1e3,ub=3,t_=ub*au,RJ="http://localhost:9999",kJ="supabase.auth.token",DJ={"X-Client-Info":`gotrue-js/${ZU}`},db="X-Supabase-Api-Version",e3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IJ=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LJ=10*60*1e3;class A1 extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class OJ extends A1{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function NJ(t){return Qe(t)&&t.name==="AuthApiError"}class t3 extends A1{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class al extends A1{constructor(e,n,i,r){super(e,i,r),this.name=n,this.status=i}}class ra extends al{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function UJ(t){return Qe(t)&&t.name==="AuthSessionMissingError"}class cm extends al{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class um extends al{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dm extends al{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FJ(t){return Qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class vA extends al{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class hb extends al{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function n_(t){return Qe(t)&&t.name==="AuthRetryableFetchError"}class yA extends al{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class fb extends al{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),_A=` 	
\r=`.split(""),zJ=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<_A.length;e+=1)t[_A[e].charCodeAt(0)]=-2;for(let e=0;e<pv.length;e+=1)t[pv[e].charCodeAt(0)]=e;return t})();function xA(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pv[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(pv[i]),e.queuedBits-=6}}function n3(t,e,n){const i=zJ[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function wA(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},i={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},s=o=>{VJ(o,i,n)};for(let o=0;o<t.length;o+=1)n3(t.charCodeAt(o),r,s);return e.join("")}function jJ(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BJ(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const r=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}jJ(i,e)}}function VJ(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function HJ(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};for(let r=0;r<t.length;r+=1)n3(t.charCodeAt(r),n,i);return new Uint8Array(e)}function WJ(t){const e=[];return BJ(t,n=>e.push(n)),new Uint8Array(e)}function GJ(t){const e=[],n={queue:0,queuedBits:0},i=r=>{e.push(r)};return t.forEach(r=>xA(r,n,i)),xA(null,n,i),e.join("")}function $J(t){return Math.round(Date.now()/1e3)+t}function qJ(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const $r=()=>typeof window<"u"&&typeof document<"u",dl={tested:!1,writable:!1},i3=()=>{if(!$r())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dl.tested)return dl.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),dl.tested=!0,dl.writable=!0}catch{dl.tested=!0,dl.writable=!1}return dl.writable};function XJ(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,s)=>{e[s]=r})}catch{}return n.searchParams.forEach((i,r)=>{e[r]=i}),e}const r3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>mp(async()=>{const{default:i}=await Promise.resolve().then(()=>Kd);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},KJ=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",lu=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hl=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Xo=async(t,e)=>{await t.removeItem(e)};class Py{constructor(){this.promise=new Py.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Py.promiseConstructor=Promise;function i_(t){const e=t.split(".");if(e.length!==3)throw new fb("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!IJ.test(e[i]))throw new fb("JWT not in base64url format");return{header:JSON.parse(wA(e[0])),payload:JSON.parse(wA(e[1])),signature:HJ(e[2]),raw:{header:e[0],payload:e[1]}}}async function YJ(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function JJ(t,e){return new Promise((i,r)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){i(o);return}}catch(o){if(!e(s,o)){r(o);return}}})()})}function QJ(t){return("0"+t.toString(16)).substr(-2)}function ZJ(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let r="";for(let s=0;s<56;s++)r+=n.charAt(Math.floor(Math.random()*i));return r}return crypto.getRandomValues(e),Array.from(e,QJ).join("")}async function eQ(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(i);return Array.from(r).map(s=>String.fromCharCode(s)).join("")}async function tQ(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await eQ(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uc(t,e,n=!1){const i=ZJ();let r=i;n&&(r+="/PASSWORD_RECOVERY"),await lu(t,`${e}-code-verifier`,r);const s=await tQ(i);return[s,i===s?"plain":"s256"]}const nQ=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iQ(t){const e=t.headers.get(db);if(!e||!e.match(nQ))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function rQ(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function sQ(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oQ=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fc(t){if(!oQ.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function r_(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bA(t){return JSON.parse(JSON.stringify(t))}var aQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};const kl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lQ=[502,503,504];async function SA(t){var e;if(!KJ(t))throw new hb(kl(t),0);if(lQ.includes(t.status))throw new hb(kl(t),t.status);let n;try{n=await t.json()}catch(s){throw new t3(kl(s),s)}let i;const r=iQ(t);if(r&&r.getTime()>=e3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new yA(kl(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new ra}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new yA(kl(n),t.status,n.weak_password.reasons);throw new OJ(kl(n),t.status||500,i)}const cQ=(t,e,n,i)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(i),Object.assign(Object.assign({},r),n))};async function at(t,e,n,i){var r;const s=Object.assign({},i==null?void 0:i.headers);s[db]||(s[db]=e3["2024-01-01"].name),i!=null&&i.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const o=(r=i==null?void 0:i.query)!==null&&r!==void 0?r:{};i!=null&&i.redirectTo&&(o.redirect_to=i.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await uQ(t,e,n+a,{headers:s,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(l):{data:Object.assign({},l),error:null}}async function uQ(t,e,n,i,r,s){const o=cQ(e,i,r,s);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new hb(kl(l),0)}if(a.ok||await SA(a),i!=null&&i.noResolveJson)return a;try{return await a.json()}catch(l){await SA(l)}}function lo(t){var e;let n=null;pQ(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=$J(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function EA(t){const e=lo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function da(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function dQ(t){return{data:t,error:null}}function hQ(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s}=t,o=aQ(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:i,redirect_to:r,verification_type:s},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function fQ(t){return t}function pQ(t){return t.access_token&&t.refresh_token&&t.expires_in}const s_=["global","local","others"];var mQ=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n};class gQ{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=r3(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=s_[0]){if(s_.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${s_.join(", ")}`);try{return await at(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await at(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:da})}catch(i){if(Qe(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=mQ(e,["options"]),r=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(r.new_email=i==null?void 0:i.newEmail,delete r.newEmail),await at(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:hQ,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await at(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:da})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,r,s,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await at(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(s=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:""},xform:fQ});if(u.error)throw u.error;const d=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);c[`${g}Page`]=m}),c.total=parseInt(h)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(Qe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Fc(e);try{return await at(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:da})}catch(n){if(Qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Fc(e);try{return await at(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:da})}catch(i){if(Qe(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Fc(e);try{return await at(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:da})}catch(i){if(Qe(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Fc(e.userId);try{const{data:n,error:i}=await at(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:i}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Fc(e.userId),Fc(e.id);try{return{data:await at(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}}function TA(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function vQ(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zc={debug:!!(globalThis&&i3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class s3 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yQ extends s3{}async function _Q(t,e,n){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async r=>{if(r){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,r.name);try{return await n()}finally{zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,r.name)}}else{if(e===0)throw zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new yQ(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}vQ();const xQ={url:RJ,storageKey:kJ,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:DJ,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function MA(t,e,n){return await n()}const jc={};class Nf{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Nf.nextInstanceID,Nf.nextInstanceID+=1,this.instanceID>0&&$r()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const r=Object.assign(Object.assign({},xQ),e);if(this.logDebugMessages=!!r.debug,typeof r.debug=="function"&&(this.logger=r.debug),this.persistSession=r.persistSession,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.admin=new gQ({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=r3(r.fetch),this.lock=r.lock||MA,this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.hasCustomAuthorizationHeader=r.hasCustomAuthorizationHeader,r.lock?this.lock=r.lock:$r()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_Q:this.lock=MA,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(r.storage?this.storage=r.storage:i3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=TA(this.memoryStorage)),r.userStorage&&(this.userStorage=r.userStorage)):(this.memoryStorage={},this.storage=TA(this.memoryStorage)),$r()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jc[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jc[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jc[this.storageKey]=Object.assign(Object.assign({},jc[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ZU}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=XJ(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),$r()&&this.detectSessionInUrl&&i!=="none"){const{data:r,error:s}=await this._getSessionFromURL(n,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),FJ(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:a}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qe(n)?{error:n}:{error:new t3("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,r;try{const s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.captchaToken}},xform:lo}),{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var n,i,r;try{let s;if("email"in e){const{email:u,password:d,options:h}=e;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await Uc(this.storage,this.storageKey)),s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:v},xform:lo})}else if("phone"in e){const{phone:u,password:d,options:h}=e;s=await at(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},channel:(r=h==null?void 0:h.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:lo})}else throw new um("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(Qe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:o,options:a}=e;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EA})}else if("phone"in e){const{phone:s,password:o,options:a}=e;n=await at(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:EA})}else throw new um("You must provide either an email or phone number and a password");const{data:i,error:r}=n;return r?{data:{user:null,session:null},error:r}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new cm}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:r})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,r,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,r,s,o,a,l,c,u,d,h,f;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:p,statement:_,options:y}=e;let w;if($r())if(typeof p=="object")w=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=p}const b=new URL((n=y==null?void 0:y.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),_?{statement:_}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)v=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),m=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(r=(i=y==null?void 0:y.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(u=y==null?void 0:y.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=S}}try{const{data:g,error:p}=await at(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:GJ(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:lo});if(p)throw p;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new cm}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:p})}catch(g){if(Qe(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const n=await hl(this.storage,`${this.storageKey}-code-verifier`),[i,r]=(n??"").split("/");try{const{data:s,error:o}=await at(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:lo});if(await Xo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new cm}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:r??null}),error:o})}catch(s){if(Qe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:n,provider:i,token:r,access_token:s,nonce:o}=e,a=await at(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:r,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lo}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new cm}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,r,s,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Uc(this.storage,this.storageKey));const{error:d}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await at(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new um("You must provide either an email or phone number.")}catch(a){if(Qe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,i;try{let r,s;"options"in e&&(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:o,error:a}=await at(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:r,xform:lo});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(Qe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var n,i,r;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Uc(this.storage,this.storageKey)),await at(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:dQ})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ra;const{error:r}=await at(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(Qe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:r,options:s}=e,{error:o}=await at(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:i,type:r,options:s}=e,{data:o,error:a}=await at(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:r,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new um("You must provide either an email or phone number and a type")}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<t_:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const o=await hl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=r_()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:da}):await this._useSession(async n=>{var i,r,s;const{data:o,error:a}=n;if(a)throw a;return!(!((i=o.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ra}:await at(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0,xform:da})})}catch(n){if(Qe(n))return UJ(n)&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:r,error:s}=i;if(s)throw s;if(!r.session)throw new ra;const o=r.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Uc(this.storage,this.storageKey));const{data:c,error:u}=await at(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:da});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(i){if(Qe(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ra;const n=Date.now()/1e3;let i=n,r=!0,s=null;const{payload:o}=i_(e.access_token);if(o.exp&&(i=o.exp,r=i<=n),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Qe(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(i=o.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new ra;const{session:r,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Qe(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!$r())throw new dm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new vA("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dm("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vA("No code detected.");const{data:_,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:r,access_token:s,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!s||!a||!o||!c)throw new dm("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(a);let h=u+d;l&&(h=parseInt(l));const f=h-u;f*1e3<=au&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${d}s`);const v=h-d;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:g}=await this._getUser(s);if(g)throw g;const p={provider_token:i,provider_refresh_token:r,access_token:s,expires_in:d,expires_at:h,refresh_token:o,token_type:c,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:e.type},error:null}}catch(i){if(Qe(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{error:s};const o=(i=r.session)===null||i===void 0?void 0:i.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(NJ(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Xo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=qJ(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,r;try{const{data:{session:s},error:o}=n;if(o)throw o;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let i=null,r=null;this.flowType==="pkce"&&([i,r]=await Uc(this.storage,this.storageKey,!0));try{return await at(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Qe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:r}=await this._useSession(async s=>{var o,a,l,c,u;const{data:d,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await at(this.fetch,"GET",f,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return $r()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Qe(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)throw o;return await at(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await JJ(async r=>(r>0&&await YJ(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await at(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lo})),(r,s)=>{const o=200*Math.pow(2,r);return s&&n_(s)&&Date.now()+o-i<au})}catch(i){if(this._debug(n,"error",i),Qe(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),$r()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const r=await hl(this.storage,this.storageKey);if(r&&this.userStorage){let o=await hl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await lu(this.userStorage,this.storageKey+"-user",o)),r.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:r_()}else if(r&&!r.user&&!r.user){const o=await hl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Xo(this.storage,this.storageKey+"-user"),await lu(this.storage,this.storageKey,r)):r.user=r_()}if(this._debug(i,"session from storage",r),!this._isValidSession(r)){this._debug(i,"session is not valid"),r!==null&&await this._removeSession();return}const s=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<t_;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${t_}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),n_(o)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(r.access_token);!a&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(i,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(i,"error",r),console.error(r);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new ra;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new Py;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new ra;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={session:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(r,"error",s),Qe(s)){const o={session:null,error:s};return n_(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,n,i=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await lu(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const s=bA(r);await lu(this.storage,this.storageKey,s)}else{const r=bA(n);await lu(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),await Xo(this.storage,this.storageKey),await Xo(this.storage,this.storageKey+"-code-verifier"),await Xo(this.storage,this.storageKey+"-user"),this.userStorage&&await Xo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$r()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),au);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((i.expires_at*1e3-e)/au);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${au}ms, refresh threshold is ${ub} ticks`),r<=ub&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof s3)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$r()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const r=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&r.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&r.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,o]=await Uc(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(i!=null&&i.queryParams){const s=new URLSearchParams(i.queryParams);r.push(s.toString())}return i!=null&&i.skipBrowserRedirect&&r.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await at(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await at(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(i=s==null?void 0:s.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((r=l==null?void 0:l.totp)===null||r===void 0)&&r.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:a}=await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:r,error:s}=n;return s?{data:null,error:s}:await at(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=r==null?void 0:r.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Qe(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],r=i.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=i.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:i,totp:r,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:r},error:s}=e;if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=i_(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((i=(n=r.user.factors)===null||n===void 0?void 0:n.filter(d=>d.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(a=>a.kid===e);if(i)return i;const r=Date.now();if(i=this.jwks.keys.find(a=>a.kid===e),i&&this.jwks_cached_at+LJ>r)return i;const{data:s,error:o}=await at(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=r,i=s.keys.find(a=>a.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:f,error:v}=await this.getSession();if(v||!f.session)return{data:null,error:v};i=f.session.access_token}const{header:r,payload:s,signature:o,raw:{header:a,payload:l}}=i_(i);n!=null&&n.allowExpired||rQ(s.exp);const c=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:f}=await this.getUser(i);if(f)throw f;return{data:{claims:s,header:r,signature:o},error:null}}const u=sQ(r.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,o,WJ(`${a}.${l}`)))throw new fb("Invalid JWT signature");return{data:{claims:s,header:r,signature:o},error:null}}catch(i){if(Qe(i))return{data:null,error:i};throw i}}}Nf.nextInstanceID=0;const wQ=Nf;class bQ extends wQ{constructor(e){super(e)}}var SQ=function(t,e,n,i){function r(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(t,e||[])).next())})};class EQ{constructor(e,n,i){var r,s,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=PJ(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:xJ,realtime:bJ,auth:Object.assign(Object.assign({},wJ),{storageKey:c}),global:_J},d=AJ(i??{},u);this.storageKey=(r=d.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=MJ(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new jY(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gJ(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new gY(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return SQ(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,storageKey:s,flowType:o,lock:a,debug:l},c,u){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bQ({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:s,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:r,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new iJ(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const TQ=(t,e,n)=>new EQ(t,e,n);function MQ(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}MQ()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const CQ="https://nwuuqgdpdybyfpcjzzbm.supabase.co",PQ="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im53dXVxZ2RwZHlieWZwY2p6emJtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2MTQxNzYsImV4cCI6MjA3MTE5MDE3Nn0.ykqzUijwe82IUgOPnCyy44huW4_1nJdfeJJfrTui-kE",Pr=TQ(CQ,PQ,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function AQ(){const[t,e]=M.useState([]),[n,i]=M.useState(!0);return M.useEffect(()=>{(async()=>{i(!0);const{data:s,error:o}=await Pr.from("partners").select("*").order("is_featured",{ascending:!1}).order("created_at",{ascending:!1}).limit(12);o&&console.error("Error fetching partners",o),e(s||[]),i(!1)})()},[]),n||t.length===0?null:x.jsxs("section",{className:"container mx-auto px-6 mt-16",children:[x.jsxs("div",{className:"flex items-center justify-between mb-6",children:[x.jsx("h2",{className:"text-2xl font-semibold",children:"Our Partners"}),x.jsx("a",{href:"/about",className:"text-sm text-muted-foreground hover:underline",children:"See all"})]}),x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:t.map(r=>x.jsx("a",{href:r.website_url||"#",target:r.website_url?"_blank":void 0,rel:r.website_url?"noreferrer":void 0,className:"group flex items-center justify-center rounded-xl border border-border/50 bg-card/60 backdrop-blur p-6 hover:border-primary/40 hover:bg-card/80 transition-all",title:r.name,children:r.logo_url?x.jsx("img",{src:r.logo_url,alt:r.name,className:"h-10 object-contain opacity-80 group-hover:opacity-100 transition-opacity",loading:"lazy"}):x.jsx("span",{className:"ai-text-gradient font-semibold text-sm text-center",children:r.name})},r.id))})]})}const RQ=({leftLinks:t,rightLinks:e,copyrightText:n,barCount:i=23})=>{const{isLinkVisible:r}=wy(),s=t.filter(h=>r(h.href)),o=e.filter(h=>r(h.href)),a=M.useRef([]),l=M.useRef(null),[c,u]=M.useState(!1),d=M.useRef(null);return M.useEffect(()=>{const h=new IntersectionObserver(f=>{const[v]=f;u(v.isIntersecting)},{threshold:.2});return l.current&&h.observe(l.current),()=>{l.current&&h.unobserve(l.current)}},[]),M.useEffect(()=>{let h=0;const f=()=>{const v=a.current;let m=0;v.forEach((g,p)=>{g&&(m+=Math.max(0,20*Math.sin((h+p)*.3)),g.style.transform=`translateY(${p+m}px)`)}),h+=.1,d.current=requestAnimationFrame(f)};return c?f():d.current&&(cancelAnimationFrame(d.current),d.current=null),()=>{d.current&&(cancelAnimationFrame(d.current),d.current=null)}},[c]),x.jsxs("footer",{ref:l,className:"bg-background text-foreground relative flex flex-col w-full justify-start select-none border-t border-border",children:[x.jsxs("div",{className:"container mx-auto flex flex-col md:flex-row justify-between w-full gap-4 pb-8 pt-8 px-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("ul",{className:"flex flex-wrap gap-4",children:s.map((h,f)=>x.jsx("li",{children:x.jsx("a",{href:h.href,className:"text-sm hover:text-primary transition-colors",children:h.label})},f))}),x.jsx("p",{className:"text-sm mt-4",children:n})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("ul",{className:"flex flex-wrap gap-4",children:o.map((h,f)=>x.jsx("li",{children:x.jsx("a",{href:h.href,className:"text-sm hover:text-primary transition-colors",children:h.label})},f))}),x.jsx("div",{className:"text-right mt-4",children:x.jsx("button",{className:"text-sm hover:underline inline-flex items-center",children:"Back to top"})})]})]}),x.jsx("div",{id:"waveContainer","aria-hidden":"true",style:{overflow:"hidden",height:140},children:x.jsx("div",{style:{marginTop:0},children:Array.from({length:i}).map((h,f)=>x.jsx("div",{ref:v=>{a.current[f]=v},className:"wave-segment",style:{height:`${f+1}px`,backgroundColor:"hsl(var(--primary))",transition:"transform 0.1s ease",willChange:"transform",marginTop:"-2px"}},f))})})]})},Wl="generated",kQ="pointerdown",DQ="pointerup",pb="pointerleave",IQ="pointerout",xc="pointermove",LQ="touchstart",CA="touchend",OQ="touchmove",NQ="touchcancel",UQ="resize",FQ="visibilitychange",zr="tsParticles - Error",Sa=100,Cn=.5,ei=1e3,Yn={x:0,y:0,z:0},hm={a:1,b:0,c:0,d:1},wd="random",hg="mid",ti=2,zQ=Math.PI*ti,o_=60,o3="true",PA="false",a_="canvas",AA=0,yo=2,RA=4,jQ=1,kA=1,DA=1,BQ=4,a3=1,fg=255,Gl=360,mb=100,gb=100,IA=0,vb=0,VQ=60,HQ=0,mv=.25,LA=Cn+mv,OA=0,WQ=1,GQ=0,$Q=0,qQ=1,R1=1,XQ=1,NA=1,gv=0,l3=1,KQ=0,YQ=120,JQ=0,QQ=0,ZQ=1e4,eZ=0,tZ=1,vv=0,c3=1,nZ=1,iZ=0,UA=1,rZ=0,sZ=0,FA=-mv,zA=1.5,jA=0,oZ=1,aZ=0,yb=0,u3=1,lZ=1,yv=1,cZ=500,BA=50,uZ=0,_b=1,d3=0,VA=1,dZ=0,fl=255,l_=3,c_=6,hZ=1,fZ=1,pZ=0,mZ=0,gZ=0,vZ=0;var zn;(function(t){t.bottom="bottom",t.bottomLeft="bottom-left",t.bottomRight="bottom-right",t.left="left",t.none="none",t.right="right",t.top="top",t.topLeft="top-left",t.topRight="top-right",t.outside="outside",t.inside="inside"})(zn||(zn={}));function h3(t){return typeof t=="boolean"}function Qa(t){return typeof t=="string"}function Za(t){return typeof t=="number"}function Mu(t){return typeof t=="object"&&t!==null}function Ys(t){return Array.isArray(t)}function _e(t){return t==null}class Xi{constructor(e,n,i){if(this._updateFromAngle=(r,s)=>{this.x=Math.cos(r)*s,this.y=Math.sin(r)*s},!Za(e)&&e){this.x=e.x,this.y=e.y;const r=e;this.z=r.z?r.z:Yn.z}else if(e!==void 0&&n!==void 0)this.x=e,this.y=n,this.z=i??Yn.z;else throw new Error(`${zr} Vector3d not initialized correctly`)}static get origin(){return Xi.create(Yn.x,Yn.y,Yn.z)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this._updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this._updateFromAngle(this.angle,e)}static clone(e){return Xi.create(e.x,e.y,e.z)}static create(e,n,i){return new Xi(e,n,i)}add(e){return Xi.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Xi.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Xi.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**yo+this.y**yo}mult(e){return Xi.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}normalize(){const e=this.length;e!=vv&&this.multTo(a3/e)}rotate(e){return Xi.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),Yn.z)}setTo(e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:Yn.z}sub(e){return Xi.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}}class On extends Xi{constructor(e,n){super(e,n,Yn.z)}static get origin(){return On.create(Yn.x,Yn.y)}static clone(e){return On.create(e.x,e.y)}static create(e,n){return new On(e,n)}}let yZ=Math.random;const f3={nextFrame:t=>requestAnimationFrame(t),cancel:t=>cancelAnimationFrame(t)};function Tt(){return jr(yZ(),0,1-Number.EPSILON)}function _Z(t){return f3.nextFrame(t)}function xZ(t){f3.cancel(t)}function jr(t,e,n){return Math.min(Math.max(t,e),n)}function u_(t,e,n,i){return Math.floor((t*n+e*i)/(n+i))}function er(t){const e=Is(t),n=0;let i=Ay(t);return e===i&&(i=n),Tt()*(e-i)+i}function je(t){return Za(t)?t:er(t)}function Ay(t){return Za(t)?t:t.min}function Is(t){return Za(t)?t:t.max}function vt(t,e){if(t===e||e===void 0&&Za(t))return t;const n=Ay(t),i=Is(t);return e!==void 0?{min:Math.min(n,e),max:Math.max(i,e)}:vt(n,i)}function _i(t,e){const n=t.x-e.x,i=t.y-e.y,r=2;return{dx:n,dy:i,distance:Math.sqrt(n**r+i**r)}}function rr(t,e){return _i(t,e).distance}function za(t){return t*Math.PI/180}function wZ(t,e,n){if(Za(t))return za(t);switch(t){case zn.top:return-Math.PI*Cn;case zn.topRight:return-Math.PI*mv;case zn.right:return HQ;case zn.bottomRight:return Math.PI*mv;case zn.bottom:return Math.PI*Cn;case zn.bottomLeft:return Math.PI*LA;case zn.left:return Math.PI;case zn.topLeft:return-Math.PI*LA;case zn.inside:return Math.atan2(n.y-e.y,n.x-e.x);case zn.outside:return Math.atan2(e.y-n.y,e.x-n.x);default:return Tt()*zQ}}function bZ(t){const e=On.origin;return e.length=1,e.angle=t,e}function HA(t,e,n,i){return On.create(t.x*(n-i)/(n+i)+e.x*ti*i/(n+i),t.y)}function SZ(t){var e,n;return{x:((e=t.position)==null?void 0:e.x)??Tt()*t.size.width,y:((n=t.position)==null?void 0:n.y)??Tt()*t.size.height}}function p3(t){return t?t.endsWith("%")?parseFloat(t)/Sa:parseFloat(t):1}var $l;(function(t){t.auto="auto",t.increase="increase",t.decrease="decrease",t.random="random"})($l||($l={}));var mn;(function(t){t.increasing="increasing",t.decreasing="decreasing"})(mn||(mn={}));var wc;(function(t){t.none="none",t.max="max",t.min="min"})(wc||(wc={}));var ut;(function(t){t.bottom="bottom",t.left="left",t.right="right",t.top="top"})(ut||(ut={}));var bd;(function(t){t.precise="precise",t.percent="percent"})(bd||(bd={}));var Bu;(function(t){t.max="max",t.min="min",t.random="random"})(Bu||(Bu={}));const EZ={debug:console.debug,error:console.error,info:console.info,log:console.log,verbose:console.log,warning:console.warn};function bc(){return EZ}function TZ(t){const e=new Map;return(...n)=>{const i=JSON.stringify(n);if(e.has(i))return e.get(i);const r=t(...n);return e.set(i,r),r}}function WA(t){const e={bounced:!1},{pSide:n,pOtherSide:i,rectSide:r,rectOtherSide:s,velocity:o,factor:a}=t;return i.min<s.min||i.min>s.max||i.max<s.min||i.max>s.max||(n.max>=r.min&&n.max<=(r.max+r.min)*Cn&&o>OA||n.min<=r.max&&n.min>(r.max+r.min)*Cn&&o<OA)&&(e.velocity=o*-a,e.bounced=!0),e}function MZ(t,e){const n=fr(e,i=>t.matches(i));return Ys(n)?n.some(i=>i):n}function Sc(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function CZ(){return!Sc()&&typeof matchMedia<"u"}function m3(t){if(CZ())return matchMedia(t)}function PZ(t){if(!(Sc()||typeof IntersectionObserver>"u"))return new IntersectionObserver(t)}function AZ(t){if(!(Sc()||typeof MutationObserver>"u"))return new MutationObserver(t)}function hn(t,e){return t===e||Ys(e)&&e.indexOf(t)>-1}async function GA(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function RZ(t){return Math.floor(Tt()*t.length)}function Ry(t,e,n=!0){return t[e!==void 0&&n?e%t.length:RZ(t)]}function k1(t,e,n,i,r){return kZ(yp(t,i??0),e,n,r)}function kZ(t,e,n,i){let r=!0;return(!i||i===ut.bottom)&&(r=t.top<e.height+n.x),r&&(!i||i===ut.left)&&(r=t.right>n.x),r&&(!i||i===ut.right)&&(r=t.left<e.width+n.y),r&&(!i||i===ut.top)&&(r=t.bottom>n.y),r}function yp(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function si(t,...e){for(const n of e){if(n==null)continue;if(!Mu(n)){t=n;continue}const i=Array.isArray(n);i&&(Mu(t)||!t||!Array.isArray(t))?t=[]:!i&&(Mu(t)||!t||Array.isArray(t))&&(t={});for(const r in n){if(r==="__proto__")continue;const s=n,o=s[r],a=t;a[r]=Mu(o)&&Array.isArray(o)?o.map(l=>si(a[r],l)):si(a[r],o)}}return t}function D1(t,e){return!!y3(e,n=>n.enable&&hn(t,n.mode))}function I1(t,e,n){fr(e,i=>{const r=i.mode;i.enable&&hn(t,r)&&DZ(i,n)})}function DZ(t,e){const n=t.selectors;fr(n,i=>{e(i,t)})}function g3(t,e){if(!(!e||!t))return y3(t,n=>MZ(e,n.selectors))}function xb(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:On.create(je(t.options.bounce.horizontal.value),je(t.options.bounce.vertical.value))}}function v3(t,e){const{x:n,y:i}=t.velocity.sub(e.velocity),[r,s]=[t.position,e.position],{dx:o,dy:a}=_i(s,r);if(n*o+i*a<0)return;const c=-Math.atan2(a,o),u=t.mass,d=e.mass,h=t.velocity.rotate(c),f=e.velocity.rotate(c),v=HA(h,f,u,d),m=HA(f,h,u,d),g=v.rotate(-c),p=m.rotate(-c);t.velocity.x=g.x*t.factor.x,t.velocity.y=g.y*t.factor.y,e.velocity.x=p.x*e.factor.x,e.velocity.y=p.y*e.factor.y}function IZ(t,e){const n=t.getPosition(),i=t.getRadius(),r=yp(n,i),s=t.options.bounce,o=WA({pSide:{min:r.left,max:r.right},pOtherSide:{min:r.top,max:r.bottom},rectSide:{min:e.left,max:e.right},rectOtherSide:{min:e.top,max:e.bottom},velocity:t.velocity.x,factor:je(s.horizontal.value)});o.bounced&&(o.velocity!==void 0&&(t.velocity.x=o.velocity),o.position!==void 0&&(t.position.x=o.position));const a=WA({pSide:{min:r.top,max:r.bottom},pOtherSide:{min:r.left,max:r.right},rectSide:{min:e.top,max:e.bottom},rectOtherSide:{min:e.left,max:e.right},velocity:t.velocity.y,factor:je(s.vertical.value)});a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function fr(t,e){return Ys(t)?t.map((i,r)=>e(i,r)):e(t,0)}function Rr(t,e,n){return Ys(t)?Ry(t,e,n):t}function y3(t,e){return Ys(t)?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}function _3(t,e){const n=t.value,i=t.animation,r={delayTime:je(i.delay)*ei,enable:i.enable,value:je(t.value)*e,max:Is(n)*e,min:Ay(n)*e,loops:0,maxLoops:je(i.count),time:0},s=1;if(i.enable){switch(r.decay=s-je(i.decay),i.mode){case $l.increase:r.status=mn.increasing;break;case $l.decrease:r.status=mn.decreasing;break;case $l.random:r.status=Tt()>=Cn?mn.increasing:mn.decreasing;break}const o=i.mode===$l.auto;switch(i.startValue){case Bu.min:r.value=r.min,o&&(r.status=mn.increasing);break;case Bu.max:r.value=r.max,o&&(r.status=mn.decreasing);break;case Bu.random:default:r.value=er(r),o&&(r.status=Tt()>=Cn?mn.increasing:mn.decreasing);break}}return r.initialValue=r.value,r}function LZ(t,e){if(!(t.mode===bd.percent)){const{mode:r,...s}=t;return s}return"x"in t?{x:t.x/Sa*e.width,y:t.y/Sa*e.height}:{width:t.width/Sa*e.width,height:t.height/Sa*e.height}}function x3(t,e){return LZ(t,e)}function OZ(t,e,n,i,r){switch(e){case wc.max:n>=r&&t.destroy();break;case wc.min:n<=i&&t.destroy();break}}function L1(t,e,n,i,r){if(t.destroyed||!e||!e.enable||(e.maxLoops??0)>0&&(e.loops??0)>(e.maxLoops??0))return;const u=(e.velocity??0)*r.factor,d=e.min,h=e.max,f=e.decay??1;if(e.time||(e.time=0),(e.delayTime??0)>0&&e.time<(e.delayTime??0)&&(e.time+=r.value),!((e.delayTime??0)>0&&e.time<(e.delayTime??0))){switch(e.status){case mn.increasing:e.value>=h?(n?e.status=mn.decreasing:e.value-=h,e.loops||(e.loops=0),e.loops++):e.value+=u;break;case mn.decreasing:e.value<=d?(n?e.status=mn.increasing:e.value+=h,e.loops||(e.loops=0),e.loops++):e.value-=u}e.velocity&&f!==1&&(e.velocity*=f),OZ(t,i,e.value,d,h),t.destroyed||(e.value=jr(e.value,d,h))}}function NZ(t){var n,i,r,s;const e=document.createElement("div").style;if(!t)return e;for(const o in t){const a=t[o];if(!Object.prototype.hasOwnProperty.call(t,o)||_e(a))continue;const l=(n=t.getPropertyValue)==null?void 0:n.call(t,a);if(!l)continue;const c=(i=t.getPropertyPriority)==null?void 0:i.call(t,a);c?(s=e.setProperty)==null||s.call(e,a,l,c):(r=e.setProperty)==null||r.call(e,a,l)}return e}function UZ(t){const e=document.createElement("div").style,n=10,i={width:"100%",height:"100%",margin:"0",padding:"0",borderWidth:"0",position:"fixed",zIndex:t.toString(n),"z-index":t.toString(n),top:"0",left:"0"};for(const r in i){const s=i[r];e.setProperty(r,s)}return e}const FZ=TZ(UZ);var wb;(function(t){t.darken="darken",t.enlighten="enlighten"})(wb||(wb={}));function zZ(t,e){if(e){for(const n of t.colorManagers.values())if(e.startsWith(n.stringPrefix))return n.parseString(e)}}function ds(t,e,n,i=!0){if(!e)return;const r=Qa(e)?{value:e}:e;if(Qa(r.value))return w3(t,r.value,n,i);if(Ys(r.value))return ds(t,{value:Ry(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleRangeColor(r);if(o)return o}}function w3(t,e,n,i=!0){if(!e)return;const r=Qa(e)?{value:e}:e;if(Qa(r.value))return r.value===wd?S3():jZ(t,r.value);if(Ys(r.value))return w3(t,{value:Ry(r.value,n,i)});for(const s of t.colorManagers.values()){const o=s.handleColor(r);if(o)return o}}function Uf(t,e,n,i=!0){const r=ds(t,e,n,i);return r?b3(r):void 0}function b3(t){const e=t.r/fg,n=t.g/fg,i=t.b/fg,r=Math.max(e,n,i),s=Math.min(e,n,i),o={h:IA,l:(r+s)*Cn,s:vb};return r!==s&&(o.s=o.l<Cn?(r-s)/(r+s):(r-s)/(ti-r-s),o.h=e===r?(n-i)/(r-s):o.h=n===r?ti+(i-e)/(r-s):ti*ti+(e-n)/(r-s)),o.l*=gb,o.s*=mb,o.h*=VQ,o.h<IA&&(o.h+=Gl),o.h>=Gl&&(o.h-=Gl),o}function jZ(t,e){return zZ(t,e)}function Sd(t){const e=(t.h%Gl+Gl)%Gl,n=Math.max(vb,Math.min(mb,t.s)),i=Math.max(dZ,Math.min(gb,t.l)),r=e/Gl,s=n/mb,o=i/gb;if(n===vb){const v=Math.round(o*fl);return{r:v,g:v,b:v}}const a=(v,m,g)=>{if(g<0&&g++,g>1&&g--,g*c_<1)return v+(m-v)*c_*g;if(g*ti<1)return m;if(g*l_<1*ti){const y=ti/l_;return v+(m-v)*(y-g)*c_}return v},l=o<Cn?o*(hZ+s):o+s-o*s,c=ti*o-l,u=fZ/l_,d=Math.min(fl,fl*a(c,l,r+u)),h=Math.min(fl,fl*a(c,l,r)),f=Math.min(fl,fl*a(c,l,r-u));return{r:Math.round(d),g:Math.round(h),b:Math.round(f)}}function BZ(t){const e=Sd(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function S3(t){const e=pZ,n=fg+_b;return{b:Math.floor(er(vt(e,n))),g:Math.floor(er(vt(e,n))),r:Math.floor(er(vt(e,n)))}}function To(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??R1})`}function Ff(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??R1})`}function O1(t,e,n,i){let r=t,s=e;return r.r===void 0&&(r=Sd(t)),s.r===void 0&&(s=Sd(e)),{b:u_(r.b,s.b,n,i),g:u_(r.g,s.g,n,i),r:u_(r.r,s.r,n,i)}}function bb(t,e,n){if(n===wd)return S3();if(n===hg){const i=t.getFillColor()??t.getStrokeColor(),r=(e==null?void 0:e.getFillColor())??(e==null?void 0:e.getStrokeColor());if(i&&r&&e)return O1(i,r,t.getRadius(),e.getRadius());{const s=i??r;if(s)return Sd(s)}}else return n}function E3(t,e,n,i){const r=Qa(e)?e:e.value;return r===wd?i?ds(t,{value:r}):n?wd:hg:r===hg?hg:ds(t,{value:r})}function $A(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function T3(t,e,n){const i={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(d_(i.h,e.h,n),d_(i.s,e.s,n),d_(i.l,e.l,n)),i}function d_(t,e,n){t.enable=e.enable,t.enable?(t.velocity=je(e.speed)/Sa*n,t.decay=c3-je(e.decay),t.status=mn.increasing,t.loops=gZ,t.maxLoops=je(e.count),t.time=vZ,t.delayTime=je(e.delay)*ei,e.sync||(t.velocity*=Tt(),t.value*=Tt()),t.initialValue=t.value,t.offset=vt(e.offset)):t.velocity=mZ}function h_(t,e,n,i){if(!t||!t.enable||(t.maxLoops??0)>0&&(t.loops??0)>(t.maxLoops??0)||(t.time||(t.time=0),(t.delayTime??0)>0&&t.time<(t.delayTime??0)&&(t.time+=i.value),(t.delayTime??0)>0&&t.time<(t.delayTime??0)))return;const u=t.offset?er(t.offset):0,d=(t.velocity??0)*i.factor+u*3.6,h=t.decay??1,f=Is(e),v=Ay(e);!n||t.status===mn.increasing?(t.value+=d,t.value>f&&(t.loops||(t.loops=0),t.loops++,n?t.status=mn.decreasing:t.value-=f)):(t.value-=d,t.value<0&&(t.loops||(t.loops=0),t.loops++,t.status=mn.increasing)),t.velocity&&h!==1&&(t.velocity*=h),t.value=jr(t.value,v,f)}function M3(t,e){if(!t)return;const{h:n,s:i,l:r}=t,s={h:{min:0,max:360},s:{min:0,max:100},l:{min:0,max:100}};n&&h_(n,s.h,!1,e),i&&h_(i,s.s,!0,e),r&&h_(r,s.l,!0,e)}function ef(t,e,n){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.closePath()}function VZ(t,e,n){t.fillStyle=n??"rgba(0,0,0,0)",t.fillRect(Yn.x,Yn.y,e.width,e.height)}function HZ(t,e,n,i){n&&(t.globalAlpha=i,t.drawImage(n,Yn.x,Yn.y,e.width,e.height),t.globalAlpha=1)}function f_(t,e){t.clearRect(Yn.x,Yn.y,e.width,e.height)}function WZ(t){const{container:e,context:n,particle:i,delta:r,colorStyles:s,backgroundMask:o,composite:a,radius:l,opacity:c,shadow:u,transform:d}=t,h=i.getPosition(),f=i.rotation+(i.pathRotation?i.velocity.angle:uZ),v={sin:Math.sin(f),cos:Math.cos(f)},m=!!f,g={a:v.cos*(d.a??hm.a),b:m?v.sin*(d.b??_b):d.b??hm.b,c:m?-v.sin*(d.c??_b):d.c??hm.c,d:v.cos*(d.d??hm.d)};n.setTransform(g.a,g.b,g.c,g.d,h.x,h.y),o&&(n.globalCompositeOperation=a);const p=i.shadowColor;u.enable&&p&&(n.shadowBlur=u.blur,n.shadowColor=To(p),n.shadowOffsetX=u.offset.x,n.shadowOffsetY=u.offset.y),s.fill&&(n.fillStyle=s.fill);const _=i.strokeWidth??d3;n.lineWidth=_,s.stroke&&(n.strokeStyle=s.stroke);const y={container:e,context:n,particle:i,radius:l,opacity:c,delta:r,transformData:g,strokeWidth:_};$Z(y),qZ(y),GZ(y),n.globalCompositeOperation="source-over",n.resetTransform()}function GZ(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.effect)return;const l=e.effectDrawers.get(i.effect);l&&l.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function $Z(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,strokeWidth:a,transformData:l}=t;if(!i.shape)return;const c=e.shapeDrawers.get(i.shape);c&&(n.beginPath(),c.draw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...l}}),i.shapeClose&&n.closePath(),a>d3&&n.stroke(),i.shapeFill&&n.fill())}function qZ(t){const{container:e,context:n,particle:i,radius:r,opacity:s,delta:o,transformData:a}=t;if(!i.shape)return;const l=e.shapeDrawers.get(i.shape);l!=null&&l.afterDraw&&l.afterDraw({context:n,particle:i,radius:r,opacity:s,delta:o,pixelRatio:e.retina.pixelRatio,transformData:{...a}})}function XZ(t,e,n){e.draw&&e.draw(t,n)}function KZ(t,e,n,i){e.drawParticle&&e.drawParticle(t,n,i)}function YZ(t,e,n){return{h:t.h,s:t.s,l:t.l+(e===wb.darken?-VA:VA)*n}}function JZ(t,e,n){const i=e[n];i!==void 0&&(t[n]=(t[n]??WQ)*i)}function qA(t,e,n=!1){if(!e)return;const i=t;if(!i)return;const r=i.style;if(!r)return;const s=new Set;for(const o in r)Object.prototype.hasOwnProperty.call(r,o)&&s.add(r[o]);for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&s.add(e[o]);for(const o of s){const a=e.getPropertyValue(o);a?r.setProperty(o,a,n?"important":""):r.removeProperty(o)}}class QZ{constructor(e,n){this.container=e,this._applyPostDrawUpdaters=s=>{var o;for(const a of this._postDrawUpdaters)(o=a.afterDraw)==null||o.call(a,s)},this._applyPreDrawUpdaters=(s,o,a,l,c,u)=>{var d;for(const h of this._preDrawUpdaters){if(h.getColorStyles){const{fill:f,stroke:v}=h.getColorStyles(o,s,a,l);f&&(c.fill=f),v&&(c.stroke=v)}if(h.getTransformValues){const f=h.getTransformValues(o);for(const v in f)JZ(u,f,v)}(d=h.beforeDraw)==null||d.call(h,o)}},this._applyResizePlugins=()=>{var s;for(const o of this._resizePlugins)(s=o.resize)==null||s.call(o)},this._getPluginParticleColors=s=>{let o,a;for(const l of this._colorPlugins)if(!o&&l.particleFillColor&&(o=Uf(this._engine,l.particleFillColor(s))),!a&&l.particleStrokeColor&&(a=Uf(this._engine,l.particleStrokeColor(s))),o&&a)break;return[o,a]},this._initCover=async()=>{const s=this.container.actualOptions,o=s.backgroundMask.cover,a=o.color;if(a){const l=ds(this._engine,a);if(l){const c={...l,a:o.opacity};this._coverColorStyle=To(c,c.a)}}else await new Promise((l,c)=>{if(!o.image)return;const u=document.createElement("img");u.addEventListener("load",()=>{this._coverImage={image:u,opacity:o.opacity},l()}),u.addEventListener("error",d=>{c(d.error)}),u.src=o.image})},this._initStyle=()=>{const s=this.element,o=this.container.actualOptions;if(s){this._fullScreen?this._setFullScreenStyle():this._resetOriginalStyle();for(const a in o.style){if(!a||!o.style||!Object.prototype.hasOwnProperty.call(o.style,a))continue;const l=o.style[a];l&&s.style.setProperty(a,l,"important")}}},this._initTrail=async()=>{const s=this.container.actualOptions,o=s.particles.move.trail,a=o.fill;if(!o.enable)return;const l=a3/o.length;if(a.color){const c=ds(this._engine,a.color);if(!c)return;this._trailFill={color:{...c},opacity:l}}else await new Promise((c,u)=>{if(!a.image)return;const d=document.createElement("img");d.addEventListener("load",()=>{this._trailFill={image:d,opacity:l},c()}),d.addEventListener("error",h=>{u(h.error)}),d.src=a.image})},this._paintBase=s=>{this.draw(o=>VZ(o,this.size,s))},this._paintImage=(s,o)=>{this.draw(a=>HZ(a,this.size,s,o))},this._repairStyle=()=>{const s=this.element;if(!s)return;this._safeMutationObserver(a=>a.disconnect()),this._initStyle(),this.initBackground();const o=this._pointerEvents;s.style.pointerEvents=o,s.setAttribute("pointer-events",o),this._safeMutationObserver(a=>{!s||!(s instanceof Node)||a.observe(s,{attributes:!0})})},this._resetOriginalStyle=()=>{const s=this.element,o=this._originalStyle;!s||!o||qA(s,o,!0)},this._safeMutationObserver=s=>{this._mutationObserver&&s(this._mutationObserver)},this._setFullScreenStyle=()=>{const s=this.element;s&&qA(s,FZ(this.container.actualOptions.fullScreen.zIndex),!0)},this._engine=n,this._standardSize={height:0,width:0};const i=e.retina.pixelRatio,r=this._standardSize;this.size={height:r.height*i,width:r.width*i},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._pointerEvents="none"}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,n=e.particles.move.trail,i=this._trailFill;e.backgroundMask.enable?this.paint():n.enable&&n.length>$Q&&i?i.color?this._paintBase(To(i.color,i.opacity)):i.image&&this._paintImage(i.image,i.opacity):e.clear&&this.draw(r=>{f_(r,this.size)})}destroy(){if(this.stop(),this._generated){const e=this.element;e==null||e.remove(),this.element=void 0}else this._resetOriginalStyle();this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){const n=this._context;if(n)return e(n)}drawAsync(e){const n=this._context;if(n)return e(n)}drawParticle(e,n){if(e.spawning||e.destroyed)return;const i=e.getRadius();if(i<=GQ)return;const r=e.getFillColor(),s=e.getStrokeColor()??r;let[o,a]=this._getPluginParticleColors(e);o||(o=r),a||(a=s),!(!o&&!a)&&this.draw(l=>{var w;const c=this.container,u=c.actualOptions,d=e.options.zIndex,h=qQ-e.zIndexFactor,f=h**d.opacityRate,v=e.bubble.opacity??((w=e.opacity)==null?void 0:w.value)??R1,m=e.strokeOpacity??v,g=v*f,p=m*f,_={},y={fill:o?Ff(o,g):void 0};y.stroke=a?Ff(a,p):y.fill,this._applyPreDrawUpdaters(l,e,i,g,y,_),WZ({container:c,context:l,particle:e,delta:n,colorStyles:y,backgroundMask:u.backgroundMask.enable,composite:u.backgroundMask.composite,radius:i*h**d.sizeRate,opacity:g,shadow:e.options.shadow,transform:_}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,n,i){this.draw(r=>KZ(r,e,n,i))}drawPlugin(e,n){this.draw(i=>XZ(i,e,n))}async init(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=AZ(e=>{for(const n of e)n.type==="attributes"&&n.attributeName==="style"&&this._repairStyle()}),this.resize(),this._initStyle(),await this._initCover();try{await this._initTrail()}catch(e){bc().error(e)}this.initBackground(),this._safeMutationObserver(e=>{!this.element||!(this.element instanceof Node)||e.observe(this.element,{attributes:!0})}),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,n=e.background,i=this.element;if(!i)return;const r=i.style;if(r){if(n.color){const s=ds(this._engine,n.color);r.backgroundColor=s?To(s,n.opacity):""}else r.backgroundColor="";r.backgroundImage=n.image||"",r.backgroundPosition=n.position||"",r.backgroundRepeat=n.repeat||"",r.backgroundSize=n.size||""}}initPlugins(){this._resizePlugins=[];for(const e of this.container.plugins.values())e.resize&&this._resizePlugins.push(e),(e.particleFillColor??e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles??e.getTransformValues??e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){this._generated&&this.element&&this.element.remove(),this._generated=e.dataset&&Wl in e.dataset?e.dataset[Wl]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=NZ(this.element.style);const n=this._standardSize;n.height=e.offsetHeight,n.width=e.offsetWidth;const i=this.container.retina.pixelRatio,r=this.size;e.height=r.height=n.height*i,e.width=r.width=n.width*i,this._context=this.element.getContext("2d"),this._safeMutationObserver(s=>s.disconnect()),this.container.retina.init(),this.initBackground(),this._safeMutationObserver(s=>{!this.element||!(this.element instanceof Node)||s.observe(this.element,{attributes:!0})})}paint(){const e=this.container.actualOptions;this.draw(n=>{e.backgroundMask.enable&&e.backgroundMask.cover?(f_(n,this.size),this._coverImage?this._paintImage(this._coverImage.image,this._coverImage.opacity):this._coverColorStyle?this._paintBase(this._coverColorStyle):this._paintBase()):this._paintBase()})}resize(){if(!this.element)return!1;const e=this.container,n=e.canvas._standardSize,i={width:this.element.offsetWidth,height:this.element.offsetHeight},r=e.retina.pixelRatio,s={width:i.width*r,height:i.height*r};if(i.height===n.height&&i.width===n.width&&s.height===this.element.height&&s.width===this.element.width)return!1;const o={...n};n.height=i.height,n.width=i.width;const a=this.size;return this.element.width=a.width=s.width,this.element.height=a.height=s.height,this.container.started&&e.particles.setResizeFactor({width:n.width/o.width,height:n.height/o.height}),!0}setPointerEvents(e){this.element&&(this._pointerEvents=e,this._repairStyle())}stop(){this._safeMutationObserver(e=>e.disconnect()),this._mutationObserver=void 0,this.draw(e=>f_(e,this.size))}async windowResize(){if(!this.element||!this.resize())return;const e=this.container,n=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),n&&await e.refresh()}}var Vu;(function(t){t.canvas="canvas",t.parent="parent",t.window="window"})(Vu||(Vu={}));function yr(t,e,n,i,r){if(i){let s={passive:!0};h3(r)?s.capture=r:r!==void 0&&(s=r),t.addEventListener(e,n,s)}else{const s=r;t.removeEventListener(e,n,s)}}class ZZ{constructor(e){this.container=e,this._doMouseTouchClick=n=>{const i=this.container,r=i.actualOptions;if(this._canPush){const s=i.interactivity.mouse,o=s.position;if(!o)return;s.clickPosition={...o},s.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;fr(a.mode,l=>this.container.handleClickMode(l))}n.type==="touchend"&&setTimeout(()=>this._mouseTouchFinish(),cZ)},this._handleThemeChange=n=>{const i=n,r=this.container,s=r.options,o=s.defaultThemes,a=i.matches?o.dark:o.light,l=s.themes.find(c=>c.name===a);l!=null&&l.default.auto&&r.loadTheme(a)},this._handleVisibilityChange=()=>{const n=this.container,i=n.actualOptions;this._mouseTouchFinish(),i.pauseOnBlur&&(document!=null&&document.hidden?(n.pageHidden=!0,n.pause()):(n.pageHidden=!1,n.animationStatus?n.play(!0):n.draw(!0)))},this._handleWindowResize=()=>{this._resizeTimeout&&(clearTimeout(this._resizeTimeout),delete this._resizeTimeout);const n=async()=>{const i=this.container.canvas;await(i==null?void 0:i.windowResize())};this._resizeTimeout=setTimeout(()=>void n(),this.container.actualOptions.interactivity.events.resize.delay*ei)},this._manageInteractivityListeners=(n,i)=>{const r=this._handlers,s=this.container,o=s.actualOptions,a=s.interactivity.element;if(!a)return;const l=a,c=s.canvas;c.setPointerEvents(l===c.element?"initial":"none"),(o.interactivity.events.onHover.enable||o.interactivity.events.onClick.enable)&&(yr(a,xc,r.mouseMove,i),yr(a,LQ,r.touchStart,i),yr(a,OQ,r.touchMove,i),o.interactivity.events.onClick.enable?(yr(a,CA,r.touchEndClick,i),yr(a,DQ,r.mouseUp,i),yr(a,kQ,r.mouseDown,i)):yr(a,CA,r.touchEnd,i),yr(a,n,r.mouseLeave,i),yr(a,NQ,r.touchCancel,i))},this._manageListeners=n=>{const i=this._handlers,r=this.container,s=r.actualOptions,o=s.interactivity.detectsOn,a=r.canvas.element;let l=pb;o===Vu.window?(r.interactivity.element=window,l=IQ):o===Vu.parent&&a?r.interactivity.element=a.parentElement??a.parentNode:r.interactivity.element=a,this._manageMediaMatch(n),this._manageResize(n),this._manageInteractivityListeners(l,n),document&&yr(document,FQ,i.visibilityChange,n,!1)},this._manageMediaMatch=n=>{const i=this._handlers,r=m3("(prefers-color-scheme: dark)");if(r){if(r.addEventListener!==void 0){yr(r,"change",i.themeChange,n);return}r.addListener!==void 0&&(n?r.addListener(i.oldThemeChange):r.removeListener(i.oldThemeChange))}},this._manageResize=n=>{const i=this._handlers,r=this.container;if(!r.actualOptions.interactivity.events.resize)return;if(typeof ResizeObserver>"u"){yr(window,UQ,i.resize,n);return}const o=r.canvas.element;this._resizeObserver&&!n?(o&&this._resizeObserver.unobserve(o),this._resizeObserver.disconnect(),delete this._resizeObserver):!this._resizeObserver&&n&&o&&(this._resizeObserver=new ResizeObserver(a=>{a.find(c=>c.target===o)&&this._handleWindowResize()}),this._resizeObserver.observe(o))},this._mouseDown=()=>{const{interactivity:n}=this.container;if(!n)return;const{mouse:i}=n;i.clicking=!0,i.downPosition=i.position},this._mouseTouchClick=n=>{const i=this.container,r=i.actualOptions,{mouse:s}=i.interactivity;s.inside=!0;let o=!1;const a=s.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const l of i.plugins.values())if(l.clickPositionValid&&(o=l.clickPositionValid(a),o))break;o||this._doMouseTouchClick(n),s.clicking=!1}},this._mouseTouchFinish=()=>{const n=this.container.interactivity;if(!n)return;const i=n.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,n.status=pb,i.inside=!1,i.clicking=!1},this._mouseTouchMove=n=>{const i=this.container,r=i.actualOptions,s=i.interactivity,o=i.canvas.element;if(!(s!=null&&s.element))return;s.mouse.inside=!0;let a;if(n.type.startsWith("pointer")){this._canPush=!0;const c=n;if(s.element===window){if(o){const u=o.getBoundingClientRect();a={x:c.clientX-u.left,y:c.clientY-u.top}}}else if(r.interactivity.detectsOn===Vu.parent){const u=c.target,d=c.currentTarget;if(u&&d&&o){const h=u.getBoundingClientRect(),f=d.getBoundingClientRect(),v=o.getBoundingClientRect();a={x:c.offsetX+ti*h.left-(f.left+v.left),y:c.offsetY+ti*h.top-(f.top+v.top)}}else a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY}}else c.target===o&&(a={x:c.offsetX??c.clientX,y:c.offsetY??c.clientY})}else if(this._canPush=n.type!=="touchmove",o){const c=n,u=c.touches[c.touches.length-u3],d=o.getBoundingClientRect();a={x:u.clientX-(d.left??gv),y:u.clientY-(d.top??gv)}}const l=i.retina.pixelRatio;a&&(a.x*=l,a.y*=l),s.mouse.position=a,s.status=xc},this._touchEnd=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchFinish()},this._touchEndClick=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.delete(s.identifier);this._mouseTouchClick(n)},this._touchStart=n=>{const i=n,r=Array.from(i.changedTouches);for(const s of r)this._touches.set(s.identifier,performance.now());this._mouseTouchMove(n)},this._canPush=!0,this._touches=new Map,this._handlers={mouseDown:()=>this._mouseDown(),mouseLeave:()=>this._mouseTouchFinish(),mouseMove:n=>this._mouseTouchMove(n),mouseUp:n=>this._mouseTouchClick(n),touchStart:n=>this._touchStart(n),touchMove:n=>this._mouseTouchMove(n),touchEnd:n=>this._touchEnd(n),touchCancel:n=>this._touchEnd(n),touchEndClick:n=>this._touchEndClick(n),visibilityChange:()=>this._handleVisibilityChange(),themeChange:n=>this._handleThemeChange(n),oldThemeChange:n=>this._handleThemeChange(n),resize:()=>{this._handleWindowResize()}}}addListeners(){this._manageListeners(!0)}removeListeners(){this._manageListeners(!1)}}var fi;(function(t){t.configAdded="configAdded",t.containerInit="containerInit",t.particlesSetup="particlesSetup",t.containerStarted="containerStarted",t.containerStopped="containerStopped",t.containerDestroyed="containerDestroyed",t.containerPaused="containerPaused",t.containerPlay="containerPlay",t.containerBuilt="containerBuilt",t.particleAdded="particleAdded",t.particleDestroyed="particleDestroyed",t.particleRemoved="particleRemoved"})(fi||(fi={}));class oi{constructor(){this.value=""}static create(e,n){const i=new oi;return i.load(e),n!==void 0&&(Qa(n)||Ys(n)?i.load({value:n}):i.load(n)),i}load(e){_e(e)||_e(e.value)||(this.value=e.value)}}class eee{constructor(){this.color=new oi,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){_e(e)||(e.color!==void 0&&(this.color=oi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class tee{constructor(){this.opacity=1}load(e){_e(e)||(e.color!==void 0&&(this.color=oi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.opacity!==void 0&&(this.opacity=e.opacity))}}class nee{constructor(){this.composite="destination-out",this.cover=new tee,this.enable=!1}load(e){if(!_e(e)){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const n=e.cover,i=Qa(e.cover)?{color:e.cover}:e.cover;this.cover.load(n.color!==void 0||n.image!==void 0?n:{color:i})}e.enable!==void 0&&(this.enable=e.enable)}}}class iee{constructor(){this.enable=!0,this.zIndex=0}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class ree{constructor(){this.enable=!1,this.mode=[]}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}var Ed;(function(t){t.circle="circle",t.rectangle="rectangle"})(Ed||(Ed={}));class XA{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type=Ed.circle}load(e){_e(e)||(e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type))}}class see{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class oee{constructor(){this.enable=!1,this.mode=[],this.parallax=new see}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class aee{constructor(){this.delay=.5,this.enable=!0}load(e){_e(e)||(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class lee{constructor(){this.onClick=new ree,this.onDiv=new XA,this.onHover=new oee,this.resize=new aee}load(e){if(_e(e))return;this.onClick.load(e.onClick);const n=e.onDiv;n!==void 0&&(this.onDiv=fr(n,i=>{const r=new XA;return r.load(i),r})),this.onHover.load(e.onHover),this.resize.load(e.resize)}}class cee{constructor(e,n){this._engine=e,this._container=n}load(e){if(_e(e)||!this._container)return;const n=this._engine.interactors.get(this._container);if(n)for(const i of n)i.loadModeOptions&&i.loadModeOptions(this,e)}}class C3{constructor(e,n){this.detectsOn=Vu.window,this.events=new lee,this.modes=new cee(e,n)}load(e){if(_e(e))return;const n=e.detectsOn;n!==void 0&&(this.detectsOn=n),this.events.load(e.events),this.modes.load(e.modes)}}class uee{load(e){_e(e)||(e.position&&(this.position={x:e.position.x??BA,y:e.position.y??BA,mode:e.position.mode??bd.percent}),e.options&&(this.options=si({},e.options)))}}var ql;(function(t){t.screen="screen",t.canvas="canvas"})(ql||(ql={}));class dee{constructor(){this.maxWidth=1/0,this.options={},this.mode=ql.canvas}load(e){_e(e)||(_e(e.maxWidth)||(this.maxWidth=e.maxWidth),_e(e.mode)||(e.mode===ql.screen?this.mode=ql.screen:this.mode=ql.canvas),_e(e.options)||(this.options=si({},e.options)))}}var ha;(function(t){t.any="any",t.dark="dark",t.light="light"})(ha||(ha={}));class hee{constructor(){this.auto=!1,this.mode=ha.any,this.value=!1}load(e){_e(e)||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class fee{constructor(){this.name="",this.default=new hee}load(e){_e(e)||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=si({},e.options)))}}class N1{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.delay=0,this.sync=!1}load(e){_e(e)||(e.count!==void 0&&(this.count=vt(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=vt(e.speed)),e.decay!==void 0&&(this.decay=vt(e.decay)),e.delay!==void 0&&(this.delay=vt(e.delay)),e.sync!==void 0&&(this.sync=e.sync))}}class U1 extends N1{constructor(){super(),this.mode=$l.auto,this.startValue=Bu.random}load(e){super.load(e),!_e(e)&&(e.mode!==void 0&&(this.mode=e.mode),e.startValue!==void 0&&(this.startValue=e.startValue))}}class p_ extends N1{constructor(){super(),this.offset=0,this.sync=!0}load(e){super.load(e),!_e(e)&&e.offset!==void 0&&(this.offset=vt(e.offset))}}class pee{constructor(){this.h=new p_,this.s=new p_,this.l=new p_}load(e){_e(e)||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class zf extends oi{constructor(){super(),this.animation=new pee}static create(e,n){const i=new zf;return i.load(e),n!==void 0&&(Qa(n)||Ys(n)?i.load({value:n}):i.load(n)),i}load(e){if(super.load(e),_e(e))return;const n=e.animation;n!==void 0&&(n.enable!==void 0?this.animation.h.load(n):this.animation.load(e.animation))}}var Hu;(function(t){t.absorb="absorb",t.bounce="bounce",t.destroy="destroy"})(Hu||(Hu={}));class mee{constructor(){this.speed=2}load(e){_e(e)||e.speed!==void 0&&(this.speed=e.speed)}}class gee{constructor(){this.enable=!0,this.retries=0}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class Rc{constructor(){this.value=0}load(e){_e(e)||_e(e.value)||(this.value=vt(e.value))}}class vee extends Rc{constructor(){super(),this.animation=new N1}load(e){if(super.load(e),_e(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class P3 extends vee{constructor(){super(),this.animation=new U1}load(e){super.load(e)}}class KA extends Rc{constructor(){super(),this.value=1}}class A3{constructor(){this.horizontal=new KA,this.vertical=new KA}load(e){_e(e)||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class yee{constructor(){this.absorb=new mee,this.bounce=new A3,this.enable=!1,this.maxSpeed=50,this.mode=Hu.bounce,this.overlap=new gee}load(e){_e(e)||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.maxSpeed!==void 0&&(this.maxSpeed=vt(e.maxSpeed)),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class _ee{constructor(){this.close=!0,this.fill=!0,this.options={},this.type=[]}load(e){if(_e(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=si(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class xee{constructor(){this.offset=0,this.value=90}load(e){_e(e)||(e.offset!==void 0&&(this.offset=vt(e.offset)),e.value!==void 0&&(this.value=vt(e.value)))}}class wee{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}load(e){if(!_e(e)&&(e.distance!==void 0&&(this.distance=vt(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.rotate)){const n=e.rotate.x;n!==void 0&&(this.rotate.x=n);const i=e.rotate.y;i!==void 0&&(this.rotate.y=i)}}}class bee{constructor(){this.x=50,this.y=50,this.mode=bd.percent,this.radius=0}load(e){_e(e)||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class See{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){_e(e)||(e.acceleration!==void 0&&(this.acceleration=vt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=vt(e.maxSpeed)))}}class Eee{constructor(){this.clamp=!0,this.delay=new Rc,this.enable=!1,this.options={}}load(e){_e(e)||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=si(this.options,e.options)))}}class Tee{load(e){_e(e)||(e.color!==void 0&&(this.color=oi.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class Mee{constructor(){this.enable=!1,this.length=10,this.fill=new Tee}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.fill!==void 0&&this.fill.load(e.fill),e.length!==void 0&&(this.length=e.length))}}var _n;(function(t){t.bounce="bounce",t.none="none",t.out="out",t.destroy="destroy",t.split="split"})(_n||(_n={}));class Cee{constructor(){this.default=_n.out}load(e){_e(e)||(e.default!==void 0&&(this.default=e.default),this.bottom=e.bottom??e.default,this.left=e.left??e.default,this.right=e.right??e.default,this.top=e.top??e.default)}}class Pee{constructor(){this.acceleration=0,this.enable=!1}load(e){_e(e)||(e.acceleration!==void 0&&(this.acceleration=vt(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.position&&(this.position=si({},e.position)))}}class Aee{constructor(){this.angle=new xee,this.attract=new wee,this.center=new bee,this.decay=0,this.distance={},this.direction=zn.none,this.drift=0,this.enable=!1,this.gravity=new See,this.path=new Eee,this.outModes=new Cee,this.random=!1,this.size=!1,this.speed=2,this.spin=new Pee,this.straight=!1,this.trail=new Mee,this.vibrate=!1,this.warp=!1}load(e){if(_e(e))return;this.angle.load(Za(e.angle)?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=vt(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=Za(e.distance)?{horizontal:e.distance,vertical:e.distance}:{...e.distance}),e.drift!==void 0&&(this.drift=vt(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const n=e.outModes;n!==void 0&&(Mu(n)?this.outModes.load(n):this.outModes.load({default:n})),this.path.load(e.path),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=vt(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class Ree extends U1{constructor(){super(),this.destroy=wc.none,this.speed=2}load(e){super.load(e),!_e(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class kee extends P3{constructor(){super(),this.animation=new Ree,this.value=1}load(e){if(_e(e))return;super.load(e);const n=e.animation;n!==void 0&&this.animation.load(n)}}class Dee{constructor(){this.enable=!1,this.width=1920,this.height=1080}load(e){if(_e(e))return;e.enable!==void 0&&(this.enable=e.enable);const n=e.width;n!==void 0&&(this.width=n);const i=e.height;i!==void 0&&(this.height=i)}}var jf;(function(t){t.delete="delete",t.wait="wait"})(jf||(jf={}));class Iee{constructor(){this.mode=jf.delete,this.value=0}load(e){_e(e)||(e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class Lee{constructor(){this.density=new Dee,this.limit=new Iee,this.value=0}load(e){_e(e)||(this.density.load(e.density),this.limit.load(e.limit),e.value!==void 0&&(this.value=e.value))}}class Oee{constructor(){this.blur=0,this.color=new oi,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){_e(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=oi.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}class Nee{constructor(){this.close=!0,this.fill=!0,this.options={},this.type="circle"}load(e){if(_e(e))return;const n=e.options;if(n!==void 0)for(const i in n){const r=n[i];r&&(this.options[i]=si(this.options[i]??{},r))}e.close!==void 0&&(this.close=e.close),e.fill!==void 0&&(this.fill=e.fill),e.type!==void 0&&(this.type=e.type)}}class Uee extends U1{constructor(){super(),this.destroy=wc.none,this.speed=5}load(e){super.load(e),!_e(e)&&e.destroy!==void 0&&(this.destroy=e.destroy)}}class Fee extends P3{constructor(){super(),this.animation=new Uee,this.value=3}load(e){if(super.load(e),_e(e))return;const n=e.animation;n!==void 0&&this.animation.load(n)}}class YA{constructor(){this.width=0}load(e){_e(e)||(e.color!==void 0&&(this.color=zf.create(this.color,e.color)),e.width!==void 0&&(this.width=vt(e.width)),e.opacity!==void 0&&(this.opacity=vt(e.opacity)))}}class zee extends Rc{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),!_e(e)&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class jee{constructor(e,n){this._engine=e,this._container=n,this.bounce=new A3,this.collisions=new yee,this.color=new zf,this.color.value="#fff",this.effect=new _ee,this.groups={},this.move=new Aee,this.number=new Lee,this.opacity=new kee,this.reduceDuplicates=!1,this.shadow=new Oee,this.shape=new Nee,this.size=new Fee,this.stroke=new YA,this.zIndex=new zee}load(e){if(_e(e))return;if(e.groups!==void 0)for(const i of Object.keys(e.groups)){if(!Object.hasOwn(e.groups,i))continue;const r=e.groups[i];r!==void 0&&(this.groups[i]=si(this.groups[i]??{},r))}e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.bounce.load(e.bounce),this.color.load(zf.create(this.color,e.color)),this.effect.load(e.effect),this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=si({},e.interactivity));const n=e.stroke;if(n&&(this.stroke=fr(n,i=>{const r=new YA;return r.load(i),r})),this._container){const i=this._engine.updaters.get(this._container);if(i)for(const s of i)s.loadOptions&&s.loadOptions(this,e);const r=this._engine.interactors.get(this._container);if(r)for(const s of r)s.loadParticlesOptions&&s.loadParticlesOptions(this,e)}}}function R3(t,...e){for(const n of e)t.load(n)}function k3(t,e,...n){const i=new jee(t,e);return R3(i,...n),i}class Bee{constructor(e,n){this._findDefaultTheme=i=>this.themes.find(r=>r.default.value&&r.default.mode===i)??this.themes.find(r=>r.default.value&&r.default.mode===ha.any),this._importPreset=i=>{this.load(this._engine.getPreset(i))},this._engine=e,this._container=n,this.autoPlay=!0,this.background=new eee,this.backgroundMask=new nee,this.clear=!0,this.defaultThemes={},this.delay=0,this.fullScreen=new iee,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new C3(e,n),this.manualParticles=[],this.particles=k3(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}load(e){var o,a;if(_e(e))return;e.preset!==void 0&&fr(e.preset,l=>this._importPreset(l)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.clear!==void 0&&(this.clear=e.clear),e.key!==void 0&&(this.key=e.key),e.name!==void 0&&(this.name=e.name),e.delay!==void 0&&(this.delay=vt(e.delay));const n=e.detectRetina;n!==void 0&&(this.detectRetina=n),e.duration!==void 0&&(this.duration=vt(e.duration));const i=e.fpsLimit;i!==void 0&&(this.fpsLimit=i),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const r=e.fullScreen;h3(r)?this.fullScreen.enable=r:this.fullScreen.load(r),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles&&(this.manualParticles=e.manualParticles.map(l=>{const c=new uee;return c.load(l),c})),this.particles.load(e.particles),this.style=si(this.style,e.style),this._engine.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const s=this._engine.interactors.get(this._container);if(s)for(const l of s)l.loadOptions&&l.loadOptions(this,e);if(e.responsive!==void 0)for(const l of e.responsive){const c=new dee;c.load(l),this.responsive.push(c)}if(this.responsive.sort((l,c)=>l.maxWidth-c.maxWidth),e.themes!==void 0)for(const l of e.themes){const c=this.themes.find(u=>u.name===l.name);if(c)c.load(l);else{const u=new fee;u.load(l),this.themes.push(u)}}this.defaultThemes.dark=(o=this._findDefaultTheme(ha.dark))==null?void 0:o.name,this.defaultThemes.light=(a=this._findDefaultTheme(ha.light))==null?void 0:a.name}setResponsive(e,n,i){this.load(i);const r=this.responsive.find(s=>s.mode===ql.screen&&screen?s.maxWidth>screen.availWidth:s.maxWidth*n>e);return this.load(r==null?void 0:r.options),r==null?void 0:r.maxWidth}setTheme(e){if(e){const n=this.themes.find(i=>i.name===e);n&&this.load(n.options)}else{const n=m3("(prefers-color-scheme: dark)"),i=n==null?void 0:n.matches,r=this._findDefaultTheme(i?ha.dark:ha.light);r&&this.load(r.options)}}}var Td;(function(t){t.external="external",t.particles="particles"})(Td||(Td={}));class Vee{constructor(e,n){this.container=n,this._engine=e,this._interactors=[],this._externalInteractors=[],this._particleInteractors=[]}externalInteract(e){for(const n of this._externalInteractors)n.isEnabled()&&n.interact(e)}handleClickMode(e){var n;for(const i of this._externalInteractors)(n=i.handleClickMode)==null||n.call(i,e)}async init(){this._interactors=await this._engine.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case Td.external:this._externalInteractors.push(e);break;case Td.particles:this._particleInteractors.push(e);break}e.init()}}particlesInteract(e,n){for(const i of this._externalInteractors)i.clear(e,n);for(const i of this._particleInteractors)i.isEnabled(e)&&i.interact(e,n)}reset(e){for(const n of this._externalInteractors)n.isEnabled()&&n.reset(e);for(const n of this._particleInteractors)n.isEnabled(e)&&n.reset(e)}}var hs;(function(t){t.normal="normal",t.inside="inside",t.outside="outside"})(hs||(hs={}));function Hee(t,e,n,i){const r=e.options[t];if(r)return si({close:e.close,fill:e.fill},Rr(r,n,i))}function Wee(t,e,n,i){const r=e.options[t];if(r)return si({close:e.close,fill:e.fill},Rr(r,n,i))}function JA(t){if(!hn(t.outMode,t.checkModes))return;const e=t.radius*ti;t.coord>t.maxCoord-e?t.setCb(-t.radius):t.coord<e&&t.setCb(t.radius)}class Gee{constructor(e,n){this.container=n,this._calcPosition=(i,r,s,o=AA)=>{for(const v of i.plugins.values()){const m=v.particlePosition!==void 0?v.particlePosition(r,this):void 0;if(m)return Xi.create(m.x,m.y,s)}const a=i.canvas.size,l=SZ({size:a,position:r}),c=Xi.create(l.x,l.y,s),u=this.getRadius(),d=this.options.move.outModes,h=v=>{JA({outMode:v,checkModes:[_n.bounce],coord:c.x,maxCoord:i.canvas.size.width,setCb:m=>c.x+=m,radius:u})},f=v=>{JA({outMode:v,checkModes:[_n.bounce],coord:c.y,maxCoord:i.canvas.size.height,setCb:m=>c.y+=m,radius:u})};return h(d.left??d.default),h(d.right??d.default),f(d.top??d.default),f(d.bottom??d.default),this._checkOverlap(c,o)?this._calcPosition(i,void 0,s,o+nZ):c},this._calculateVelocity=()=>{const i=bZ(this.direction),r=i.copy(),s=this.options.move;if(s.direction===zn.inside||s.direction===zn.outside)return r;const o=za(je(s.angle.value)),a=za(je(s.angle.offset)),l={left:a-o*Cn,right:a+o*Cn};return s.straight||(r.angle+=er(vt(l.left,l.right))),s.random&&typeof s.speed=="number"&&(r.length*=Tt()),r},this._checkOverlap=(i,r=AA)=>{const s=this.options.collisions,o=this.getRadius();if(!s.enable)return!1;const a=s.overlap;if(a.enable)return!1;const l=a.retries;if(l>=iZ&&r>l)throw new Error(`${zr} particle is overlapping and can't be placed`);return!!this.container.particles.find(c=>rr(i,c.position)<o+c.getRadius())},this._getRollColor=i=>{if(!i||!this.roll||!this.backColor&&!this.roll.alter)return i;const r=this.roll.horizontal&&this.roll.vertical?ti*UA:UA,s=this.roll.horizontal?Math.PI*Cn:vv;return Math.floor(((this.roll.angle??vv)+s)/(Math.PI/r))%ti?this.backColor?this.backColor:this.roll.alter?YZ(i,this.roll.alter.type,this.roll.alter.value):i:i},this._initPosition=i=>{const r=this.container,s=je(this.options.zIndex.value);this.position=this._calcPosition(r,i,jr(s,rZ,r.zLayers)),this.initialPosition=this.position.copy();const o=r.canvas.size;switch(this.moveCenter={...x3(this.options.move.center,o),radius:this.options.move.center.radius??sZ,mode:this.options.move.center.mode??bd.percent},this.direction=wZ(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case zn.inside:this.outType=hs.inside;break;case zn.outside:this.outType=hs.outside;break}this.offset=On.origin},this._engine=e}destroy(e){var s,o,a;if(this.unbreakable||this.destroyed)return;this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;const n=this.container,i=this.pathGenerator,r=n.shapeDrawers.get(this.shape);(s=r==null?void 0:r.particleDestroy)==null||s.call(r,this);for(const l of n.plugins.values())(o=l.particleDestroyed)==null||o.call(l,this,e);for(const l of n.particles.updaters)(a=l.particleDestroyed)==null||a.call(l,this,e);i==null||i.reset(this),this._engine.dispatchEvent(fi.particleDestroyed,{container:this.container,data:{particle:this}})}draw(e){const n=this.container,i=n.canvas;for(const r of n.plugins.values())i.drawParticlePlugin(r,this,e);i.drawParticle(this,e)}getFillColor(){return this._getRollColor(this.bubble.color??$A(this.color))}getMass(){return this.getRadius()**yo*Math.PI*Cn}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){return this.bubble.radius??this.size.value}getStrokeColor(){return this._getRollColor(this.bubble.color??$A(this.strokeColor))}init(e,n,i,r){var E,P,T,C,R,N;const s=this.container,o=this._engine;this.id=e,this.group=r,this.effectClose=!0,this.effectFill=!0,this.shapeClose=!0,this.shapeFill=!0,this.pathRotation=!1,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.isRotating=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType=hs.normal,this.ignoresResizeRatio=!0;const a=s.retina.pixelRatio,l=s.actualOptions,c=k3(this._engine,s,l.particles),{reduceDuplicates:u}=c,d=c.effect.type,h=c.shape.type;this.effect=Rr(d,this.id,u),this.shape=Rr(h,this.id,u);const f=c.effect,v=c.shape;if(i){if((E=i.effect)!=null&&E.type){const I=i.effect.type,O=Rr(I,this.id,u);O&&(this.effect=O,f.load(i.effect))}if((P=i.shape)!=null&&P.type){const I=i.shape.type,O=Rr(I,this.id,u);O&&(this.shape=O,v.load(i.shape))}}if(this.effect===wd){const I=[...this.container.effectDrawers.keys()];this.effect=I[Math.floor(Tt()*I.length)]}if(this.shape===wd){const I=[...this.container.shapeDrawers.keys()];this.shape=I[Math.floor(Tt()*I.length)]}this.effectData=Hee(this.effect,f,this.id,u),this.shapeData=Wee(this.shape,v,this.id,u),c.load(i);const m=this.effectData;m&&c.load(m.particles);const g=this.shapeData;g&&c.load(g.particles);const p=new C3(o,s);p.load(s.actualOptions.interactivity),p.load(c.interactivity),this.interactivity=p,this.effectFill=(m==null?void 0:m.fill)??c.effect.fill,this.effectClose=(m==null?void 0:m.close)??c.effect.close,this.shapeFill=(g==null?void 0:g.fill)??c.shape.fill,this.shapeClose=(g==null?void 0:g.close)??c.shape.close,this.options=c;const _=this.options.move.path;this.pathDelay=je(_.delay.value)*ei,_.generator&&(this.pathGenerator=this._engine.getPathGenerator(_.generator),this.pathGenerator&&s.addPath(_.generator,this.pathGenerator)&&this.pathGenerator.init(s)),s.retina.initParticle(this),this.size=_3(this.options.size,a),this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this._initPosition(n),this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=c3-je(this.options.move.decay);const y=s.particles;y.setLastZIndex(this.position.z),this.zIndexFactor=this.position.z/s.zLayers,this.sides=24;let w=s.effectDrawers.get(this.effect);w||(w=this._engine.getEffectDrawer(this.effect),w&&s.effectDrawers.set(this.effect,w)),w!=null&&w.loadEffect&&w.loadEffect(this);let b=s.shapeDrawers.get(this.shape);b||(b=this._engine.getShapeDrawer(this.shape),b&&s.shapeDrawers.set(this.shape,b)),b!=null&&b.loadShape&&b.loadShape(this);const S=b==null?void 0:b.getSidesCount;S&&(this.sides=S(this)),this.spawning=!1,this.shadowColor=ds(this._engine,this.options.shadow.color);for(const I of y.updaters)I.init(this);for(const I of y.movers)(T=I.init)==null||T.call(I,this);(C=w==null?void 0:w.particleInit)==null||C.call(w,s,this),(R=b==null?void 0:b.particleInit)==null||R.call(b,s,this);for(const I of s.plugins.values())(N=I.particleCreated)==null||N.call(I,this)}isInsideCanvas(){const e=this.getRadius(),n=this.container.canvas.size,i=this.position;return i.x>=-e&&i.y>=-e&&i.y<=n.height+e&&i.x<=n.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const n of this.container.particles.updaters)(e=n.reset)==null||e.call(n,this)}}class $ee{constructor(e,n){this.position=e,this.particle=n}}var Wu;(function(t){t.circle="circle",t.rectangle="rectangle"})(Wu||(Wu={}));class D3{constructor(e,n,i){this.position={x:e,y:n},this.type=i}}class ni extends D3{constructor(e,n,i){super(e,n,Wu.circle),this.radius=i}contains(e){return rr(e,this.position)<=this.radius}intersects(e){const n=this.position,i=e.position,r={x:Math.abs(i.x-n.x),y:Math.abs(i.y-n.y)},s=this.radius;if(e instanceof ni||e.type===Wu.circle){const o=e,a=s+o.radius,l=Math.sqrt(r.x**yo+r.y**yo);return a>l}else if(e instanceof ys||e.type===Wu.rectangle){const o=e,{width:a,height:l}=o.size;return Math.pow(r.x-a,yo)+Math.pow(r.y-l,yo)<=s**yo||r.x<=s+a&&r.y<=s+l||r.x<=a||r.y<=l}return!1}}class ys extends D3{constructor(e,n,i,r){super(e,n,Wu.rectangle),this.size={height:r,width:i}}contains(e){const n=this.size.width,i=this.size.height,r=this.position;return e.x>=r.x&&e.x<=r.x+n&&e.y>=r.y&&e.y<=r.y+i}intersects(e){if(e instanceof ni)return e.intersects(this);const n=this.size.width,i=this.size.height,r=this.position,s=e.position,o=e instanceof ys?e.size:{width:0,height:0},a=o.width,l=o.height;return s.x<r.x+n&&s.x+a>r.x&&s.y<r.y+i&&s.y+l>r.y}}class _v{constructor(e,n){this.rectangle=e,this.capacity=n,this._subdivide=()=>{const{x:i,y:r}=this.rectangle.position,{width:s,height:o}=this.rectangle.size,{capacity:a}=this;for(let l=0;l<BQ;l++){const c=l%ti;this._subs.push(new _v(new ys(i+s*Cn*c,r+o*Cn*(Math.round(l*Cn)-c),s*Cn,o*Cn),a))}this._divided=!0},this._points=[],this._divided=!1,this._subs=[]}insert(e){return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this._subdivide(),this._subs.some(n=>n.insert(e))):!1}query(e,n){const i=[];if(!e.intersects(this.rectangle))return[];for(const r of this._points)!e.contains(r.position)&&rr(e.position,r.position)>r.particle.getRadius()&&(!n||n(r.particle))||i.push(r.particle);if(this._divided)for(const r of this._subs)i.push(...r.query(e,n));return i}queryCircle(e,n,i){return this.query(new ni(e.x,e.y,n),i)}queryRectangle(e,n,i){return this.query(new ys(e.x,e.y,n.width,n.height),i)}}const QA=t=>{const{height:e,width:n}=t;return new ys(FA*n,FA*e,zA*n,zA*e)};class qee{constructor(e,n){this._addToPool=(...r)=>{this._pool.push(...r)},this._applyDensity=(r,s,o,a)=>{var v,m,g;const l=r.number;if(!((v=r.number.density)!=null&&v.enable)){o===void 0?this._limit=l.limit.value:(((m=a==null?void 0:a.number.limit)==null?void 0:m.value)??l.limit.value)&&this._groupLimits.set(o,((g=a==null?void 0:a.number.limit)==null?void 0:g.value)??l.limit.value);return}const c=this._initDensityFactor(l.density),u=l.value,d=l.limit.value>jA?l.limit.value:u,h=Math.min(u,d)*c+s,f=Math.min(this.count,this.filter(p=>p.group===o).length);o===void 0?this._limit=l.limit.value*c:this._groupLimits.set(o,l.limit.value*c),f<h?this.push(Math.abs(h-f),void 0,r,o):f>h&&this.removeQuantity(f-h,o)},this._initDensityFactor=r=>{const s=this._container;if(!s.canvas.element||!r.enable)return lZ;const o=s.canvas.element,a=s.retina.pixelRatio;return o.width*o.height/(r.height*r.width*a**yo)},this._pushParticle=(r,s,o,a)=>{try{let l=this._pool.pop();l||(l=new Gee(this._engine,this._container)),l.init(this._nextId,r,s,o);let c=!0;return a&&(c=a(l)),c?(this._array.push(l),this._zArray.push(l),this._nextId++,this._engine.dispatchEvent(fi.particleAdded,{container:this._container,data:{particle:l}}),l):void 0}catch(l){bc().warning(`${zr} adding particle: ${l}`)}},this._removeParticle=(r,s,o)=>{const a=this._array[r];if(!a||a.group!==s)return!1;const l=this._zArray.indexOf(a);return this._array.splice(r,yv),this._zArray.splice(l,yv),a.destroy(o),this._engine.dispatchEvent(fi.particleRemoved,{container:this._container,data:{particle:a}}),this._addToPool(a),!0},this._engine=e,this._container=n,this._nextId=0,this._array=[],this._zArray=[],this._pool=[],this._limit=0,this._groupLimits=new Map,this._needsSort=!1,this._lastZIndex=0,this._interactionManager=new Vee(e,n),this._pluginsInitialized=!1;const i=n.canvas.size;this.quadTree=new _v(QA(i),RA),this.movers=[],this.updaters=[]}get count(){return this._array.length}addManualParticles(){const e=this._container;e.actualOptions.manualParticles.forEach(i=>this.addParticle(i.position?x3(i.position,e.canvas.size):void 0,i.options))}addParticle(e,n,i,r){const s=this._container.actualOptions.particles.number.limit.mode,o=i===void 0?this._limit:this._groupLimits.get(i)??this._limit,a=this.count;if(o>jA)switch(s){case jf.delete:{const l=a+oZ-o;l>aZ&&this.removeQuantity(l);break}case jf.wait:if(a>=o)return;break}return this._pushParticle(e,n,i,r)}clear(){this._array=[],this._zArray=[],this._pluginsInitialized=!1}destroy(){this._array=[],this._zArray=[],this.movers=[],this.updaters=[]}draw(e){const n=this._container,i=n.canvas;i.clear(),this.update(e);for(const r of n.plugins.values())i.drawPlugin(r,e);for(const r of this._zArray)r.draw(e)}filter(e){return this._array.filter(e)}find(e){return this._array.find(e)}get(e){return this._array[e]}handleClickMode(e){this._interactionManager.handleClickMode(e)}async init(){var r,s;const e=this._container,n=e.actualOptions;this._lastZIndex=0,this._needsSort=!1,await this.initPlugins();let i=!1;for(const o of e.plugins.values())if(i=((r=o.particlesInitialization)==null?void 0:r.call(o))??i,i)break;if(this.addManualParticles(),!i){const o=n.particles,a=o.groups;for(const l in a){const c=a[l];for(let u=this.count,d=0;d<((s=c.number)==null?void 0:s.value)&&u<o.number.value;u++,d++)this.addParticle(void 0,c,l)}for(let l=this.count;l<o.number.value;l++)this.addParticle()}}async initPlugins(){if(this._pluginsInitialized)return;const e=this._container;this.movers=await this._engine.getMovers(e,!0),this.updaters=await this._engine.getUpdaters(e,!0),await this._interactionManager.init();for(const n of e.pathGenerators.values())n.init(e)}push(e,n,i,r){for(let s=0;s<e;s++)this.addParticle(n==null?void 0:n.position,i,r)}async redraw(){this.clear(),await this.init(),this.draw({value:0,factor:0})}remove(e,n,i){this.removeAt(this._array.indexOf(e),void 0,n,i)}removeAt(e,n=jQ,i,r){if(e<yb||e>this.count)return;let s=0;for(let o=e;s<n&&o<this.count;o++)this._removeParticle(o,i,r)&&(o--,s++)}removeQuantity(e,n){this.removeAt(yb,e,n)}setDensity(){const e=this._container.actualOptions,n=e.particles.groups,i=e.manualParticles.length;for(const r in n)this._applyDensity(n[r],i,r);this._applyDensity(e.particles,i)}setLastZIndex(e){this._lastZIndex=e,this._needsSort=this._needsSort||this._lastZIndex<e}setResizeFactor(e){this._resizeFactor=e}update(e){var s,o;const n=this._container,i=new Set;this.quadTree=new _v(QA(n.canvas.size),RA);for(const a of n.pathGenerators.values())a.update();for(const a of n.plugins.values())(s=a.update)==null||s.call(a,e);const r=this._resizeFactor;for(const a of this._array){r&&!a.ignoresResizeRatio&&(a.position.x*=r.width,a.position.y*=r.height,a.initialPosition.x*=r.width,a.initialPosition.y*=r.height),a.ignoresResizeRatio=!1,this._interactionManager.reset(a);for(const l of this._container.plugins.values()){if(a.destroyed)break;(o=l.particleUpdate)==null||o.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){i.add(a);continue}this.quadTree.insert(new $ee(a.getPosition(),a))}if(i.size){const a=l=>!i.has(l);this._array=this.filter(a),this._zArray=this._zArray.filter(a);for(const l of i)this._engine.dispatchEvent(fi.particleRemoved,{container:this._container,data:{particle:l}});this._addToPool(...i)}this._interactionManager.externalInteract(e);for(const a of this._array){for(const l of this.updaters)l.update(a,e);!a.destroyed&&!a.spawning&&this._interactionManager.particlesInteract(a,e)}if(delete this._resizeFactor,this._needsSort){const a=this._zArray;a.sort((l,c)=>c.position.z-l.position.z||l.id-c.id),this._lastZIndex=a[a.length-u3].position.z,this._needsSort=!1}}}class Xee{constructor(e){this.container=e,this.pixelRatio=kA,this.reduceFactor=DA}init(){const e=this.container,n=e.actualOptions;this.pixelRatio=!n.detectRetina||Sc()?kA:devicePixelRatio,this.reduceFactor=DA;const i=this.pixelRatio,r=e.canvas;if(r.element){const a=r.element;r.size.width=a.offsetWidth*i,r.size.height=a.offsetHeight*i}const s=n.particles,o=s.move;this.maxSpeed=je(o.gravity.maxSpeed)*i,this.sizeAnimationSpeed=je(s.size.animation.speed)*i}initParticle(e){const n=e.options,i=this.pixelRatio,r=n.move,s=r.distance,o=e.retina;o.moveDrift=je(r.drift)*i,o.moveSpeed=je(r.speed)*i,o.sizeAnimationSpeed=je(n.size.animation.speed)*i;const a=o.maxDistance;a.horizontal=s.horizontal!==void 0?s.horizontal*i:void 0,a.vertical=s.vertical!==void 0?s.vertical*i:void 0,o.maxSpeed=je(r.gravity.maxSpeed)*i}}function en(t){return t&&!t.destroyed}function Kee(t,e=o_,n=!1){return{value:t,factor:n?o_/e:o_*t/ei}}function Bc(t,e,...n){const i=new Bee(t,e);return R3(i,...n),i}class Yee{constructor(e,n,i){this._intersectionManager=r=>{if(!(!en(this)||!this.actualOptions.pauseOnOutsideViewport))for(const s of r)s.target===this.interactivity.element&&(s.isIntersecting?this.play():this.pause())},this._nextFrame=r=>{try{if(!this._smooth&&this._lastFrameTime!==void 0&&r<this._lastFrameTime+ei/this.fpsLimit){this.draw(!1);return}this._lastFrameTime??(this._lastFrameTime=r);const s=Kee(r-this._lastFrameTime,this.fpsLimit,this._smooth);if(this.addLifeTime(s.value),this._lastFrameTime=r,s.value>ei){this.draw(!1);return}if(this.particles.draw(s),!this.alive()){this.destroy();return}this.animationStatus&&this.draw(!1)}catch(s){bc().error(`${zr} in animation loop`,s)}},this._engine=e,this.id=Symbol(n),this.fpsLimit=120,this._smooth=!1,this._delay=0,this._duration=0,this._lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this._lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._clickHandlers=new Map,this._sourceOptions=i,this._initialSourceOptions=i,this.retina=new Xee(this),this.canvas=new QZ(this,this._engine),this.particles=new qee(this._engine,this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this._options=Bc(this._engine,this),this.actualOptions=Bc(this._engine,this),this._eventListeners=new ZZ(this),this._intersectionObserver=PZ(r=>this._intersectionManager(r)),this._engine.dispatchEvent(fi.containerBuilt,{container:this})}get animationStatus(){return!this._paused&&!this.pageHidden&&en(this)}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!en(this))return;const n=this.interactivity.element;if(!n)return;const i=(d,h,f)=>{if(!en(this))return;const v=this.retina.pixelRatio,m={x:h.x*v,y:h.y*v},g=this.particles.quadTree.queryCircle(m,f*v);e(d,g)},r=d=>{if(!en(this))return;const h=d,f={x:h.offsetX||h.clientX,y:h.offsetY||h.clientY};i(d,f,XQ)},s=()=>{en(this)&&(c=!0,u=!1)},o=()=>{en(this)&&(u=!0)},a=d=>{if(en(this)){if(c&&!u){const h=d;let f=h.touches[h.touches.length-NA];if(!f&&(f=h.changedTouches[h.changedTouches.length-NA],!f))return;const v=this.canvas.element,m=v?v.getBoundingClientRect():void 0,g={x:f.clientX-(m?m.left:gv),y:f.clientY-(m?m.top:gv)};i(d,g,Math.max(f.radiusX,f.radiusY))}c=!1,u=!1}},l=()=>{en(this)&&(c=!1,u=!1)};let c=!1,u=!1;this._clickHandlers.set("click",r),this._clickHandlers.set("touchstart",s),this._clickHandlers.set("touchmove",o),this._clickHandlers.set("touchend",a),this._clickHandlers.set("touchcancel",l);for(const[d,h]of this._clickHandlers)n.addEventListener(d,h)}addLifeTime(e){this._lifeTime+=e}addPath(e,n,i=!1){return!en(this)||!i&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,n),!0)}alive(){return!this._duration||this._lifeTime<=this._duration}clearClickHandlers(){var e;if(en(this)){for(const[n,i]of this._clickHandlers)(e=this.interactivity.element)==null||e.removeEventListener(n,i);this._clickHandlers.clear()}}destroy(e=!0){var n,i;if(en(this)){this.stop(),this.clearClickHandlers(),this.particles.destroy(),this.canvas.destroy();for(const r of this.effectDrawers.values())(n=r.destroy)==null||n.call(r,this);for(const r of this.shapeDrawers.values())(i=r.destroy)==null||i.call(r,this);for(const r of this.effectDrawers.keys())this.effectDrawers.delete(r);for(const r of this.shapeDrawers.keys())this.shapeDrawers.delete(r);if(this._engine.clearPlugins(this),this.destroyed=!0,e){const r=this._engine.items,s=r.findIndex(o=>o===this);s>=KQ&&r.splice(s,l3)}this._engine.dispatchEvent(fi.containerDestroyed,{container:this})}}draw(e){if(!en(this))return;let n=e;const i=r=>{n&&(this._lastFrameTime=void 0,n=!1),this._nextFrame(r)};this._drawAnimationFrame=_Z(r=>i(r))}async export(e,n={}){for(const i of this.plugins.values()){if(!i.export)continue;const r=await i.export(e,n);if(r.supported)return r.blob}bc().error(`${zr} - Export plugin with type ${e} not found`)}handleClickMode(e){var n;if(en(this)){this.particles.handleClickMode(e);for(const i of this.plugins.values())(n=i.handleClickMode)==null||n.call(i,e)}}async init(){var c,u,d,h;if(!en(this))return;const e=this._engine.getSupportedEffects();for(const f of e){const v=this._engine.getEffectDrawer(f);v&&this.effectDrawers.set(f,v)}const n=this._engine.getSupportedShapes();for(const f of n){const v=this._engine.getShapeDrawer(f);v&&this.shapeDrawers.set(f,v)}await this.particles.initPlugins(),this._options=Bc(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Bc(this._engine,this,this._options);const i=await this._engine.getAvailablePlugins(this);for(const[f,v]of i)this.plugins.set(f,v);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize();const{zLayers:r,duration:s,delay:o,fpsLimit:a,smooth:l}=this.actualOptions;this.zLayers=r,this._duration=je(s)*ei,this._delay=je(o)*ei,this._lifeTime=0,this.fpsLimit=a>JQ?a:YQ,this._smooth=l;for(const f of this.effectDrawers.values())await((c=f.init)==null?void 0:c.call(f,this));for(const f of this.shapeDrawers.values())await((u=f.init)==null?void 0:u.call(f,this));for(const f of this.plugins.values())await((d=f.init)==null?void 0:d.call(f));this._engine.dispatchEvent(fi.containerInit,{container:this}),await this.particles.init(),this.particles.setDensity();for(const f of this.plugins.values())(h=f.particlesSetup)==null||h.call(f);this._engine.dispatchEvent(fi.particlesSetup,{container:this})}async loadTheme(e){en(this)&&(this._currentTheme=e,await this.refresh())}pause(){var e;if(en(this)&&(this._drawAnimationFrame!==void 0&&(xZ(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const n of this.plugins.values())(e=n.pause)==null||e.call(n);this.pageHidden||(this._paused=!0),this._engine.dispatchEvent(fi.containerPaused,{container:this})}}play(e){if(!en(this))return;const n=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),n)for(const i of this.plugins.values())i.play&&i.play();this._engine.dispatchEvent(fi.containerPlay,{container:this}),this.draw(n??!1)}async refresh(){if(en(this))return this.stop(),this.start()}async reset(e){if(en(this))return this._initialSourceOptions=e,this._sourceOptions=e,this._options=Bc(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=Bc(this._engine,this,this._options),this.refresh()}async start(){!en(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{const n=async()=>{var i;this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const r of this.plugins.values())await((i=r.start)==null?void 0:i.call(r));this._engine.dispatchEvent(fi.containerStarted,{container:this}),this.play(),e()};this._delayTimeout=setTimeout(()=>void n(),this._delay)}))}stop(){var e;if(!(!en(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const n of this.plugins.values())(e=n.stop)==null||e.call(n);for(const n of this.plugins.keys())this.plugins.delete(n);this._sourceOptions=this._options,this._engine.dispatchEvent(fi.containerStopped,{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this._responsiveMaxWidth===e?!1:(this._responsiveMaxWidth=e,!0)}}let Jee=class{constructor(){this._listeners=new Map}addEventListener(e,n){this.removeEventListener(e,n);let i=this._listeners.get(e);i||(i=[],this._listeners.set(e,i)),i.push(n)}dispatchEvent(e,n){const i=this._listeners.get(e);i==null||i.forEach(r=>r(n))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,n){const i=this._listeners.get(e);if(!i)return;const r=i.length,s=i.indexOf(n);s<yb||(r===yv?this._listeners.delete(e):i.splice(s,yv))}};async function m_(t,e,n,i=!1){let r=e.get(t);return(!r||i)&&(r=await Promise.all([...n.values()].map(s=>s(t))),e.set(t,r)),r}async function Qee(t){const e=Rr(t.url,t.index);if(!e)return t.fallback;const n=await fetch(e);return n.ok?await n.json():(bc().error(`${zr} ${n.status} while retrieving config file`),t.fallback)}const Zee=t=>{let e;if(t instanceof HTMLCanvasElement||t.tagName.toLowerCase()===a_)e=t,e.dataset[Wl]||(e.dataset[Wl]=PA);else{const i=t.getElementsByTagName(a_);i.length?(e=i[QQ],e.dataset[Wl]=PA):(e=document.createElement(a_),e.dataset[Wl]=o3,t.appendChild(e))}const n="100%";return e.style.width||(e.style.width=n),e.style.height||(e.style.height=n),e},ete=(t,e)=>{let n=e??document.getElementById(t);return n||(n=document.createElement("div"),n.id=t,n.dataset[Wl]=o3,document.body.append(n),n)};class tte{constructor(){this._configs=new Map,this._domArray=[],this._eventDispatcher=new Jee,this._initialized=!1,this.plugins=[],this.colorManagers=new Map,this.easingFunctions=new Map,this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.effectDrawers=new Map,this.shapeDrawers=new Map,this.pathGenerators=new Map}get configs(){const e={};for(const[n,i]of this._configs)e[n]=i;return e}get items(){return this._domArray}get version(){return"3.9.1"}async addColorManager(e,n=!0){this.colorManagers.set(e.key,e),await this.refresh(n)}addConfig(e){const n=e.key??e.name??"default";this._configs.set(n,e),this._eventDispatcher.dispatchEvent(fi.configAdded,{data:{name:n,config:e}})}async addEasing(e,n,i=!0){this.getEasing(e)||(this.easingFunctions.set(e,n),await this.refresh(i))}async addEffect(e,n,i=!0){fr(e,r=>{this.getEffectDrawer(r)||this.effectDrawers.set(r,n)}),await this.refresh(i)}addEventListener(e,n){this._eventDispatcher.addEventListener(e,n)}async addInteractor(e,n,i=!0){this._initializers.interactors.set(e,n),await this.refresh(i)}async addMover(e,n,i=!0){this._initializers.movers.set(e,n),await this.refresh(i)}async addParticleUpdater(e,n,i=!0){this._initializers.updaters.set(e,n),await this.refresh(i)}async addPathGenerator(e,n,i=!0){this.getPathGenerator(e)||this.pathGenerators.set(e,n),await this.refresh(i)}async addPlugin(e,n=!0){this.getPlugin(e.id)||this.plugins.push(e),await this.refresh(n)}async addPreset(e,n,i=!1,r=!0){(i||!this.getPreset(e))&&this.presets.set(e,n),await this.refresh(r)}async addShape(e,n=!0){for(const i of e.validTypes)this.getShapeDrawer(i)||this.shapeDrawers.set(i,e);await this.refresh(n)}checkVersion(e){if(this.version!==e)throw new Error(`The tsParticles version is different from the loaded plugins version. Engine version: ${this.version}. Plugin version: ${e}`)}clearPlugins(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}dispatchEvent(e,n){this._eventDispatcher.dispatchEvent(e,n)}dom(){return this.items}domItem(e){return this.item(e)}async getAvailablePlugins(e){const n=new Map;for(const i of this.plugins)i.needsPlugin(e.actualOptions)&&n.set(i.id,await i.getPlugin(e));return n}getEasing(e){return this.easingFunctions.get(e)??(n=>n)}getEffectDrawer(e){return this.effectDrawers.get(e)}async getInteractors(e,n=!1){return m_(e,this.interactors,this._initializers.interactors,n)}async getMovers(e,n=!1){return m_(e,this.movers,this._initializers.movers,n)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(n=>n.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.shapeDrawers.get(e)}getSupportedEffects(){return this.effectDrawers.keys()}getSupportedShapes(){return this.shapeDrawers.keys()}async getUpdaters(e,n=!1){return m_(e,this.updaters,this._initializers.updaters,n)}init(){this._initialized||(this._initialized=!0)}item(e){const{items:n}=this,i=n[e];if(!i||i.destroyed){n.splice(e,l3);return}return i}async load(e){var h;const n=e.id??((h=e.element)==null?void 0:h.id)??`tsparticles${Math.floor(Tt()*ZQ)}`,{index:i,url:r}=e,s=r?await Qee({fallback:e.options,url:r,index:i}):e.options,o=Rr(s,i),{items:a}=this,l=a.findIndex(f=>f.id.description===n),c=new Yee(this,n,o);if(l>=eZ){const f=this.item(l),v=f?tZ:vv;f&&!f.destroyed&&f.destroy(!1),a.splice(l,v,c)}else a.push(c);const u=ete(n,e.element),d=Zee(u);return c.canvas.loadCanvas(d),await c.start(),c}loadOptions(e,n){this.plugins.forEach(i=>{var r;return(r=i.loadOptions)==null?void 0:r.call(i,e,n)})}loadParticlesOptions(e,n,...i){const r=this.updaters.get(e);r&&r.forEach(s=>{var o;return(o=s.loadOptions)==null?void 0:o.call(s,n,...i)})}async refresh(e=!0){e&&await Promise.all(this.items.map(n=>n.refresh()))}removeEventListener(e,n){this._eventDispatcher.removeEventListener(e,n)}setOnClickHandler(e){const{items:n}=this;if(!n.length)throw new Error(`${zr} can only set click handlers after calling tsParticles.load()`);n.forEach(i=>i.addClickHandler(e))}}function nte(){const t=new tte;return t.init(),t}class Js{constructor(e){this.type=Td.external,this.container=e}}class F1{constructor(e){this.type=Td.particles,this.container=e}}var rs;(function(t){t.clockwise="clockwise",t.counterClockwise="counter-clockwise",t.random="random"})(rs||(rs={}));var ZA;(function(t){t.linear="linear",t.radial="radial",t.random="random"})(ZA||(ZA={}));var lc;(function(t){t.easeInBack="ease-in-back",t.easeInCirc="ease-in-circ",t.easeInCubic="ease-in-cubic",t.easeInLinear="ease-in-linear",t.easeInQuad="ease-in-quad",t.easeInQuart="ease-in-quart",t.easeInQuint="ease-in-quint",t.easeInExpo="ease-in-expo",t.easeInSine="ease-in-sine",t.easeOutBack="ease-out-back",t.easeOutCirc="ease-out-circ",t.easeOutCubic="ease-out-cubic",t.easeOutLinear="ease-out-linear",t.easeOutQuad="ease-out-quad",t.easeOutQuart="ease-out-quart",t.easeOutQuint="ease-out-quint",t.easeOutExpo="ease-out-expo",t.easeOutSine="ease-out-sine",t.easeInOutBack="ease-in-out-back",t.easeInOutCirc="ease-in-out-circ",t.easeInOutCubic="ease-in-out-cubic",t.easeInOutLinear="ease-in-out-linear",t.easeInOutQuad="ease-in-out-quad",t.easeInOutQuart="ease-in-out-quart",t.easeInOutQuint="ease-in-out-quint",t.easeInOutExpo="ease-in-out-expo",t.easeInOutSine="ease-in-out-sine"})(lc||(lc={}));const z1=nte();Sc()||(window.tsParticles=z1);const ite=t=>{const e=t.id??"tsparticles";return M.useEffect(()=>{let n;return z1.load({id:e,url:t.url,options:t.options}).then(i=>{var r;n=i,(r=t.particlesLoaded)==null||r.call(t,i)}),()=>{n==null||n.destroy()}},[e,t,t.url,t.options]),x.jsx("div",{id:e,className:t.className})};async function rte(t){await t(z1)}const Sb=.5,ste=2,Ea=0,os=1,eR=60,tR=0,ote=.01,ate=Math.PI*ste;function lte(t){const e=t.initialPosition,{dx:n,dy:i}=_i(e,t.position),r=Math.abs(n),s=Math.abs(i),{maxDistance:o}=t.retina,a=o.horizontal,l=o.vertical;if(!a&&!l)return;const c=(a&&r>=a)??!1,u=(l&&s>=l)??!1;if((c||u)&&!t.misplaced)t.misplaced=!!a&&r>a||!!l&&s>l,a&&(t.velocity.x=t.velocity.y*Sb-t.velocity.x),l&&(t.velocity.y=t.velocity.x*Sb-t.velocity.y);else if((!a||r<a)&&(!l||s<l)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const d=t.position,h=t.velocity;a&&(d.x<e.x&&h.x<Ea||d.x>e.x&&h.x>Ea)&&(h.x*=-Tt()),l&&(d.y<e.y&&h.y<Ea||d.y>e.y&&h.y>Ea)&&(h.y*=-Tt())}}function cte(t,e,n,i,r,s,o){dte(t,o);const a=t.gravity,l=a!=null&&a.enable&&a.inverse?-os:os;r&&n&&(t.velocity.x+=r*o.factor/(eR*n)),a!=null&&a.enable&&n&&(t.velocity.y+=l*(a.acceleration*o.factor)/(eR*n));const c=t.moveDecay;t.velocity.multTo(c);const u=t.velocity.mult(n);a!=null&&a.enable&&i>Ea&&(!a.inverse&&u.y>=Ea&&u.y>=i||a.inverse&&u.y<=Ea&&u.y<=-i)&&(u.y=l*i,n&&(t.velocity.y=u.y/n));const d=t.options.zIndex,h=(os-t.zIndexFactor)**d.velocityRate;u.multTo(h),u.multTo(s);const{position:f}=t;f.addTo(u),e.vibrate&&(f.x+=Math.sin(f.x*Math.cos(f.y))*s,f.y+=Math.cos(f.y*Math.sin(f.x))*s)}function ute(t,e,n){const i=t.container;if(!t.spin)return;const r=t.spin.direction===rs.clockwise,s={x:r?Math.cos:Math.sin,y:r?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*s.x(t.spin.angle)*n,t.position.y=t.spin.center.y+t.spin.radius*s.y(t.spin.angle)*n,t.spin.radius+=t.spin.acceleration*n;const o=Math.max(i.canvas.size.width,i.canvas.size.height),a=o*Sb;t.spin.radius>a?(t.spin.radius=a,t.spin.acceleration*=-os):t.spin.radius<tR&&(t.spin.radius=tR,t.spin.acceleration*=-os),t.spin.angle+=e*ote*(os-t.spin.radius/o)}function dte(t,e){var o;const n=t.options,i=n.move.path;if(!i.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const s=(o=t.pathGenerator)==null?void 0:o.generate(t,e);s&&t.velocity.addTo(s),i.clamp&&(t.velocity.x=jr(t.velocity.x,-os,os),t.velocity.y=jr(t.velocity.y,-os,os)),t.lastPathTime-=t.pathDelay}function hte(t){return t.slow.inRange?t.slow.factor:os}function fte(t){const e=t.container,n=t.options,i=n.move.spin;if(!i.enable)return;const r=i.position??{x:50,y:50},s=.01,o={x:r.x*s*e.canvas.size.width,y:r.y*s*e.canvas.size.height},a=t.getPosition(),l=rr(a,o),c=je(i.acceleration);t.retina.spinAcceleration=c*e.retina.pixelRatio,t.spin={center:o,direction:t.velocity.x>=Ea?rs.clockwise:rs.counterClockwise,angle:Tt()*ate,radius:l,acceleration:t.retina.spinAcceleration}}const pte=2,mte=1,gte=1;class vte{init(e){const n=e.options,i=n.move.gravity;e.gravity={enable:i.enable,acceleration:je(i.acceleration),inverse:i.inverse},fte(e)}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,n){var g,p;const i=e.options,r=i.move;if(!r.enable)return;const s=e.container,o=s.retina.pixelRatio;(g=e.retina).moveSpeed??(g.moveSpeed=je(r.speed)*o),(p=e.retina).moveDrift??(p.moveDrift=je(e.options.move.drift)*o);const a=hte(e),l=s.retina.reduceFactor,c=e.retina.moveSpeed,u=e.retina.moveDrift,d=Is(i.size.value)*o,h=r.size?e.getRadius()/d:mte,f=n.factor||gte,v=c*h*a*f/pte,m=e.retina.maxSpeed??s.retina.maxSpeed;r.spin.enable?ute(e,v,l):cte(e,r,v,m,u,l,n),lte(e)}}async function yte(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("base",()=>Promise.resolve(new vte),e)}const _te=2,xte=Math.PI*_te,wte=0,nR={x:0,y:0};function bte(t){const{context:e,particle:n,radius:i}=t;n.circleRange||(n.circleRange={min:wte,max:xte});const r=n.circleRange;e.arc(nR.x,nR.y,i,r.min,r.max,!1)}const Ste=12,Ete=360,iR=0;class Tte{constructor(){this.validTypes=["circle"]}draw(e){bte(e)}getSidesCount(){return Ste}particleInit(e,n){const i=n.shapeData,r=(i==null?void 0:i.angle)??{max:Ete,min:iR};n.circleRange=Mu(r)?{min:za(r.min),max:za(r.max)}:{min:iR,max:za(r)}}}async function Mte(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Tte,e)}class Cte{constructor(e,n){this._container=e,this._engine=n}init(e){const n=Uf(this._engine,e.options.color,e.id,e.options.reduceDuplicates);n&&(e.color=T3(n,e.options.color.animation,this._container.retina.reduceFactor))}isEnabled(e){const{h:n,s:i,l:r}=e.options.color.animation,{color:s}=e;return!e.destroyed&&!e.spawning&&((s==null?void 0:s.h.value)!==void 0&&n.enable||(s==null?void 0:s.s.value)!==void 0&&i.enable||(s==null?void 0:s.l.value)!==void 0&&r.enable)}update(e,n){M3(e.color,n)}}async function Pte(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("color",n=>Promise.resolve(new Cte(n,t)),e)}var Nl;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=4]="a"})(Nl||(Nl={}));const Ate=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,Rte=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,fm=16,kte=1,Dte=255;class Ite{constructor(){this.key="hex",this.stringPrefix="#"}handleColor(e){return this._parseString(e.value)}handleRangeColor(e){return this._parseString(e.value)}parseString(e){return this._parseString(e)}_parseString(e){if(typeof e!="string"||!(e!=null&&e.startsWith(this.stringPrefix)))return;const n=e.replace(Ate,(r,s,o,a,l)=>s+s+o+o+a+a+(l!==void 0?l+l:"")),i=Rte.exec(n);return i?{a:i[Nl.a]!==void 0?parseInt(i[Nl.a],fm)/Dte:kte,b:parseInt(i[Nl.b],fm),g:parseInt(i[Nl.g],fm),r:parseInt(i[Nl.r],fm)}:void 0}}async function Lte(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Ite,e)}var Cu;(function(t){t[t.h=1]="h",t[t.s=2]="s",t[t.l=3]="l",t[t.a=5]="a"})(Cu||(Cu={}));class Ote{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.s!==void 0&&i.l!==void 0)return Sd(i)}handleRangeColor(e){const n=e.value,i=n.hsl??e.value;if(i.h!==void 0&&i.l!==void 0)return Sd({h:je(i.h),l:je(i.l),s:je(i.s)})}parseString(e){if(!e.startsWith("hsl"))return;const n=/hsla?\(\s*(\d+)\s*[\s,]\s*(\d+)%\s*[\s,]\s*(\d+)%\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=4,s=1,o=10;return i?BZ({a:i.length>r?p3(i[Cu.a]):s,h:parseInt(i[Cu.h],o),l:parseInt(i[Cu.l],o),s:parseInt(i[Cu.s],o)}):void 0}}async function Nte(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Ote,e)}class Ute{constructor(e){this.container=e}init(e){const n=e.options.opacity,i=1;e.opacity=_3(n,i);const r=n.animation;r.enable&&(e.opacity.velocity=je(r.speed)/Sa*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Tt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&((e.opacity.maxLoops??0)<=0||(e.opacity.maxLoops??0)>0&&(e.opacity.loops??0)<(e.opacity.maxLoops??0))}reset(e){e.opacity&&(e.opacity.time=0,e.opacity.loops=0)}update(e,n){!this.isEnabled(e)||!e.opacity||L1(e,e.opacity,!0,e.options.opacity.animation.destroy,n)}}async function Fte(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("opacity",n=>Promise.resolve(new Ute(n)),e)}const xv=0,Gu=0;function zte(t){if(t.outMode!==_n.bounce&&t.outMode!==_n.split||t.direction!==ut.left&&t.direction!==ut.right)return;t.bounds.right<Gu&&t.direction===ut.left?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&t.direction===ut.right&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let n=!1;if(t.direction===ut.right&&t.bounds.right>=t.canvasSize.width&&e>xv||t.direction===ut.left&&t.bounds.left<=Gu&&e<xv){const r=je(t.particle.options.bounce.horizontal.value);t.particle.velocity.x*=-r,n=!0}if(!n)return;const i=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width&&t.direction===ut.right?t.particle.position.x=t.canvasSize.width-i:t.bounds.left<=Gu&&t.direction===ut.left&&(t.particle.position.x=i),t.outMode===_n.split&&t.particle.destroy()}function jte(t){if(t.outMode!==_n.bounce&&t.outMode!==_n.split||t.direction!==ut.bottom&&t.direction!==ut.top)return;t.bounds.bottom<Gu&&t.direction===ut.top?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&t.direction===ut.bottom&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let n=!1;if(t.direction===ut.bottom&&t.bounds.bottom>=t.canvasSize.height&&e>xv||t.direction===ut.top&&t.bounds.top<=Gu&&e<xv){const r=je(t.particle.options.bounce.vertical.value);t.particle.velocity.y*=-r,n=!0}if(!n)return;const i=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height&&t.direction===ut.bottom?t.particle.position.y=t.canvasSize.height-i:t.bounds.top<=Gu&&t.direction===ut.top&&(t.particle.position.y=i),t.outMode===_n.split&&t.particle.destroy()}class Bte{constructor(e){this.container=e,this.modes=[_n.bounce,_n.split]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;let o=!1;for(const h of s.plugins.values())if(h.particleBounce!==void 0&&(o=h.particleBounce(e,i,n)),o)break;if(o)return;const a=e.getPosition(),l=e.offset,c=e.getRadius(),u=yp(a,c),d=s.canvas.size;zte({particle:e,outMode:r,direction:n,bounds:u,canvasSize:d,offset:l,size:c}),jte({particle:e,outMode:r,direction:n,bounds:u,canvasSize:d,offset:l,size:c})}}const pm=0;class Vte{constructor(e){this.container=e,this.modes=[_n.destroy]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case hs.normal:case hs.outside:if(k1(e.position,s.canvas.size,On.origin,e.getRadius(),n))return;break;case hs.inside:{const{dx:o,dy:a}=_i(e.position,e.moveCenter),{x:l,y:c}=e.velocity;if(l<pm&&o>e.moveCenter.radius||c<pm&&a>e.moveCenter.radius||l>=pm&&o<-e.moveCenter.radius||c>=pm&&a<-e.moveCenter.radius)return;break}}s.particles.remove(e,e.group,!0)}}const mm=0;class Hte{constructor(e){this.container=e,this.modes=[_n.none]}update(e,n,i,r){if(!this.modes.includes(r)||((e.options.move.distance.horizontal&&(n===ut.left||n===ut.right))??(e.options.move.distance.vertical&&(n===ut.top||n===ut.bottom))))return;const s=e.options.move.gravity,o=this.container,a=o.canvas.size,l=e.getRadius();if(s.enable){const c=e.position;(!s.inverse&&c.y>a.height+l&&n===ut.bottom||s.inverse&&c.y<-l&&n===ut.top)&&o.particles.remove(e)}else{if(e.velocity.y>mm&&e.position.y<=a.height+l||e.velocity.y<mm&&e.position.y>=-l||e.velocity.x>mm&&e.position.x<=a.width+l||e.velocity.x<mm&&e.position.x>=-l)return;k1(e.position,o.canvas.size,On.origin,l,n)||o.particles.remove(e)}}}const gm=0,vm=0;class Wte{constructor(e){this.container=e,this.modes=[_n.out]}update(e,n,i,r){if(!this.modes.includes(r))return;const s=this.container;switch(e.outType){case hs.inside:{const{x:o,y:a}=e.velocity,l=On.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(On.create(e.moveCenter));const{dx:c,dy:u}=_i(e.position,l);if(o<=gm&&c>=vm||a<=gm&&u>=vm||o>=gm&&c<=vm||a>=gm&&u<=vm)return;e.position.x=Math.floor(er({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(er({min:0,max:s.canvas.size.height}));const{dx:d,dy:h}=_i(e.position,e.moveCenter);e.direction=Math.atan2(-h,-d),e.velocity.angle=e.direction;break}default:{if(k1(e.position,s.canvas.size,On.origin,e.getRadius(),n))return;switch(e.outType){case hs.outside:{e.position.x=Math.floor(er({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(er({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:o,dy:a}=_i(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(a,o),e.velocity.angle=e.direction);break}case hs.normal:{const o=e.options.move.warp,a=s.canvas.size,l={bottom:a.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:a.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},c=e.getRadius(),u=yp(e.position,c);n===ut.right&&u.left>a.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,o||(e.position.y=Tt()*a.height,e.initialPosition.y=e.position.y)):n===ut.left&&u.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,o||(e.position.y=Tt()*a.height,e.initialPosition.y=e.position.y)),n===ut.bottom&&u.top>a.height+e.offset.y?(o||(e.position.x=Tt()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):n===ut.top&&u.bottom<-e.offset.y&&(o||(e.position.x=Tt()*a.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}const Gte=(t,e)=>t.default===e||t.bottom===e||t.left===e||t.right===e||t.top===e;class $te{constructor(e){this._addUpdaterIfMissing=(n,i,r)=>{const s=n.options.move.outModes;!this.updaters.has(i)&&Gte(s,i)&&this.updaters.set(i,r(this.container))},this._updateOutMode=(n,i,r,s)=>{for(const o of this.updaters.values())o.update(n,s,i,r)},this.container=e,this.updaters=new Map}init(e){this._addUpdaterIfMissing(e,_n.bounce,n=>new Bte(n)),this._addUpdaterIfMissing(e,_n.out,n=>new Wte(n)),this._addUpdaterIfMissing(e,_n.destroy,n=>new Vte(n)),this._addUpdaterIfMissing(e,_n.none,n=>new Hte(n))}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,n){const i=e.options.move.outModes;this._updateOutMode(e,n,i.bottom??i.default,ut.bottom),this._updateOutMode(e,n,i.left??i.default,ut.left),this._updateOutMode(e,n,i.right??i.default,ut.right),this._updateOutMode(e,n,i.top??i.default,ut.top)}}async function qte(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("outModes",n=>Promise.resolve(new $te(n)),e)}var Pu;(function(t){t[t.r=1]="r",t[t.g=2]="g",t[t.b=3]="b",t[t.a=5]="a"})(Pu||(Pu={}));class Xte{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return i}handleRangeColor(e){const n=e.value,i=n.rgb??e.value;if(i.r!==void 0)return{r:je(i.r),g:je(i.g),b:je(i.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const n=/rgba?\(\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*[\s,]\s*(\d{1,3})\s*([\s,]\s*(0|1|0?\.\d+|(\d{1,3})%)\s*)?\)/i,i=n.exec(e),r=10;return i?{a:i.length>4?p3(i[Pu.a]):1,b:parseInt(i[Pu.b],r),g:parseInt(i[Pu.g],r),r:parseInt(i[Pu.r],r)}:void 0}}async function Kte(t,e=!0){t.checkVersion("3.9.1"),await t.addColorManager(new Xte,e)}const pl=0;class Yte{init(e){const n=e.container,i=e.options.size,r=i.animation;r.enable&&(e.size.velocity=(e.retina.sizeAnimationSpeed??n.retina.sizeAnimationSpeed)/Sa*n.retina.reduceFactor,r.sync||(e.size.velocity*=Tt()))}isEnabled(e){return!e.destroyed&&!e.spawning&&e.size.enable&&((e.size.maxLoops??pl)<=pl||(e.size.maxLoops??pl)>pl&&(e.size.loops??pl)<(e.size.maxLoops??pl))}reset(e){e.size.loops=pl}update(e,n){this.isEnabled(e)&&L1(e,e.size,!0,e.options.size.animation.destroy,n)}}async function Jte(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("size",()=>Promise.resolve(new Yte),e)}async function Qte(t,e=!0){t.checkVersion("3.9.1"),await Lte(t,!1),await Nte(t,!1),await Kte(t,!1),await yte(t,!1),await Mte(t,!1),await Pte(t,!1),await Fte(t,!1),await qte(t,!1),await Jte(t,!1),await t.refresh(e)}async function Zte(t,e=!0){t.checkVersion("3.9.1"),await t.addEasing(lc.easeInQuad,n=>n**2,!1),await t.addEasing(lc.easeOutQuad,n=>1-(1-n)**2,!1),await t.addEasing(lc.easeInOutQuad,n=>n<.5?2*n**2:1-(-2*n+2)**2/2,!1),await t.refresh(e)}function ene(t,e){const{context:n,opacity:i}=t,r=.5,s=n.globalAlpha;if(!e)return;const o=e.width,a=o*r;n.globalAlpha=i,n.drawImage(e,-a,-a,o,o),n.globalAlpha=s}const g_='"Twemoji Mozilla", Apple Color Emoji, "Segoe UI Emoji", "Noto Color Emoji", "EmojiOne Color"',rR=0;class tne{constructor(){this.validTypes=["emoji"],this._emojiShapeDict=new Map}destroy(){for(const[e,n]of this._emojiShapeDict)n instanceof ImageBitmap&&(n==null||n.close()),this._emojiShapeDict.delete(e)}draw(e){const n=e.particle.emojiDataKey;if(!n)return;const i=this._emojiShapeDict.get(n);i&&ene(e,i)}async init(e){const n=e.actualOptions,{validTypes:i}=this;if(!i.find(o=>hn(o,n.particles.shape.type)))return;const r=[GA(g_)],s=i.map(o=>n.particles.shape.options[o]).find(o=>!!o);s&&fr(s,o=>{o.font&&r.push(GA(o.font))}),await Promise.all(r)}particleDestroy(e){e.emojiDataKey=void 0}particleInit(e,n){const r=n.shapeData;if(!(r!=null&&r.value))return;const s=Rr(r.value,n.randomIndexData);if(!s)return;const o=typeof s=="string"?{font:r.font??g_,padding:r.padding??rR,value:s}:{font:g_,padding:rR,...r,...s},a=o.font,l=o.value,c=`${l}_${a}`;if(this._emojiShapeDict.has(c)){n.emojiDataKey=c;return}const u=o.padding*2,d=Is(n.size.value),h=d+u,f=h*2;let v;if(typeof OffscreenCanvas<"u"){const m=new OffscreenCanvas(f,f),g=m.getContext("2d");if(!g)return;g.font=`400 ${d*2}px ${a}`,g.textBaseline="middle",g.textAlign="center",g.fillText(l,h,h),v=m.transferToImageBitmap()}else{const m=document.createElement("canvas");m.width=f,m.height=f;const g=m.getContext("2d");if(!g)return;g.font=`400 ${d*2}px ${a}`,g.textBaseline="middle",g.textAlign="center",g.fillText(l,h,h),v=m}this._emojiShapeDict.set(c,v),n.emojiDataKey=c}}async function nne(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new tne,e)}const ine=1,rne=1,I3=0;function L3(t,e,n,i,r,s){const o=e.actualOptions.interactivity.modes.attract;if(!o)return;const a=e.particles.quadTree.query(r,s);for(const l of a){const{dx:c,dy:u,distance:d}=_i(l.position,n),h=o.speed*o.factor,f=jr(t.getEasing(o.easing)(rne-d/i)*h,ine,o.maxSpeed),v=On.create(d?c/d*f:h,d?u/d*f:h);l.position.subFrom(v)}}function sne(t,e,n){e.attract||(e.attract={particles:[]});const{attract:i}=e;if(i.finish||(i.count||(i.count=0),i.count++,i.count===e.particles.count&&(i.finish=!0)),i.clicking){const r=e.interactivity.mouse.clickPosition,s=e.retina.attractModeDistance;if(!s||s<I3||!r)return;L3(t,e,r,s,new ni(r.x,r.y,s),o=>n(o))}else i.clicking===!1&&(i.particles=[])}function one(t,e,n){const i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<I3||!i||L3(t,e,i,r,new ni(i.x,i.y,r),s=>n(s))}class ane{constructor(){this.distance=200,this.duration=.4,this.easing=lc.easeOutQuad,this.factor=1,this.maxSpeed=50,this.speed=1}load(e){_e(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}const ph="attract";let lne=class extends Js{constructor(e,n){super(n),this._engine=e,n.attract||(n.attract={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.attract;if(!(!s||i!==ph)){n.attract||(n.attract={particles:[]}),n.attract.clicking=!0,n.attract.count=0;for(const o of n.attract.particles)this.isEnabled(o)&&o.velocity.setTo(o.initialVelocity);n.attract.particles=[],n.attract.finish=!1,setTimeout(()=>{n.destroyed||(n.attract||(n.attract={particles:[]}),n.attract.clicking=!1)},s.duration*ei)}}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.attract;n&&(e.retina.attractModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===xc,r=n.interactivity.events,{enable:s,mode:o}=r.onHover,{enable:a,mode:l}=r.onClick;i&&s&&hn(ph,o)?one(this._engine,this.container,c=>this.isEnabled(c)):a&&hn(ph,l)&&sne(this._engine,this.container,c=>this.isEnabled(c))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events;if((!r.position||!s.onHover.enable)&&(!r.clickPosition||!s.onClick.enable))return!1;const o=s.onHover.mode,a=s.onClick.mode;return hn(ph,o)||hn(ph,a)}loadModeOptions(e,...n){e.attract||(e.attract=new ane);for(const i of n)e.attract.load(i==null?void 0:i.attract)}reset(){}};async function cne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalAttract",n=>Promise.resolve(new lne(t,n)),e)}const une=2,pg=.5,dne=Math.PI*pg,sR=2,O3=10,hne=0;function N3(t,e,n,i,r){const s=t.particles.quadTree.query(i,r);for(const o of s)i instanceof ni?v3(xb(o),{position:e,radius:n,mass:n**une*dne,velocity:On.origin,factor:On.origin}):i instanceof ys&&IZ(o,yp(e,n))}function fne(t,e,n,i){const r=document.querySelectorAll(e);r.length&&r.forEach(s=>{const o=s,a=t.retina.pixelRatio,l={x:(o.offsetLeft+o.offsetWidth*pg)*a,y:(o.offsetTop+o.offsetHeight*pg)*a},c=o.offsetWidth*pg*a,u=O3*a,d=n.type===Ed.circle?new ni(l.x,l.y,c+u):new ys(o.offsetLeft*a-u,o.offsetTop*a-u,o.offsetWidth*a+u*sR,o.offsetHeight*a+u*sR);i(l,c,d)})}function pne(t,e,n,i){I1(n,e,(r,s)=>fne(t,r,s,(o,a,l)=>N3(t,o,a,l,i)))}function mne(t,e){const n=t.retina.pixelRatio,i=O3*n,r=t.interactivity.mouse.position,s=t.retina.bounceModeDistance;!s||s<hne||!r||N3(t,r,s,new ni(r.x,r.y,s+i),e)}class gne{constructor(){this.distance=200}load(e){_e(e)||e.distance!==void 0&&(this.distance=e.distance)}}const ym="bounce";class vne extends Js{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bounce;n&&(e.retina.bounceModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=n.interactivity.events,r=e.interactivity.status===xc,s=i.onHover.enable,o=i.onHover.mode,a=i.onDiv;r&&s&&hn(ym,o)?mne(this.container,l=>this.isEnabled(l)):pne(this.container,a,ym,l=>this.isEnabled(l))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv;return!!r.position&&s.onHover.enable&&hn(ym,s.onHover.mode)||D1(ym,o)}loadModeOptions(e,...n){e.bounce||(e.bounce=new gne);for(const i of n)e.bounce.load(i==null?void 0:i.bounce)}reset(){}}async function yne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBounce",n=>Promise.resolve(new vne(n)),e)}class U3{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!_e(e)){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const n=Ys(this.color)?void 0:this.color;this.color=fr(e.color,i=>oi.create(n,i))}e.size!==void 0&&(this.size=e.size)}}}class _ne extends U3{constructor(){super(),this.selectors=[]}load(e){super.load(e),!_e(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class xne extends U3{load(e){super.load(e),!_e(e)&&(this.divs=fr(e.divs,n=>{const i=new _ne;return i.load(n),i}))}}var Es;(function(t){t.color="color",t.opacity="opacity",t.size="size"})(Es||(Es={}));function oR(t,e,n,i){if(e>=n){const r=t+(e-n)*i;return jr(r,t,e)}else if(e<n){const r=t-(n-e)*i;return jr(r,e,t)}}const ml="bubble",v_=0,wne=0,bne=2,aR=1,lR=1,Sne=0,Ene=0,y_=.5,__=1;class Tne extends Js{constructor(e,n){super(e),this._clickBubble=()=>{var u;const i=this.container,r=i.actualOptions,s=i.interactivity.mouse.clickPosition,o=r.interactivity.modes.bubble;if(!o||!s)return;i.bubble||(i.bubble={});const a=i.retina.bubbleModeDistance;if(!a||a<v_)return;const l=i.particles.quadTree.queryCircle(s,a,d=>this.isEnabled(d)),{bubble:c}=i;for(const d of l){if(!c.clicking)continue;d.bubble.inRange=!c.durationEnd;const h=d.getPosition(),f=rr(h,s),v=(new Date().getTime()-(i.interactivity.mouse.clickTime??wne))/ei;v>o.duration&&(c.durationEnd=!0),v>o.duration*bne&&(c.clicking=!1,c.durationEnd=!1);const m={bubbleObj:{optValue:i.retina.bubbleModeSize,value:d.bubble.radius},particlesObj:{optValue:Is(d.options.size.value)*i.retina.pixelRatio,value:d.size.value},type:Es.size};this._process(d,f,v,m);const g={bubbleObj:{optValue:o.opacity,value:d.bubble.opacity},particlesObj:{optValue:Is(d.options.opacity.value),value:((u=d.opacity)==null?void 0:u.value)??aR},type:Es.opacity};this._process(d,f,v,g),!c.durationEnd&&f<=a?this._hoverBubbleColor(d,f):delete d.bubble.color}},this._hoverBubble=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.bubbleModeDistance;if(!s||s<v_||!r)return;const o=i.particles.quadTree.queryCircle(r,s,a=>this.isEnabled(a));for(const a of o){a.bubble.inRange=!0;const l=a.getPosition(),c=rr(l,r),u=lR-c/s;c<=s?u>=Ene&&i.interactivity.status===xc&&(this._hoverBubbleSize(a,u),this._hoverBubbleOpacity(a,u),this._hoverBubbleColor(a,u)):this.reset(a),i.interactivity.status===pb&&this.reset(a)}},this._hoverBubbleColor=(i,r,s)=>{const o=this.container.actualOptions,a=s??o.interactivity.modes.bubble;if(a){if(!i.bubble.finalColor){const l=a.color;if(!l)return;const c=Rr(l);i.bubble.finalColor=Uf(this._engine,c)}if(i.bubble.finalColor)if(a.mix){i.bubble.color=void 0;const l=i.getFillColor();i.bubble.color=l?b3(O1(l,i.bubble.finalColor,lR-r,r)):i.bubble.finalColor}else i.bubble.color=i.bubble.finalColor}},this._hoverBubbleOpacity=(i,r,s)=>{var h,f;const o=this.container,a=o.actualOptions,l=(s==null?void 0:s.opacity)??((h=a.interactivity.modes.bubble)==null?void 0:h.opacity);if(!l)return;const c=i.options.opacity.value,u=((f=i.opacity)==null?void 0:f.value)??aR,d=oR(u,l,Is(c),r);d!==void 0&&(i.bubble.opacity=d)},this._hoverBubbleSize=(i,r,s)=>{const o=this.container,a=s!=null&&s.size?s.size*o.retina.pixelRatio:o.retina.bubbleModeSize;if(a===void 0)return;const l=Is(i.options.size.value)*o.retina.pixelRatio,c=i.size.value,u=oR(c,a,l,r);u!==void 0&&(i.bubble.radius=u)},this._process=(i,r,s,o)=>{const a=this.container,l=o.bubbleObj.optValue,c=a.actualOptions,u=c.interactivity.modes.bubble;if(!u||l===void 0)return;const d=u.duration,h=a.retina.bubbleModeDistance,f=o.particlesObj.optValue,v=o.bubbleObj.value,m=o.particlesObj.value??Sne,g=o.type;if(!(!h||h<v_||l===f))if(a.bubble||(a.bubble={}),a.bubble.durationEnd)v&&(g===Es.size&&delete i.bubble.radius,g===Es.opacity&&delete i.bubble.opacity);else if(r<=h){if((v??m)!==l){const _=m-s*(m-l)/d;g===Es.size&&(i.bubble.radius=_),g===Es.opacity&&(i.bubble.opacity=_)}}else g===Es.size&&delete i.bubble.radius,g===Es.opacity&&delete i.bubble.opacity},this._singleSelectorHover=(i,r,s)=>{const o=this.container,a=document.querySelectorAll(r),l=o.actualOptions.interactivity.modes.bubble;!l||!a.length||a.forEach(c=>{const u=c,d=o.retina.pixelRatio,h={x:(u.offsetLeft+u.offsetWidth*y_)*d,y:(u.offsetTop+u.offsetHeight*y_)*d},f=u.offsetWidth*y_*d,v=s.type===Ed.circle?new ni(h.x,h.y,f):new ys(u.offsetLeft*d,u.offsetTop*d,u.offsetWidth*d,u.offsetHeight*d),m=o.particles.quadTree.query(v,g=>this.isEnabled(g));for(const g of m){if(!v.contains(g.getPosition()))continue;g.bubble.inRange=!0;const p=l.divs,_=g3(p,u);(!g.bubble.div||g.bubble.div!==u)&&(this.clear(g,i,!0),g.bubble.div=u),this._hoverBubbleSize(g,__,_),this._hoverBubbleOpacity(g,__,_),this._hoverBubbleColor(g,__,_)}})},this._engine=n,e.bubble||(e.bubble={}),this.handleClickMode=i=>{i===ml&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,n,i){e.bubble.inRange&&!i||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.bubble;n&&(e.retina.bubbleModeDistance=n.distance*e.retina.pixelRatio,n.size!==void 0&&(e.retina.bubbleModeSize=n.size*e.retina.pixelRatio))}interact(e){const n=this.container.actualOptions,i=n.interactivity.events,r=i.onHover,s=i.onClick,o=r.enable,a=r.mode,l=s.enable,c=s.mode,u=i.onDiv;o&&hn(ml,a)?this._hoverBubble():l&&hn(ml,c)?this._clickBubble():I1(ml,u,(d,h)=>this._singleSelectorHover(e,d,h))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,{onClick:o,onDiv:a,onHover:l}=s,c=D1(ml,a);return c||l.enable&&r.position||o.enable&&r.clickPosition?hn(ml,l.mode)||hn(ml,o.mode)||c:!1}loadModeOptions(e,...n){e.bubble||(e.bubble=new xne);for(const i of n)e.bubble.load(i==null?void 0:i.bubble)}reset(e){e.bubble.inRange=!1}}async function Mne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalBubble",n=>Promise.resolve(new Tne(n,t)),e)}class Cne{constructor(){this.opacity=.5}load(e){_e(e)||e.opacity!==void 0&&(this.opacity=e.opacity)}}class Pne{constructor(){this.distance=80,this.links=new Cne,this.radius=60}load(e){_e(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links),e.radius!==void 0&&(this.radius=e.radius))}}const cR=0,uR=1,Ane=0;function Rne(t,e,n,i){const r=Math.floor(n.getRadius()/e.getRadius()),s=e.getFillColor(),o=n.getFillColor();if(!s||!o)return;const a=e.getPosition(),l=n.getPosition(),c=O1(s,o,e.getRadius(),n.getRadius()),u=t.createLinearGradient(a.x,a.y,l.x,l.y);return u.addColorStop(cR,Ff(s,i)),u.addColorStop(jr(r,cR,uR),To(c,i)),u.addColorStop(uR,Ff(o,i)),u}function kne(t,e,n,i,r){ef(t,i,r),t.lineWidth=e,t.strokeStyle=n,t.stroke()}function Dne(t,e,n,i){const r=t.actualOptions,s=r.interactivity.modes.connect;if(s)return Rne(e,n,i,s.links.opacity)}function Ine(t,e,n){t.canvas.draw(i=>{const r=Dne(t,i,e,n);if(!r)return;const s=e.getPosition(),o=n.getPosition();kne(i,e.retina.linksWidth??Ane,r,s,o)})}const Lne="connect",dR=0;class One extends Js{constructor(e){super(e)}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.connect;n&&(e.retina.connectModeDistance=n.distance*e.retina.pixelRatio,e.retina.connectModeRadius=n.radius*e.retina.pixelRatio)}interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const i=e.interactivity.mouse.position,{connectModeDistance:r,connectModeRadius:s}=e.retina;if(!r||r<dR||!s||s<dR||!i)return;const o=Math.abs(s),a=e.particles.quadTree.queryCircle(i,o,l=>this.isEnabled(l));a.forEach((l,c)=>{const u=l.getPosition(),d=1;for(const h of a.slice(c+d)){const f=h.getPosition(),v=Math.abs(r),m=Math.abs(u.x-f.x),g=Math.abs(u.y-f.y);m<v&&g<v&&Ine(e,l,h)}})}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&i.position?hn(Lne,r.onHover.mode):!1}loadModeOptions(e,...n){e.connect||(e.connect=new Pne);for(const i of n)e.connect.load(i==null?void 0:i.connect)}reset(){}}async function Nne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalConnect",n=>Promise.resolve(new One(n)),e)}class Une{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){_e(e)||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=oi.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class Fne{constructor(){this.distance=100,this.links=new Une}load(e){_e(e)||(e.distance!==void 0&&(this.distance=e.distance),this.links.load(e.links))}}const zne=0;function jne(t,e,n,i,r,s){ef(t,n,i),t.strokeStyle=To(r,s),t.lineWidth=e,t.stroke()}function Bne(t,e,n,i,r){t.canvas.draw(s=>{const o=e.getPosition();jne(s,e.retina.linksWidth??zne,o,r,n,i)})}const Vne="grab",Hne=0,Wne=0;class Gne extends Js{constructor(e,n){super(e),this._engine=n}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.grab;n&&(e.retina.grabModeDistance=n.distance*e.retina.pixelRatio)}interact(){var a;const e=this.container,n=e.actualOptions,i=n.interactivity;if(!i.modes.grab||!i.events.onHover.enable||e.interactivity.status!==xc)return;const r=e.interactivity.mouse.position;if(!r)return;const s=e.retina.grabModeDistance;if(!s||s<Hne)return;const o=e.particles.quadTree.queryCircle(r,s,l=>this.isEnabled(l));for(const l of o){const c=l.getPosition(),u=rr(c,r);if(u>s)continue;const d=i.modes.grab.links,h=d.opacity,f=h-u*h/s;if(f<=Wne)continue;const v=d.color??((a=l.options.links)==null?void 0:a.color);if(!e.particles.grabLineColor&&v){const g=i.modes.grab.links;e.particles.grabLineColor=E3(this._engine,v,g.blink,g.consent)}const m=bb(l,void 0,e.particles.grabLineColor);m&&Bne(e,l,m,f,r)}}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&hn(Vne,r.onHover.mode)}loadModeOptions(e,...n){e.grab||(e.grab=new Fne);for(const i of n)e.grab.load(i==null?void 0:i.grab)}reset(){}}async function $ne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalGrab",n=>Promise.resolve(new Gne(n,t)),e)}const qne="pause";class Xne extends Js{constructor(e){super(e),this.handleClickMode=n=>{if(n!==qne)return;const i=this.container;i.animationStatus?i.pause():i.play()}}clear(){}init(){}interact(){}isEnabled(){return!0}reset(){}}async function Kne(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPause",n=>Promise.resolve(new Xne(n)),e)}class Yne{constructor(){this.default=!0,this.groups=[],this.quantity=4}load(e){if(_e(e))return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(i=>i)),this.groups.length||(this.default=!0);const n=e.quantity;n!==void 0&&(this.quantity=vt(n)),this.particles=fr(e.particles,i=>si({},i))}}const Jne="push",Qne=0;class Zne extends Js{constructor(e){super(e),this.handleClickMode=n=>{if(n!==Jne)return;const i=this.container,r=i.actualOptions,s=r.interactivity.modes.push;if(!s)return;const o=je(s.quantity);if(o<=Qne)return;const a=Ry([void 0,...s.groups]),l=a!==void 0?i.actualOptions.particles.groups[a]:void 0,c=Rr(s.particles),u=si(l,c);i.particles.push(o,i.interactivity.mouse,u,a)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.push||(e.push=new Yne);for(const i of n)e.push.load(i==null?void 0:i.push)}reset(){}}async function eie(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalPush",n=>Promise.resolve(new Zne(n)),e)}class tie{constructor(){this.quantity=2}load(e){if(_e(e))return;const n=e.quantity;n!==void 0&&(this.quantity=vt(n))}}const nie="remove";class iie extends Js{constructor(e){super(e),this.handleClickMode=n=>{const i=this.container,r=i.actualOptions;if(!r.interactivity.modes.remove||n!==nie)return;const s=je(r.interactivity.modes.remove.quantity);i.particles.removeQuantity(s)}}clear(){}init(){}interact(){}isEnabled(){return!0}loadModeOptions(e,...n){e.remove||(e.remove=new tie);for(const i of n)e.remove.load(i==null?void 0:i.remove)}reset(){}}async function rie(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRemove",n=>Promise.resolve(new iie(n)),e)}class F3{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing=lc.easeOutQuad}load(e){_e(e)||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class sie extends F3{constructor(){super(),this.selectors=[]}load(e){super.load(e),!_e(e)&&e.selectors!==void 0&&(this.selectors=e.selectors)}}class oie extends F3{load(e){super.load(e),!_e(e)&&(this.divs=fr(e.divs,n=>{const i=new sie;return i.load(n),i}))}}const gl="repulse",aie=0,lie=6,cie=3,uie=2,die=0,hie=0,fie=1,x_=.5;class pie extends Js{constructor(e,n){super(n),this._clickRepulse=()=>{const i=this.container,r=i.actualOptions.interactivity.modes.repulse;if(!r)return;const s=i.repulse??{particles:[]};if(s.finish||(s.count||(s.count=0),s.count++,s.count===i.particles.count&&(s.finish=!0)),s.clicking){const o=i.retina.repulseModeDistance;if(!o||o<aie)return;const a=Math.pow(o/lie,cie),l=i.interactivity.mouse.clickPosition;if(l===void 0)return;const c=new ni(l.x,l.y,a),u=i.particles.quadTree.query(c,d=>this.isEnabled(d));for(const d of u){const{dx:h,dy:f,distance:v}=_i(l,d.position),m=v**uie,g=r.speed,p=-a*g/m;if(m<=a){s.particles.push(d);const _=On.create(h,f);_.length=p,d.velocity.setTo(_)}}}else if(s.clicking===!1){for(const o of s.particles)o.velocity.setTo(o.initialVelocity);s.particles=[]}},this._hoverRepulse=()=>{const i=this.container,r=i.interactivity.mouse.position,s=i.retina.repulseModeDistance;!s||s<die||!r||this._processRepulse(r,s,new ni(r.x,r.y,s))},this._processRepulse=(i,r,s,o)=>{const a=this.container,l=a.particles.quadTree.query(s,g=>this.isEnabled(g)),c=a.actualOptions.interactivity.modes.repulse;if(!c)return;const{easing:u,speed:d,factor:h,maxSpeed:f}=c,v=this._engine.getEasing(u),m=((o==null?void 0:o.speed)??d)*h;for(const g of l){const{dx:p,dy:_,distance:y}=_i(g.position,i),w=jr(v(fie-y/r)*m,hie,f),b=On.create(y?p/y*w:m,y?_/y*w:m);g.position.addTo(b)}},this._singleSelectorRepulse=(i,r)=>{const s=this.container,o=s.actualOptions.interactivity.modes.repulse;if(!o)return;const a=document.querySelectorAll(i);a.length&&a.forEach(l=>{const c=l,u=s.retina.pixelRatio,d={x:(c.offsetLeft+c.offsetWidth*x_)*u,y:(c.offsetTop+c.offsetHeight*x_)*u},h=c.offsetWidth*x_*u,f=r.type===Ed.circle?new ni(d.x,d.y,h):new ys(c.offsetLeft*u,c.offsetTop*u,c.offsetWidth*u,c.offsetHeight*u),v=o.divs,m=g3(v,c);this._processRepulse(d,h,f,m)})},this._engine=e,n.repulse||(n.repulse={particles:[]}),this.handleClickMode=i=>{const r=this.container.actualOptions,s=r.interactivity.modes.repulse;if(!s||i!==gl)return;n.repulse||(n.repulse={particles:[]});const o=n.repulse;o.clicking=!0,o.count=0;for(const a of n.repulse.particles)this.isEnabled(a)&&a.velocity.setTo(a.initialVelocity);o.particles=[],o.finish=!1,setTimeout(()=>{n.destroyed||(o.clicking=!1)},s.duration*ei)}}clear(){}init(){const e=this.container,n=e.actualOptions.interactivity.modes.repulse;n&&(e.retina.repulseModeDistance=n.distance*e.retina.pixelRatio)}interact(){const e=this.container,n=e.actualOptions,i=e.interactivity.status===xc,r=n.interactivity.events,s=r.onHover,o=s.enable,a=s.mode,l=r.onClick,c=l.enable,u=l.mode,d=r.onDiv;i&&o&&hn(gl,a)?this._hoverRepulse():c&&hn(gl,u)?this._clickRepulse():I1(gl,d,(h,f)=>this._singleSelectorRepulse(h,f))}isEnabled(e){const n=this.container,i=n.actualOptions,r=n.interactivity.mouse,s=((e==null?void 0:e.interactivity)??i.interactivity).events,o=s.onDiv,a=s.onHover,l=s.onClick,c=D1(gl,o);if(!(c||a.enable&&r.position||l.enable&&r.clickPosition))return!1;const u=a.mode,d=l.mode;return hn(gl,u)||hn(gl,d)||c}loadModeOptions(e,...n){e.repulse||(e.repulse=new oie);for(const i of n)e.repulse.load(i==null?void 0:i.repulse)}reset(){}}async function mie(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalRepulse",n=>Promise.resolve(new pie(t,n)),e)}class gie{constructor(){this.factor=3,this.radius=200}load(e){_e(e)||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}const vie="slow",yie=0;class _ie extends Js{constructor(e){super(e)}clear(e,n,i){e.slow.inRange&&!i||(e.slow.factor=1)}init(){const e=this.container,n=e.actualOptions.interactivity.modes.slow;n&&(e.retina.slowModeRadius=n.radius*e.retina.pixelRatio)}interact(){}isEnabled(e){const n=this.container,i=n.interactivity.mouse,r=((e==null?void 0:e.interactivity)??n.actualOptions.interactivity).events;return r.onHover.enable&&!!i.position&&hn(vie,r.onHover.mode)}loadModeOptions(e,...n){e.slow||(e.slow=new gie);for(const i of n)e.slow.load(i==null?void 0:i.slow)}reset(e){e.slow.inRange=!1;const n=this.container,i=n.actualOptions,r=n.interactivity.mouse.position,s=n.retina.slowModeRadius,o=i.interactivity.modes.slow;if(!o||!s||s<yie||!r)return;const a=e.getPosition(),l=rr(r,a),c=l/s,u=o.factor,{slow:d}=e;l>s||(d.inRange=!0,d.factor=c/u)}}async function xie(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("externalSlow",n=>Promise.resolve(new _ie(n)),e)}const wie=0,bie=1,Sie=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function Eie(t,e,n){const{svgData:i}=t;if(!i)return"";const r=Ff(e,n);if(i.includes("fill"))return i.replace(Sie,()=>r);const s=i.indexOf(">");return`${i.substring(wie,s)} fill="${r}"${i.substring(s)}`}async function ky(t){return new Promise(e=>{t.loading=!0;const n=new Image;t.element=n,n.addEventListener("load",()=>{t.loading=!1,e()}),n.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,bc().error(`${zr} loading image: ${t.source}`),e()}),n.src=t.source})}async function Tie(t){if(t.type!=="svg"){await ky(t);return}t.loading=!0;const e=await fetch(t.source);e.ok?t.svgData=await e.text():(bc().error(`${zr} Image not found`),t.error=!0),t.loading=!1}function Mie(t,e,n,i){var o;const r=Eie(t,n,((o=i.opacity)==null?void 0:o.value)??bie),s={color:n,gif:e.gif,data:{...t,svgData:r},loaded:!1,ratio:e.width/e.height,replaceColor:e.replaceColor,source:e.src};return new Promise(a=>{const l=new Blob([r],{type:"image/svg+xml"}),c=URL||window.URL||window.webkitURL||window,u=c.createObjectURL(l),d=new Image;d.addEventListener("load",()=>{s.loaded=!0,s.element=d,a(s),c.revokeObjectURL(u)});const h=async()=>{c.revokeObjectURL(u);const f={...t,error:!1,loading:!0};await ky(f),s.loaded=!0,s.element=f.element,a(s)};d.addEventListener("error",()=>void h()),d.src=u})}const w_=[0,4,2,1],hR=[8,8,4,2];class Cie{constructor(e){this.pos=0,this.data=new Uint8ClampedArray(e)}getString(e){const n=this.data.slice(this.pos,this.pos+e);return this.pos+=n.length,n.reduce((i,r)=>i+String.fromCharCode(r),"")}nextByte(){return this.data[this.pos++]}nextTwoBytes(){return this.pos+=2,this.data[this.pos-2]+(this.data[this.pos-1]<<8)}readSubBlocks(){let e="",n=0;const i=0,r=0;do{n=this.data[this.pos++];for(let s=n;--s>=i;e+=String.fromCharCode(this.data[this.pos++]));}while(n!==r);return e}readSubBlocksBin(){let e=this.data[this.pos],n=0;const i=0,r=1;for(let o=0;e!==i;o+=e+r,e=this.data[this.pos+o])n+=e;const s=new Uint8Array(n);e=this.data[this.pos++];for(let o=0;e!==i;e=this.data[this.pos++])for(let a=e;--a>=i;s[o++]=this.data[this.pos++]);return s}skipSubBlocks(){for(const e=1,n=0;this.data[this.pos]!==n;this.pos+=this.data[this.pos]+e);this.pos++}}var Yr;(function(t){t[t.Replace=0]="Replace",t[t.Combine=1]="Combine",t[t.RestoreBackground=2]="RestoreBackground",t[t.RestorePrevious=3]="RestorePrevious",t[t.UndefinedA=4]="UndefinedA",t[t.UndefinedB=5]="UndefinedB",t[t.UndefinedC=6]="UndefinedC",t[t.UndefinedD=7]="UndefinedD"})(Yr||(Yr={}));var bo;(function(t){t[t.Extension=33]="Extension",t[t.ApplicationExtension=255]="ApplicationExtension",t[t.GraphicsControlExtension=249]="GraphicsControlExtension",t[t.PlainTextExtension=1]="PlainTextExtension",t[t.CommentExtension=254]="CommentExtension",t[t.Image=44]="Image",t[t.EndOfFile=59]="EndOfFile"})(bo||(bo={}));const Ti={x:0,y:0},Pie=0,fR=.5,Aie=0,pR=0,Eb=0;function z3(t,e){const n=[];for(let i=0;i<e;i++)n.push({r:t.data[t.pos],g:t.data[t.pos+1],b:t.data[t.pos+2]}),t.pos+=3;return n}function Rie(t,e,n,i){switch(t.nextByte()){case bo.GraphicsControlExtension:{const r=e.frames[n(!1)];t.pos++;const s=t.nextByte();r.GCreserved=(s&224)>>>5,r.disposalMethod=(s&28)>>>2,r.userInputDelayFlag=(s&2)===2;const o=(s&1)===1;r.delayTime=t.nextTwoBytes()*10;const a=t.nextByte();o&&i(a),t.pos++;break}case bo.ApplicationExtension:{t.pos++;const r={identifier:t.getString(8),authenticationCode:t.getString(3),data:t.readSubBlocksBin()};e.applicationExtensions.push(r);break}case bo.CommentExtension:{e.comments.push([n(!1),t.readSubBlocks()]);break}case bo.PlainTextExtension:{if(e.globalColorTable.length===0)throw new EvalError("plain text extension without global color table");t.pos++,e.frames[n(!1)].plainTextData={left:t.nextTwoBytes(),top:t.nextTwoBytes(),width:t.nextTwoBytes(),height:t.nextTwoBytes(),charSize:{width:t.nextTwoBytes(),height:t.nextTwoBytes()},foregroundColor:t.nextByte(),backgroundColor:t.nextByte(),text:t.readSubBlocks()};break}default:t.skipSubBlocks();break}}async function kie(t,e,n,i,r,s){const o=e.frames[i(!0)];o.left=t.nextTwoBytes(),o.top=t.nextTwoBytes(),o.width=t.nextTwoBytes(),o.height=t.nextTwoBytes();const a=t.nextByte(),l=(a&128)===128,c=(a&64)===64;o.sortFlag=(a&32)===32,o.reserved=(a&24)>>>3;const u=1<<(a&7)+1;l&&(o.localColorTable=z3(t,u));const d=p=>{const{r:_,g:y,b:w}=(l?o.localColorTable:e.globalColorTable)[p];return p!==r(null)?{r:_,g:y,b:w,a:255}:{r:_,g:y,b:w,a:n?~~((_+y+w)/3):0}},h=(()=>{try{return new ImageData(o.width,o.height,{colorSpace:"srgb"})}catch(p){if(p instanceof DOMException&&p.name==="IndexSizeError")return null;throw p}})();if(h==null)throw new EvalError("GIF frame size is to large");const f=t.nextByte(),v=t.readSubBlocksBin(),m=1<<f,g=(p,_)=>{const y=p>>>3,w=p&7;return(v[y]+(v[y+1]<<8)+(v[y+2]<<16)&(1<<_)-1<<w)>>>w};if(c){for(let p=0,_=f+1,y=0,w=[[0]],b=0;b<4;b++)if(w_[b]<o.height){let S=0,E=0,P=!1;for(;!P;){const T=p;if(p=g(y,_),y+=_+1,p===m){_=f+1,w.length=m+2;for(let C=0;C<w.length;C++)w[C]=C<m?[C]:[]}else{p>=w.length?w.push(w[T].concat(w[T][0])):T!==m&&w.push(w[T].concat(w[p][0]));for(const C of w[p]){const{r:R,g:N,b:I,a:O}=d(C);h.data.set([R,N,I,O],w_[b]*o.width+hR[b]*E+S%(o.width*4)),S+=4}w.length===1<<_&&_<12&&_++}S===o.width*4*(E+1)&&(E++,w_[b]+hR[b]*E>=o.height&&(P=!0))}}o.image=h,o.bitmap=await createImageBitmap(h)}else{let p=0,_=f+1,y=0,w=-4,b=!1;const S=[[0]];for(;!b;){const E=p;if(p=g(y,_),y+=_,p===m){_=f+1,S.length=m+2;for(let P=0;P<S.length;P++)S[P]=P<m?[P]:[]}else{if(p===m+1){b=!0;break}p>=S.length?S.push(S[E].concat(S[E][0])):E!==m&&S.push(S[E].concat(S[p][0]));for(const P of S[p]){const{r:T,g:C,b:R,a:N}=d(P);h.data.set([T,C,R,N],w+=4)}S.length>=1<<_&&_<12&&_++}}o.image=h,o.bitmap=await createImageBitmap(h)}}async function Die(t,e,n,i,r,s){switch(t.nextByte()){case bo.EndOfFile:return!0;case bo.Image:await kie(t,e,n,i,r);break;case bo.Extension:Rie(t,e,i,r);break;default:throw new EvalError("undefined block found")}return!1}function Iie(t){for(const e of t.applicationExtensions)if(e.identifier+e.authenticationCode==="NETSCAPE2.0")return e.data[1]+(e.data[2]<<8);return NaN}async function Lie(t,e,n){n||(n=!1);const i=await fetch(t);if(!i.ok&&i.status===404)throw new EvalError("file not found");const r=await i.arrayBuffer(),s={width:0,height:0,totalTime:0,colorRes:0,pixelAspectRatio:0,frames:[],sortFlag:!1,globalColorTable:[],backgroundImage:new ImageData(1,1,{colorSpace:"srgb"}),comments:[],applicationExtensions:[]},o=new Cie(new Uint8ClampedArray(r));if(o.getString(6)!=="GIF89a")throw new Error("not a supported GIF file");s.width=o.nextTwoBytes(),s.height=o.nextTwoBytes();const a=o.nextByte(),l=(a&128)===128;s.colorRes=(a&112)>>>4,s.sortFlag=(a&8)===8;const c=1<<(a&7)+1,u=o.nextByte();s.pixelAspectRatio=o.nextByte(),s.pixelAspectRatio!==0&&(s.pixelAspectRatio=(s.pixelAspectRatio+15)/64),l&&(s.globalColorTable=z3(o,c));const d=(()=>{try{return new ImageData(s.width,s.height,{colorSpace:"srgb"})}catch(w){if(w instanceof DOMException&&w.name==="IndexSizeError")return null;throw w}})();if(d==null)throw new Error("GIF frame size is to large");const{r:h,g:f,b:v}=s.globalColorTable[u];d.data.set(l?[h,f,v,255]:[0,0,0,0]);for(let w=4;w<d.data.length;w*=2)d.data.copyWithin(w,0,w);s.backgroundImage=d;let m=-1,g=!0,p=-1;const _=w=>(w&&(g=!0),m),y=w=>(w!=null&&(p=w),p);try{do g&&(s.frames.push({left:0,top:0,width:0,height:0,disposalMethod:Yr.Replace,image:new ImageData(1,1,{colorSpace:"srgb"}),plainTextData:null,userInputDelayFlag:!1,delayTime:0,sortFlag:!1,localColorTable:[],reserved:0,GCreserved:0}),m++,p=-1,g=!1);while(!await Die(o,s,n,_,y,e));s.frames.length--;for(const w of s.frames){if(w.userInputDelayFlag&&w.delayTime===0){s.totalTime=1/0;break}s.totalTime+=w.delayTime}return s}catch(w){throw w instanceof EvalError?new Error(`error while parsing frame ${m} "${w.message}"`):w}}function Oie(t){const{context:e,radius:n,particle:i,delta:r}=t,s=i.image;if(!(s!=null&&s.gifData)||!s.gif)return;const o=new OffscreenCanvas(s.gifData.width,s.gifData.height),a=o.getContext("2d");if(!a)throw new Error("could not create offscreen canvas context");a.imageSmoothingQuality="low",a.imageSmoothingEnabled=!1,a.clearRect(Ti.x,Ti.y,o.width,o.height),i.gifLoopCount===void 0&&(i.gifLoopCount=s.gifLoopCount??Eb);let l=i.gifFrame??Pie;const c={x:-s.gifData.width*fR,y:-s.gifData.height*fR},u=s.gifData.frames[l];if(i.gifTime===void 0&&(i.gifTime=Aie),!!u.bitmap){switch(e.scale(n/s.gifData.width,n/s.gifData.height),u.disposalMethod){case Yr.UndefinedA:case Yr.UndefinedB:case Yr.UndefinedC:case Yr.UndefinedD:case Yr.Replace:a.drawImage(u.bitmap,u.left,u.top),e.drawImage(o,c.x,c.y),a.clearRect(Ti.x,Ti.y,o.width,o.height);break;case Yr.Combine:a.drawImage(u.bitmap,u.left,u.top),e.drawImage(o,c.x,c.y);break;case Yr.RestoreBackground:a.drawImage(u.bitmap,u.left,u.top),e.drawImage(o,c.x,c.y),a.clearRect(Ti.x,Ti.y,o.width,o.height),s.gifData.globalColorTable.length?a.putImageData(s.gifData.backgroundImage,c.x,c.y):a.putImageData(s.gifData.frames[pR].image,c.x+u.left,c.y+u.top);break;case Yr.RestorePrevious:{const d=a.getImageData(Ti.x,Ti.y,o.width,o.height);a.drawImage(u.bitmap,u.left,u.top),e.drawImage(o,c.x,c.y),a.clearRect(Ti.x,Ti.y,o.width,o.height),a.putImageData(d,Ti.x,Ti.y)}break}if(i.gifTime+=r.value,i.gifTime>u.delayTime){if(i.gifTime-=u.delayTime,++l>=s.gifData.frames.length){if(--i.gifLoopCount<=Eb)return;l=pR,a.clearRect(Ti.x,Ti.y,o.width,o.height)}i.gifFrame=l}e.scale(s.gifData.width/n,s.gifData.height/n)}}async function Nie(t){if(t.type!=="gif"){await ky(t);return}t.loading=!0;try{t.gifData=await Lie(t.source),t.gifLoopCount=Iie(t.gifData)??Eb,t.gifLoopCount||(t.gifLoopCount=1/0)}catch{t.error=!0}t.loading=!1}const Uie=2,Fie=1,zie=12,jie=1;class Bie{constructor(e){this.validTypes=["image","images"],this.loadImageShape=async n=>{if(!this._engine.loadImage)throw new Error(`${zr} image shape not initialized`);await this._engine.loadImage({gif:n.gif,name:n.name,replaceColor:n.replaceColor??!1,src:n.src})},this._engine=e}addImage(e){this._engine.images||(this._engine.images=[]),this._engine.images.push(e)}draw(e){const{context:n,radius:i,particle:r,opacity:s}=e,o=r.image,a=o==null?void 0:o.element;if(o){if(n.globalAlpha=s,o.gif&&o.gifData)Oie(e);else if(a){const l=o.ratio,c={x:-i,y:-i},u=i*Uie;n.drawImage(a,c.x,c.y,u,u/l)}n.globalAlpha=Fie}}getSidesCount(){return zie}async init(e){const n=e.actualOptions;if(!(!n.preload||!this._engine.loadImage))for(const i of n.preload)await this._engine.loadImage(i)}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;this._engine.images||(this._engine.images=[]);const n=e.shapeData;if(!n)return;this._engine.images.find(r=>r.name===n.name||r.source===n.src)||this.loadImageShape(n).then(()=>{this.loadShape(e)})}particleInit(e,n){if(n.shape!=="image"&&n.shape!=="images")return;this._engine.images||(this._engine.images=[]);const i=this._engine.images,r=n.shapeData;if(!r)return;const s=n.getFillColor(),o=i.find(l=>l.name===r.name||l.source===r.src);if(!o)return;const a=r.replaceColor??o.replaceColor;if(o.loading){setTimeout(()=>{this.particleInit(e,n)});return}(async()=>{let l;o.svgData&&s?l=await Mie(o,r,s,n):l={color:s,data:o,element:o.element,gif:o.gif,gifData:o.gifData,gifLoopCount:o.gifLoopCount,loaded:!0,ratio:r.width&&r.height?r.width/r.height:o.ratio??jie,replaceColor:a,source:r.src},l.ratio||(l.ratio=1);const c=r.fill??n.shapeFill,u=r.close??n.shapeClose,d={image:l,fill:c,close:u};n.image=d.image,n.shapeFill=d.fill,n.shapeClose=d.close})()}}class Vie{constructor(){this.src="",this.gif=!1}load(e){_e(e)||(e.gif!==void 0&&(this.gif=e.gif),e.height!==void 0&&(this.height=e.height),e.name!==void 0&&(this.name=e.name),e.replaceColor!==void 0&&(this.replaceColor=e.replaceColor),e.src!==void 0&&(this.src=e.src),e.width!==void 0&&(this.width=e.width))}}class Hie{constructor(e){this.id="imagePreloader",this._engine=e}async getPlugin(){return await Promise.resolve(),{}}loadOptions(e,n){if(!(n!=null&&n.preload))return;e.preload||(e.preload=[]);const i=e.preload;for(const r of n.preload){const s=i.find(o=>o.name===r.name||o.src===r.src);if(s)s.load(r);else{const o=new Vie;o.load(r),i.push(o)}}}needsPlugin(){return!0}}const Wie=3;function Gie(t){t.loadImage||(t.loadImage=async e=>{if(!e.name&&!e.src)throw new Error(`${zr} no image source provided`);if(t.images||(t.images=[]),!t.images.find(n=>n.name===e.name||n.source===e.src))try{const n={gif:e.gif??!1,name:e.name??e.src,source:e.src,type:e.src.substring(e.src.length-Wie),error:!1,loading:!0,replaceColor:e.replaceColor,ratio:e.width&&e.height?e.width/e.height:void 0};t.images.push(n);let i;e.gif?i=Nie:i=e.replaceColor?Tie:ky,await i(n)}catch{throw new Error(`${zr} ${e.name??e.src} not found`)}})}async function $ie(t,e=!0){t.checkVersion("3.9.1"),Gie(t);const n=new Hie(t);await t.addPlugin(n,e),await t.addShape(new Bie(t),e)}class qie extends Rc{constructor(){super(),this.sync=!1}load(e){_e(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Xie extends Rc{constructor(){super(),this.sync=!1}load(e){_e(e)||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class Kie{constructor(){this.count=0,this.delay=new qie,this.duration=new Xie}load(e){_e(e)||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}const Vc=0,Yie=-1,mR=0,gR=0;function Jie(t,e,n){if(!t.life)return;const i=t.life;let r=!1;if(t.spawning)if(i.delayTime+=e.value,i.delayTime>=t.life.delay)r=!0,t.spawning=!1,i.delayTime=Vc,i.time=Vc;else return;if(i.duration===Yie||t.spawning||(r?i.time=Vc:i.time+=e.value,i.time<i.duration))return;if(i.time=Vc,t.life.count>mR&&t.life.count--,t.life.count===mR){t.destroy();return}const s=vt(gR,n.width),o=vt(gR,n.width);t.position.x=er(s),t.position.y=er(o),t.spawning=!0,i.delayTime=Vc,i.time=Vc,t.reset();const a=t.options.life;a&&(i.delay=je(a.delay.value)*ei,i.duration=je(a.duration.value)*ei)}const vl=0,vR=1,yR=-1;class Qie{constructor(e){this.container=e}init(e){const n=this.container,i=e.options,r=i.life;r&&(e.life={delay:n.retina.reduceFactor?je(r.delay.value)*(r.delay.sync?vR:Tt())/n.retina.reduceFactor*ei:vl,delayTime:vl,duration:n.retina.reduceFactor?je(r.duration.value)*(r.duration.sync?vR:Tt())/n.retina.reduceFactor*ei:vl,time:vl,count:r.count},e.life.duration<=vl&&(e.life.duration=yR),e.life.count<=vl&&(e.life.count=yR),e.life&&(e.spawning=e.life.delay>vl))}isEnabled(e){return!e.destroyed}loadOptions(e,...n){e.life||(e.life=new Kie);for(const i of n)e.life.load(i==null?void 0:i.life)}update(e,n){!this.isEnabled(e)||!e.life||Jie(e,n,this.container.canvas.size)}}async function Zie(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("life",async n=>Promise.resolve(new Qie(n)),e)}function ere(t){const{context:e,particle:n,radius:i}=t,r=n.shapeData,s=0;e.moveTo(-i,s),e.lineTo(i,s),e.lineCap=(r==null?void 0:r.cap)??"butt"}const tre=1;class nre{constructor(){this.validTypes=["line"]}draw(e){ere(e)}getSidesCount(){return tre}}async function ire(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new nre,e)}const _R=.5;class rre{init(){}isEnabled(e){return!Sc()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const n=e.container,i=n.actualOptions,r=i.interactivity.events.onHover.parallax;if(Sc()||!r.enable)return;const s=r.force,o=n.interactivity.mouse.position;if(!o)return;const a=n.canvas.size,l={x:a.width*_R,y:a.height*_R},c=r.smooth,u=e.getRadius()/s,d={x:(o.x-l.x)*u,y:(o.y-l.y)*u},{offset:h}=e;h.x+=(d.x-h.x)/c,h.y+=(d.y-h.y)/c}}async function sre(t,e=!0){t.checkVersion("3.9.1"),await t.addMover("parallax",()=>Promise.resolve(new rre),e)}const xR=1e3,ore=1;class are extends F1{constructor(e){super(e)}clear(){}init(){}interact(e){const n=this.container;e.attractDistance===void 0&&(e.attractDistance=je(e.options.move.attract.distance)*n.retina.pixelRatio);const i=e.attractDistance,r=e.getPosition(),s=n.particles.quadTree.queryCircle(r,i);for(const o of s){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const a=o.getPosition(),{dx:l,dy:c}=_i(r,a),u=e.options.move.attract.rotate,d=l/(u.x*xR),h=c/(u.y*xR),f=o.size.value/e.size.value,v=ore/f;e.velocity.x-=d*f,e.velocity.y-=h*f,o.velocity.x+=d*v,o.velocity.y+=h*v}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function lre(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesAttract",n=>Promise.resolve(new are(n)),e)}const cre=.5,ure=10,dre=0;function wR(t,e,n,i,r,s){const o=jr(t.options.collisions.absorb.speed*r.factor/ure,dre,i);t.size.value+=o*cre,n.size.value-=o,i<=s&&(n.size.value=0,n.destroy())}function hre(t,e,n,i){const r=t.getRadius(),s=e.getRadius();r===void 0&&s!==void 0?t.destroy():r!==void 0&&s===void 0?e.destroy():r!==void 0&&s!==void 0&&(r>=s?wR(t,r,e,s,n,i):wR(e,s,t,r,n,i))}const bR=t=>{t.collisionMaxSpeed===void 0&&(t.collisionMaxSpeed=je(t.options.collisions.maxSpeed)),t.velocity.length>t.collisionMaxSpeed&&(t.velocity.length=t.collisionMaxSpeed)};function j3(t,e){v3(xb(t),xb(e)),bR(t),bR(e)}function fre(t,e){!t.unbreakable&&!e.unbreakable&&j3(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?e:t).destroy()}function pre(t,e,n,i){switch(t.options.collisions.mode){case Hu.absorb:{hre(t,e,n,i);break}case Hu.bounce:{j3(t,e);break}case Hu.destroy:{fre(t,e);break}}}const mre=2;class gre extends F1{constructor(e){super(e)}clear(){}init(){}interact(e,n){if(e.destroyed||e.spawning)return;const i=this.container,r=e.getPosition(),s=e.getRadius(),o=i.particles.quadTree.queryCircle(r,s*mre);for(const a of o){if(e===a||!a.options.collisions.enable||e.options.collisions.mode!==a.options.collisions.mode||a.destroyed||a.spawning)continue;const l=a.getPosition(),c=a.getRadius();if(Math.abs(Math.round(r.z)-Math.round(l.z))>s+c)continue;const u=rr(r,l),d=s+c;u>d||pre(e,a,n,i.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function vre(t,e=!0){t.checkVersion("3.9.1"),await t.addInteractor("particlesCollisions",n=>Promise.resolve(new gre(n)),e)}const b_=2;class yre extends ni{constructor(e,n,i,r){super(e,n,i),this.canvasSize=r,this.canvasSize={...r}}contains(e){const{width:n,height:i}=this.canvasSize,{x:r,y:s}=e;return super.contains(e)||super.contains({x:r-n,y:s})||super.contains({x:r-n,y:s-i})||super.contains({x:r,y:s-i})}intersects(e){if(super.intersects(e))return!0;const n=e,i=e,r={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(i.radius!==void 0){const s=new ni(r.x,r.y,i.radius*b_);return super.intersects(s)}else if(n.size!==void 0){const s=new ys(r.x,r.y,n.size.width*b_,n.size.height*b_);return super.intersects(s)}return!1}}class _re{constructor(){this.blur=5,this.color=new oi,this.color.value="#000",this.enable=!1}load(e){_e(e)||(e.blur!==void 0&&(this.blur=e.blur),this.color=oi.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class xre{constructor(){this.enable=!1,this.frequency=1}load(e){_e(e)||(e.color!==void 0&&(this.color=oi.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class wre{constructor(){this.blink=!1,this.color=new oi,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new _re,this.triangles=new xre,this.width=1,this.warp=!1}load(e){_e(e)||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=oi.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}const SR=2,bre=1,_m={x:0,y:0},Sre=0;function Ere(t,e,n,i,r){const{dx:s,dy:o,distance:a}=_i(t,e);if(!r||a<=n)return a;const l={x:Math.abs(s),y:Math.abs(o)},c={x:Math.min(l.x,i.width-l.x),y:Math.min(l.y,i.height-l.y)};return Math.sqrt(c.x**SR+c.y**SR)}class Tre extends F1{constructor(e,n){super(e),this._setColor=i=>{if(!i.options.links)return;const r=this._linkContainer,s=i.options.links;let o=s.id===void 0?r.particles.linksColor:r.particles.linksColors.get(s.id);if(o)return;const a=s.color;o=E3(this._engine,a,s.blink,s.consent),s.id===void 0?r.particles.linksColor=o:r.particles.linksColors.set(s.id,o)},this._linkContainer=e,this._engine=n}clear(){}init(){this._linkContainer.particles.linksColor=void 0,this._linkContainer.particles.linksColors=new Map}interact(e){if(!e.options.links)return;e.links=[];const n=e.getPosition(),i=this.container,r=i.canvas.size;if(n.x<_m.x||n.y<_m.y||n.x>r.width||n.y>r.height)return;const s=e.options.links,o=s.opacity,a=e.retina.linksDistance??Sre,l=s.warp;let c;l?c=new yre(n.x,n.y,a,r):c=new ni(n.x,n.y,a);const u=i.particles.quadTree.query(c);for(const d of u){const h=d.options.links;if(e===d||!(h!=null&&h.enable)||s.id!==h.id||d.spawning||d.destroyed||!d.links||e.links.some(g=>g.destination===d)||d.links.some(g=>g.destination===e))continue;const f=d.getPosition();if(f.x<_m.x||f.y<_m.y||f.x>r.width||f.y>r.height)continue;const v=Ere(n,f,a,r,l&&h.warp);if(v>a)continue;const m=(bre-v/a)*o;this._setColor(e),e.links.push({destination:d,opacity:m})}}isEnabled(e){var n;return!!((n=e.options.links)!=null&&n.enable)}loadParticlesOptions(e,...n){e.links||(e.links=new wre);for(const i of n)e.links.load(i==null?void 0:i.links)}reset(){}}async function Mre(t,e=!0){await t.addInteractor("particlesLinks",async n=>Promise.resolve(new Tre(n,t)),e)}function Cre(t,e,n,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(n.x,n.y),t.lineTo(i.x,i.y),t.closePath()}function Pre(t){let e=!1;const{begin:n,end:i,engine:r,maxDistance:s,context:o,canvasSize:a,width:l,backgroundMask:c,colorLine:u,opacity:d,links:h}=t;if(rr(n,i)<=s)ef(o,n,i),e=!0;else if(h.warp){let v,m;const g={x:i.x-a.width,y:i.y},p=_i(n,g);if(p.distance<=s){const _=n.y-p.dy/p.dx*n.x;v={x:0,y:_},m={x:a.width,y:_}}else{const _={x:i.x,y:i.y-a.height},y=_i(n,_);if(y.distance<=s){const b=-(n.y-y.dy/y.dx*n.x)/(y.dy/y.dx);v={x:b,y:0},m={x:b,y:a.height}}else{const w={x:i.x-a.width,y:i.y-a.height},b=_i(n,w);if(b.distance<=s){const S=n.y-b.dy/b.dx*n.x;v={x:-S/(b.dy/b.dx),y:S},m={x:v.x+a.width,y:v.y+a.height}}}}v&&m&&(ef(o,n,v),ef(o,i,m),e=!0)}if(!e)return;o.lineWidth=l,c.enable&&(o.globalCompositeOperation=c.composite),o.strokeStyle=To(u,d);const{shadow:f}=h;if(f.enable){const v=ds(r,f.color);v&&(o.shadowBlur=f.blur,o.shadowColor=To(v))}o.stroke()}function Are(t){const{context:e,pos1:n,pos2:i,pos3:r,backgroundMask:s,colorTriangle:o,opacityTriangle:a}=t;Cre(e,n,i,r),s.enable&&(e.globalCompositeOperation=s.composite),e.fillStyle=To(o,a),e.fill()}function Rre(t){return t.sort((e,n)=>e-n),t.join("_")}function ER(t,e){const n=Rre(t.map(r=>r.id));let i=e.get(n);return i===void 0&&(i=Tt(),e.set(n,i)),i}const TR=0,S_=0,MR=0,kre=.5,Dre=1;class Ire{constructor(e,n){this._drawLinkLine=(i,r)=>{const s=i.options.links;if(!(s!=null&&s.enable))return;const o=this._container,a=o.actualOptions,l=r.destination,c=i.getPosition(),u=l.getPosition();let d=r.opacity;o.canvas.draw(h=>{var _;let f;const v=(_=i.options.twinkle)==null?void 0:_.lines;if(v!=null&&v.enable){const y=v.frequency,w=ds(this._engine,v.color);Tt()<y&&w&&(f=w,d=je(v.opacity))}if(!f){const y=s.id!==void 0?o.particles.linksColors.get(s.id):o.particles.linksColor;f=bb(i,l,y)}if(!f)return;const m=i.retina.linksWidth??S_,g=i.retina.linksDistance??MR,{backgroundMask:p}=a;Pre({context:h,width:m,begin:c,end:u,engine:this._engine,maxDistance:g,canvasSize:o.canvas.size,links:s,backgroundMask:p,colorLine:f,opacity:d})})},this._drawLinkTriangle=(i,r,s)=>{const o=i.options.links;if(!(o!=null&&o.enable))return;const a=o.triangles;if(!a.enable)return;const l=this._container,c=l.actualOptions,u=r.destination,d=s.destination,h=a.opacity??(r.opacity+s.opacity)*kre;h<=TR||l.canvas.draw(f=>{const v=i.getPosition(),m=u.getPosition(),g=d.getPosition(),p=i.retina.linksDistance??MR;if(rr(v,m)>p||rr(g,m)>p||rr(g,v)>p)return;let _=ds(this._engine,a.color);if(!_){const y=o.id!==void 0?l.particles.linksColors.get(o.id):l.particles.linksColor;_=bb(i,u,y)}_&&Are({context:f,pos1:v,pos2:m,pos3:g,backgroundMask:c.backgroundMask,colorTriangle:_,opacityTriangle:h})})},this._drawTriangles=(i,r,s,o)=>{var c,u,d;const a=s.destination;if(!((c=i.links)!=null&&c.triangles.enable&&((u=a.options.links)!=null&&u.triangles.enable)))return;const l=(d=a.links)==null?void 0:d.filter(h=>{const f=this._getLinkFrequency(a,h.destination);return a.options.links&&f<=a.options.links.frequency&&o.findIndex(m=>m.destination===h.destination)>=0});if(l!=null&&l.length)for(const h of l){const f=h.destination;this._getTriangleFrequency(r,a,f)>i.links.triangles.frequency||this._drawLinkTriangle(r,s,h)}},this._getLinkFrequency=(i,r)=>ER([i,r],this._freqs.links),this._getTriangleFrequency=(i,r,s)=>ER([i,r,s],this._freqs.triangles),this._container=e,this._engine=n,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,n){const{links:i,options:r}=n;if(!(i!=null&&i.length))return;const s=i.filter(o=>r.links&&(r.links.frequency>=Dre||this._getLinkFrequency(n,o.destination)<=r.links.frequency));for(const o of s)this._drawTriangles(r,n,o,s),o.opacity>TR&&(n.retina.linksWidth??S_)>S_&&this._drawLinkLine(n,o)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map,await Promise.resolve()}particleCreated(e){if(e.links=[],!e.options.links)return;const n=this._container.retina.pixelRatio,{retina:i}=e,{distance:r,width:s}=e.options.links;i.linksDistance=r*n,i.linksWidth=s*n}particleDestroyed(e){e.links=[]}}class Lre{constructor(e){this.id="links",this._engine=e}getPlugin(e){return Promise.resolve(new Ire(e,this._engine))}loadOptions(){}needsPlugin(){return!0}}async function Ore(t,e=!0){const n=new Lre(t);await t.addPlugin(n,e)}async function Nre(t,e=!0){t.checkVersion("3.9.1"),await Mre(t,e),await Ore(t,e)}const Ure=180,xm={x:0,y:0},Fre=2;function zre(t,e,n){const{context:i}=t,r=n.count.numerator*n.count.denominator,s=n.count.numerator/n.count.denominator,o=Ure*(s-Fre)/s,a=Math.PI-za(o);if(i){i.beginPath(),i.translate(e.x,e.y),i.moveTo(xm.x,xm.y);for(let l=0;l<r;l++)i.lineTo(n.length,xm.y),i.translate(n.length,xm.y),i.rotate(a)}}const jre=5;class B3{draw(e){const{particle:n,radius:i}=e,r=this.getCenter(n,i),s=this.getSidesData(n,i);zre(e,r,s)}getSidesCount(e){const n=e.shapeData;return Math.round(je((n==null?void 0:n.sides)??jre))}}const CR=3.5,PR=2.66,Bre=3;class Vre extends B3{constructor(){super(...arguments),this.validTypes=["polygon"]}getCenter(e,n){return{x:-n/(e.sides/CR),y:-n/(PR/CR)}}getSidesData(e,n){const i=e.sides;return{count:{denominator:1,numerator:i},length:n*PR/(i/Bre)}}}const Hre=1.66,Wre=3,Gre=2;class $re extends B3{constructor(){super(...arguments),this.validTypes=["triangle"]}getCenter(e,n){return{x:-n,y:n/Hre}}getSidesCount(){return Wre}getSidesData(e,n){const i=n*Gre;return{count:{denominator:2,numerator:3},length:i}}}async function qre(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new Vre,e)}async function Xre(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new $re,e)}async function Kre(t,e=!0){t.checkVersion("3.9.1"),await qre(t,e),await Xre(t,e)}class Yre{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){_e(e)||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=vt(e.speed)),e.decay!==void 0&&(this.decay=vt(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class Jre extends Rc{constructor(){super(),this.animation=new Yre,this.direction=rs.clockwise,this.path=!1,this.value=0}load(e){_e(e)||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}const V3=2,Qre=Math.PI*V3,Zre=1,ese=360;class tse{constructor(e){this.container=e}init(e){const n=e.options.rotate;if(!n)return;e.rotate={enable:n.animation.enable,value:za(je(n.value)),min:0,max:Qre},e.pathRotation=n.path;let i=n.direction;switch(i===rs.random&&(i=Math.floor(Tt()*V3)>0?rs.counterClockwise:rs.clockwise),i){case rs.counterClockwise:case"counterClockwise":e.rotate.status=mn.decreasing;break;case rs.clockwise:e.rotate.status=mn.increasing;break}const r=n.animation;r.enable&&(e.rotate.decay=Zre-je(r.decay),e.rotate.velocity=je(r.speed)/ese*this.container.retina.reduceFactor,r.sync||(e.rotate.velocity*=Tt())),e.rotation=e.rotate.value}isEnabled(e){const n=e.options.rotate;return n?!e.destroyed&&!e.spawning&&(!!n.value||n.animation.enable||n.path):!1}loadOptions(e,...n){e.rotate||(e.rotate=new Jre);for(const i of n)e.rotate.load(i==null?void 0:i.rotate)}update(e,n){this.isEnabled(e)&&(e.isRotating=!!e.rotate,e.rotate&&(L1(e,e.rotate,!1,wc.none,n),e.rotation=e.rotate.value))}}async function nse(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("rotate",n=>Promise.resolve(new tse(n)),e)}const ise=2,rse=Math.sqrt(ise),sse=2;function ose(t){const{context:e,radius:n}=t,i=n/rse,r=i*sse;e.rect(-i,-i,r,r)}const ase=4;class lse{constructor(){this.validTypes=["edge","square"]}draw(e){ose(e)}getSidesCount(){return ase}}async function cse(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new lse,e)}const use=2,Hc={x:0,y:0};function dse(t){const{context:e,particle:n,radius:i}=t,r=n.sides,s=n.starInset??use;e.moveTo(Hc.x,Hc.y-i);for(let o=0;o<r;o++)e.rotate(Math.PI/r),e.lineTo(Hc.x,Hc.y-i*s),e.rotate(Math.PI/r),e.lineTo(Hc.x,Hc.y-i)}const hse=2,fse=5;class pse{constructor(){this.validTypes=["star"]}draw(e){dse(e)}getSidesCount(e){const n=e.shapeData;return Math.round(je((n==null?void 0:n.sides)??fse))}particleInit(e,n){const i=n.shapeData;n.starInset=je((i==null?void 0:i.inset)??hse)}}async function mse(t,e=!0){t.checkVersion("3.9.1"),await t.addShape(new pse,e)}const gse=1;class vse{constructor(e,n){this._container=e,this._engine=n}init(e){var o;const n=this._container,i=e.options,r=Rr(i.stroke,e.id,i.reduceDuplicates);e.strokeWidth=je(r.width)*n.retina.pixelRatio,e.strokeOpacity=je(r.opacity??gse),e.strokeAnimation=(o=r.color)==null?void 0:o.animation;const s=Uf(this._engine,r.color)??e.getFillColor();s&&(e.strokeColor=T3(s,e.strokeAnimation,n.retina.reduceFactor))}isEnabled(e){const n=e.strokeAnimation,{strokeColor:i}=e;return!e.destroyed&&!e.spawning&&!!n&&((i==null?void 0:i.h.value)!==void 0&&i.h.enable||(i==null?void 0:i.s.value)!==void 0&&i.s.enable||(i==null?void 0:i.l.value)!==void 0&&i.l.enable)}update(e,n){this.isEnabled(e)&&M3(e.strokeColor,n)}}async function yse(t,e=!0){t.checkVersion("3.9.1"),await t.addParticleUpdater("strokeColor",n=>Promise.resolve(new vse(n,t)),e)}async function _se(t,e=!0){t.checkVersion("3.9.1"),await sre(t,!1),await cne(t,!1),await yne(t,!1),await Mne(t,!1),await Nne(t,!1),await $ne(t,!1),await Kne(t,!1),await eie(t,!1),await rie(t,!1),await mie(t,!1),await xie(t,!1),await lre(t,!1),await vre(t,!1),await Nre(t,!1),await Zte(t,!1),await nne(t,!1),await $ie(t,!1),await ire(t,!1),await Kre(t,!1),await cse(t,!1),await mse(t,!1),await Zie(t,!1),await nse(t,!1),await yse(t,!1),await Qte(t,e)}const xse=t=>{const{id:e,className:n,background:i,minSize:r,maxSize:s,speed:o,particleColor:a,particleDensity:l}=t,[c,u]=M.useState(!1);M.useEffect(()=>{rte(async v=>{await _se(v)}).then(()=>{u(!0)})},[]);const d=ZK(),h=async v=>{v&&d.start({opacity:1,transition:{duration:1}})},f=M.useId();return x.jsx(st.div,{animate:d,className:yt("opacity-0",n),children:c&&x.jsx(ite,{id:e||f,className:yt("h-full w-full"),particlesLoaded:h,options:{background:{color:{value:i||"#0d47a1"}},fullScreen:{enable:!1,zIndex:1},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!1,mode:"repulse"},resize:!0},modes:{push:{quantity:4},repulse:{distance:200,duration:.4}}},particles:{bounce:{horizontal:{value:1},vertical:{value:1}},collisions:{absorb:{speed:2},bounce:{horizontal:{value:1},vertical:{value:1}},enable:!1,maxSpeed:50,mode:"bounce",overlap:{enable:!0,retries:0}},color:{value:a||"#ffffff",animation:{h:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},s:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0},l:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!0,offset:0}}},effect:{close:!0,fill:!0,options:{},type:{}},groups:{},move:{angle:{offset:0,value:90},attract:{distance:200,enable:!1,rotate:{x:3e3,y:3e3}},center:{x:50,y:50,mode:"percent",radius:0},decay:0,distance:{},direction:"none",drift:0,enable:!0,gravity:{acceleration:9.81,enable:!1,inverse:!1,maxSpeed:50},path:{clamp:!0,delay:{value:0},enable:!1,options:{}},outModes:{default:"out"},random:!1,size:!1,speed:{min:.1,max:1},spin:{acceleration:0,enable:!1},straight:!1,trail:{enable:!1,length:10,fill:{}},vibrate:!1,warp:!1},number:{density:{enable:!0,width:400,height:400},limit:{mode:"delete",value:0},value:l||120},opacity:{value:{min:.1,max:1},animation:{count:0,enable:!0,speed:o||4,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},reduceDuplicates:!1,shadow:{blur:0,color:{value:"#000"},enable:!1,offset:{x:0,y:0}},shape:{close:!0,fill:!0,options:{},type:"circle"},size:{value:{min:r||1,max:s||3},animation:{count:0,enable:!1,speed:5,decay:0,delay:0,sync:!1,mode:"auto",startValue:"random",destroy:"none"}},stroke:{width:0},zIndex:{value:0,opacityRate:1,sizeRate:1,velocityRate:1},destroy:{bounds:{},mode:"none",split:{count:1,factor:{value:3},rate:{value:{min:4,max:9}},sizeOffset:!0}},roll:{darken:{enable:!1,value:0},enable:!1,enlighten:{enable:!1,value:0},mode:"vertical",speed:25},tilt:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",enable:!1},twinkle:{lines:{enable:!1,frequency:.05,opacity:1},particles:{enable:!1,frequency:.05,opacity:1}},wobble:{distance:5,enable:!1,speed:{angle:50,move:10}},life:{count:0,delay:{value:0,sync:!1},duration:{value:0,sync:!1}},rotate:{value:0,animation:{enable:!1,speed:0,decay:0,sync:!1},direction:"clockwise",path:!1},orbit:{animation:{count:0,enable:!1,speed:1,decay:0,delay:0,sync:!1},enable:!1,opacity:1,rotation:{value:45},width:1},links:{blink:!1,color:{value:"#fff"},consent:!1,distance:100,enable:!1,frequency:1,opacity:1,shadow:{blur:5,color:{value:"#000"},enable:!1},triangles:{enable:!1,frequency:1},width:1,warp:!1},repulse:{value:0,enabled:!1,distance:1,duration:1,factor:1,speed:1}},detectRetina:!0}})})};function wse(){return x.jsxs("section",{className:"relative w-full overflow-hidden py-12 md:py-16",children:[x.jsx("div",{className:"absolute inset-0 pointer-events-none",children:x.jsx(xse,{id:"sparkles-band",background:"transparent",minSize:.6,maxSize:1.2,particleDensity:160,particleColor:"#7dd3fc",speed:.6,className:"w-full h-full"})}),x.jsxs("div",{className:"container mx-auto relative z-10 px-6 text-center",children:[x.jsx("p",{className:"text-sm uppercase tracking-wider text-primary/70 mb-2",children:"Our Promise"}),x.jsx("h2",{className:"text-2xl md:text-3xl font-semibold text-foreground",children:ho.hero.slogan})]}),x.jsx("div",{className:"pointer-events-none absolute inset-0 [mask-image:radial-gradient(80%_60%_at_center,black,transparent)]"})]})}const Pi=M.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:yt("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pi.displayName="Card";const Ta=M.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:yt("flex flex-col space-y-1.5 p-6",t),...e}));Ta.displayName="CardHeader";const Ma=M.forwardRef(({className:t,...e},n)=>x.jsx("h3",{ref:n,className:yt("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ma.displayName="CardTitle";const Xl=M.forwardRef(({className:t,...e},n)=>x.jsx("p",{ref:n,className:yt("text-sm text-muted-foreground",t),...e}));Xl.displayName="CardDescription";const Sr=M.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:yt("p-6 pt-0",t),...e}));Sr.displayName="CardContent";const bse=M.forwardRef(({className:t,...e},n)=>x.jsx("div",{ref:n,className:yt("flex items-center p-6 pt-0",t),...e}));bse.displayName="CardFooter";function Sse(){return x.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.3},transition:{duration:.6},children:x.jsxs("div",{className:"mb-10 overflow-hidden rounded-xl border relative",style:{backgroundImage:"url(https://images.unsplash.com/photo-1522071820081-009f0129c71c?auto=format&fit=crop&w=1800&q=80)",backgroundSize:"cover",backgroundPosition:"center"},children:[x.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),x.jsxs("div",{className:"relative flex items-center justify-between gap-6 p-6 md:p-10",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white",children:"AI HackerDorm"}),x.jsx("p",{className:"text-sm text-gray-300",children:"Building a global community of student AI builders."})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("a",{href:"mailto:aihackerdorm@gmail.com",children:x.jsxs(Pt,{variant:"outline",className:"gap-2 bg-transparent text-white border-gray-400 hover:bg-white/10 hover:text-white",children:[x.jsx(FL,{className:"h-4 w-4"})," Contact"]})}),x.jsx("a",{href:"https://forms.gle/pbG4FWuLXUFnrmsb7",target:"_blank",rel:"noopener noreferrer",children:x.jsx(Pt,{className:"ai-button-primary",children:"Apply to Join the Team"})})]})]})]})})}const Ese=[{role:"Co-Founder & President",name:"Shannon Choo Ru Xin",desc:"Leads overall direction and strategy. Strong network across AI communities and the startup ecosystem.",image:null},{role:"Co-Founder",name:"Sharat Chandra Reddy Thimmareddy",desc:"Partnerships, outreach, and community growth. Tech events and PR background. Passionate AI builder.",image:null},{role:"Vice President",name:"Sim Hong Bing",desc:"Public relations and community pipeline.",image:null},{role:"Vice President",name:"Hein Wunna (Logan)",desc:"Events and session logistics; member success.",image:null}],Tse=[{name:"Raha",role:"Creatives",image:null},{name:"Yan Fong",role:"Video Team, Cameraman",image:null},{name:"Tia Su",role:"Creatives",image:null}];function Mse(){const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.2}}},e={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{duration:.5}}};return x.jsxs("section",{className:"relative py-16",children:[x.jsx(Sse,{}),x.jsx("span",{className:"spiral-orb -top-6 left-6 hidden md:block"}),x.jsx("span",{className:"spiral-orb bottom-4 right-10 hidden md:block"}),x.jsxs("div",{className:"mb-6",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(Sf,{className:"h-5 w-5 text-primary"}),x.jsx("h3",{className:"text-xl font-semibold",children:"Founding Team"})]}),x.jsx("div",{className:"wavy-underline w-24 md:w-32 mt-2"})]}),x.jsx(st.div,{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Ese.map(n=>x.jsx(st.div,{variants:e,children:x.jsxs(Pi,{className:"p-6 h-full",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-full bg-primary/10 text-primary grid place-items-center font-semibold",children:n.image?x.jsx("img",{src:n.image,alt:n.name,className:"w-12 h-12 rounded-full object-cover"}):x.jsx("span",{children:n.name.split(" ").map(i=>i[0]).slice(0,2).join("")})}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm text-primary/80 font-medium",children:n.role}),x.jsx("div",{className:"text-lg font-semibold",children:n.name})]})]}),n.desc&&x.jsx("p",{className:"mt-3 text-sm text-muted-foreground leading-relaxed",children:n.desc})]})},n.name))}),x.jsxs("div",{className:"mt-10",children:[x.jsx("h4",{className:"text-base font-semibold text-foreground/90 mb-3",children:"Marketing"}),x.jsx(st.div,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",variants:t,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.2},children:Tse.map(n=>x.jsx(st.div,{variants:e,children:x.jsx(Pi,{className:"p-5 h-full",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-10 h-10 rounded-full bg-primary/10 text-primary grid place-items-center font-semibold",children:n.image?x.jsx("img",{src:n.image,alt:n.name,className:"w-10 h-10 rounded-full object-cover"}):x.jsx("span",{children:n.name.split(" ").map(i=>i[0]).slice(0,2).join("")})}),x.jsxs("div",{children:[x.jsx("div",{className:"text-sm font-medium",children:n.name}),x.jsx("div",{className:"text-xs text-muted-foreground",children:n.role})]})]})})},n.name))})]})]})}const Cse=1/3,ws=1/6,E_=t=>Math.floor(t)|0,T_=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function Pse(t=Math.random){const e=Ase(t),n=new Float64Array(e).map(s=>T_[s%12*3]),i=new Float64Array(e).map(s=>T_[s%12*3+1]),r=new Float64Array(e).map(s=>T_[s%12*3+2]);return function(o,a,l){let c,u,d,h;const f=(o+a+l)*Cse,v=E_(o+f),m=E_(a+f),g=E_(l+f),p=(v+m+g)*ws,_=v-p,y=m-p,w=g-p,b=o-_,S=a-y,E=l-w;let P,T,C,R,N,I;b>=S?S>=E?(P=1,T=0,C=0,R=1,N=1,I=0):b>=E?(P=1,T=0,C=0,R=1,N=0,I=1):(P=0,T=0,C=1,R=1,N=0,I=1):S<E?(P=0,T=0,C=1,R=0,N=1,I=1):b<E?(P=0,T=1,C=0,R=0,N=1,I=1):(P=0,T=1,C=0,R=1,N=1,I=0);const O=b-P+ws,H=S-T+ws,V=E-C+ws,z=b-R+2*ws,D=S-N+2*ws,B=E-I+2*ws,K=b-1+3*ws,ne=S-1+3*ws,te=E-1+3*ws,ye=v&255,pe=m&255,Y=g&255;let oe=.6-b*b-S*S-E*E;if(oe<0)c=0;else{const ue=ye+e[pe+e[Y]];oe*=oe,c=oe*oe*(n[ue]*b+i[ue]*S+r[ue]*E)}let $=.6-O*O-H*H-V*V;if($<0)u=0;else{const ue=ye+P+e[pe+T+e[Y+C]];$*=$,u=$*$*(n[ue]*O+i[ue]*H+r[ue]*V)}let ce=.6-z*z-D*D-B*B;if(ce<0)d=0;else{const ue=ye+R+e[pe+N+e[Y+I]];ce*=ce,d=ce*ce*(n[ue]*z+i[ue]*D+r[ue]*B)}let we=.6-K*K-ne*ne-te*te;if(we<0)h=0;else{const ue=ye+1+e[pe+1+e[Y+1]];we*=we,h=we*we*(n[ue]*K+i[ue]*ne+r[ue]*te)}return 32*(c+u+d+h)}}function Ase(t){const n=new Uint8Array(512);for(let i=0;i<512/2;i++)n[i]=i;for(let i=0;i<512/2-1;i++){const r=i+~~(t()*(256-i)),s=n[i];n[i]=n[r],n[r]=s}for(let i=256;i<512;i++)n[i]=n[i-256];return n}const H3=({children:t,className:e,containerClassName:n,colors:i,waveWidth:r,backgroundFill:s,blur:o=10,speed:a="fast",waveOpacity:l=.5,...c})=>{const u=Pse();let d,h,f,v,m,g,p;const _=M.useRef(null),y=()=>{switch(a){case"slow":return .001;case"fast":return .002;default:return .001}},w=()=>{if(p=_.current,!p)return;const R=p.getContext("2d");R&&(g=R,d=g.canvas.width=window.innerWidth,h=g.canvas.height=window.innerHeight,g.filter=`blur(${o}px)`,f=0,window.onresize=function(){d=g.canvas.width=window.innerWidth,h=g.canvas.height=window.innerHeight,g.filter=`blur(${o}px)`},P())},b=i??["#38bdf8","#818cf8","#c084fc","#e879f9","#22d3ee"],S=R=>{for(f+=y(),v=0;v<R;v++){for(g.beginPath(),g.lineWidth=r||50,g.strokeStyle=b[v%b.length],m=0;m<d;m+=5){const N=u(m/800,.3*v,f)*100;g.lineTo(m,N+h*.5)}g.stroke(),g.closePath()}};let E=0;const P=()=>{g.fillStyle=s||"black",g.globalAlpha=l||.5,g.fillRect(0,0,d,h),S(5),E=requestAnimationFrame(P)};M.useEffect(()=>(w(),()=>{cancelAnimationFrame(E)}),[]);const[T,C]=M.useState(!1);return M.useEffect(()=>{C(typeof window<"u"&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"))},[]),x.jsxs("div",{className:yt("h-screen flex flex-col items-center justify-center",n),children:[x.jsx("canvas",{className:"absolute inset-0 z-0",ref:_,id:"canvas",style:{...T?{filter:`blur(${o}px)`}:{}}}),x.jsx("div",{className:yt("relative z-10",e),...c,children:t})]})},Rse=[{icon:gW,title:"Human First",description:"We prioritize human welfare and ethical AI development in everything we do."},{icon:NW,title:"Action First",description:"We believe in learning by doing and creating tangible impact through our projects."},{icon:UL,title:"Collaborative Spirit",description:"Together we achieve more. Collaboration is at the heart of innovation."},{icon:pW,title:"Curiosity",description:"We foster an environment of continuous learning and questioning."}];function kse(){return x.jsxs("section",{id:"about",className:"relative pt-12 pb-20",children:[x.jsx("span",{className:"spiral-orb -top-6 -left-10 hidden md:block"}),x.jsx("span",{className:"spiral-orb -bottom-10 -right-6 hidden md:block"}),x.jsxs(H3,{containerClassName:"pt-10",className:"px-6 text-center",children:[x.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-2",children:["About ",x.jsx("span",{className:"ai-text-gradient",children:"AI HackerDorm"})]}),x.jsx("div",{className:"wavy-underline mx-auto w-32 md:w-40 mb-6"}),x.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Empowering the next generation of AI innovators through education, collaboration, and real-world applications."})]}),x.jsx("div",{className:"px-6",children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[x.jsxs(st.div,{className:"ai-card mb-12",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:.1},children:[x.jsx("h3",{className:"text-2xl font-bold mb-4 text-center",children:"Our Vision"}),x.jsx("p",{className:"text-base text-muted-foreground leading-relaxed text-center",children:"To foster an inclusive, student-led builder ecosystem that empowers all students to innovate, collaborate, and grow through hands-on projects, peer learning, and access to meaningful resources."})]}),x.jsxs("div",{className:"mb-12",children:[x.jsx("h3",{className:"text-2xl font-bold mb-8 text-center",children:"Our Core Values"}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Rse.map((t,e)=>x.jsxs(st.div,{className:"ai-card text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:.3+e*.1},children:[x.jsx("div",{className:"w-14 h-14 bg-primary/10 rounded-full flex items-center justify-center mx-auto mb-3",children:x.jsx(t.icon,{className:"h-7 w-7 text-primary"})}),x.jsx("h4",{className:"text-lg font-semibold mb-2",children:t.title}),x.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]}),x.jsxs(st.div,{className:"ai-card text-center",initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.6,delay:.6},children:[x.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Why AI Matters Now"}),x.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:"Artificial Intelligence is reshaping every industry and aspect of our lives. As future leaders and innovators, it's crucial that we understand not just how to use AI, but how to develop it responsibly, ethically, and for the benefit of all. Join us in building the future, one algorithm at a time."})]})]})})]})}const mg=M.forwardRef(({className:t,type:e,...n},i)=>x.jsx("input",{type:e,className:yt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:i,...n}));mg.displayName="Input";var Dse="Label",W3=M.forwardRef((t,e)=>x.jsx(Si.label,{...t,ref:e,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=t.onMouseDown)==null||r.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));W3.displayName=Dse;var G3=W3;const Ise=ry("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ph=M.forwardRef(({className:t,...e},n)=>x.jsx(G3,{ref:n,className:yt(Ise(),t),...e}));Ph.displayName=G3.displayName;const $3=M.forwardRef(({className:t,...e},n)=>x.jsx("textarea",{className:yt("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));$3.displayName="Textarea";function Lse(){const[t,e]=M.useState({name:"",email:"",subject:"",message:""}),[n,i]=M.useState(!1),{toast:r}=aL(),s=async a=>{a.preventDefault(),i(!0);try{const{error:l}=await Pr.from("contact_messages").insert({name:t.name,email:t.email,subject:t.subject,message:t.message});if(l)throw l;r({title:"Message Sent!",description:"We'll get back to you within 24 hours."}),e({name:"",email:"",subject:"",message:""})}catch{r({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{i(!1)}},o=a=>{e(l=>({...l,[a.target.name]:a.target.value}))};return x.jsx("section",{id:"contact",className:"relative pt-16 pb-20 px-6",children:x.jsxs("div",{className:"container mx-auto",children:[x.jsx("span",{className:"spiral-orb -top-8 left-0 hidden md:block"}),x.jsx("span",{className:"spiral-orb -bottom-6 right-4 hidden md:block"}),x.jsxs(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},className:"text-center mb-12",children:[x.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-2",children:x.jsx("span",{className:"ai-text-gradient",children:"Get In Touch"})}),x.jsx("div",{className:"wavy-underline w-24 md:w-32 mx-auto mb-6"}),x.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Have questions about AI HackerDorm? Want to collaborate or sponsor an event? We'd love to hear from you!"})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[x.jsxs(st.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.2},transition:{delay:.1},className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-bold mb-6",children:"Contact Information"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:x.jsx(FL,{className:"h-5 w-5 text-primary"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:"Email"}),x.jsx("a",{href:"mailto:aihackerdorm@gmail.com",children:x.jsx(Pt,{variant:"outline",size:"sm",className:"mt-2",children:"Mail Us"})})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:x.jsx(PW,{className:"h-5 w-5 text-primary"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:"Location"}),x.jsxs("p",{className:"text-muted-foreground",children:["Taylor's University Lakeside Campus",x.jsx("br",{}),"No. 1, Jalan Taylors, 47500 Subang Jaya"]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:x.jsx(TW,{className:"h-5 w-5 text-primary"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:"LinkedIn"}),x.jsx("a",{href:"https://www.linkedin.com/company/ai-hackerdorm",target:"_blank",rel:"noopener noreferrer",children:x.jsx(Pt,{variant:"outline",size:"sm",className:"mt-2",children:"Connect on LinkedIn"})})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"p-3 rounded-lg bg-primary/10",children:x.jsx(bW,{className:"h-5 w-5 text-primary"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:"Instagram"}),x.jsx("a",{href:"https://www.instagram.com/aihackerdorm_taylors",target:"_blank",rel:"noopener noreferrer",children:x.jsx(Pt,{variant:"outline",size:"sm",className:"mt-2",children:"Follow on Instagram"})})]})]})]})]}),x.jsxs("div",{className:"ai-card",children:[x.jsx("h4",{className:"text-xl font-semibold mb-4",children:"Quick Links"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Membership Application"}),x.jsx(jn,{to:"/join",children:x.jsx(Pt,{variant:"outline",size:"sm",children:"Apply"})})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Event Calendar"}),x.jsx("a",{href:"https://lu.ma/aihd",target:"_blank",rel:"noreferrer",children:x.jsx(Pt,{variant:"outline",size:"sm",children:"View Events"})})]}),x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{children:"Partnership Inquiry"}),x.jsx(Pt,{variant:"outline",size:"sm",children:"Partner With Us"})]})]})]})]}),x.jsx(st.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0,amount:.2},transition:{delay:.2},children:x.jsxs(Pi,{className:"ai-card",children:[x.jsxs(Ta,{children:[x.jsx(Ma,{className:"text-2xl",children:"Send us a Message"}),x.jsx(Xl,{children:"Fill out the form below and we'll get back to you as soon as possible"})]}),x.jsx(Sr,{children:x.jsxs("form",{onSubmit:s,className:"space-y-6",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(Ph,{htmlFor:"name",children:"Name"}),x.jsx(mg,{id:"name",name:"name",value:t.name,onChange:o,placeholder:"Your full name",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Ph,{htmlFor:"email",children:"Email"}),x.jsx(mg,{id:"email",name:"email",type:"email",value:t.email,onChange:o,placeholder:"your.email@student.taylor.edu.my",required:!0})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Ph,{htmlFor:"subject",children:"Subject"}),x.jsx(mg,{id:"subject",name:"subject",value:t.subject,onChange:o,placeholder:"What's this about?",required:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Ph,{htmlFor:"message",children:"Message"}),x.jsx($3,{id:"message",name:"message",value:t.message,onChange:o,placeholder:"Tell us more about your inquiry...",rows:6,required:!0})]}),x.jsx(Pt,{type:"submit",className:"w-full ai-button-primary",disabled:n,children:n?"Sending...":x.jsxs(x.Fragment,{children:[x.jsx(DW,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})})]})})]})]})})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const j1="179",Ose=0,AR=1,Nse=2,q3=1,Use=2,co=3,el=0,Ni=1,_o=2,ja=0,$u=1,RR=2,kR=3,DR=4,Fse=5,Ul=100,zse=101,jse=102,Bse=103,Vse=104,Hse=200,Wse=201,Gse=202,$se=203,Tb=204,Mb=205,qse=206,Xse=207,Kse=208,Yse=209,Jse=210,Qse=211,Zse=212,eoe=213,toe=214,Cb=0,Pb=1,Ab=2,Md=3,Rb=4,kb=5,Db=6,Ib=7,X3=0,noe=1,ioe=2,Ba=0,roe=1,soe=2,ooe=3,aoe=4,loe=5,coe=6,uoe=7,K3=300,Cd=301,Pd=302,Lb=303,Ob=304,Dy=306,Nb=1e3,Kl=1001,Ub=1002,fs=1003,doe=1004,wm=1005,Ls=1006,M_=1007,Yl=1008,No=1009,Y3=1010,J3=1011,Bf=1012,B1=1013,Ec=1014,So=1015,_p=1016,V1=1017,H1=1018,Vf=1020,Q3=35902,Z3=1021,eF=1022,as=1023,Hf=1026,Wf=1027,tF=1028,W1=1029,nF=1030,G1=1031,$1=1033,gg=33776,vg=33777,yg=33778,_g=33779,Fb=35840,zb=35841,jb=35842,Bb=35843,Vb=36196,Hb=37492,Wb=37496,Gb=37808,$b=37809,qb=37810,Xb=37811,Kb=37812,Yb=37813,Jb=37814,Qb=37815,Zb=37816,eS=37817,tS=37818,nS=37819,iS=37820,rS=37821,xg=36492,sS=36494,oS=36495,iF=36283,aS=36284,lS=36285,cS=36286,hoe=3200,foe=3201,poe=0,moe=1,fa="",Er="srgb",Ad="srgb-linear",wv="linear",St="srgb",Wc=7680,IR=519,goe=512,voe=513,yoe=514,rF=515,_oe=516,xoe=517,woe=518,boe=519,LR=35044,OR="300 es",Os=2e3,bv=2001;class Jd{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const i=n[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const qn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],C_=Math.PI/180,uS=180/Math.PI;function xp(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(qn[t&255]+qn[t>>8&255]+qn[t>>16&255]+qn[t>>24&255]+"-"+qn[e&255]+qn[e>>8&255]+"-"+qn[e>>16&15|64]+qn[e>>24&255]+"-"+qn[n&63|128]+qn[n>>8&255]+"-"+qn[n>>16&255]+qn[n>>24&255]+qn[i&255]+qn[i>>8&255]+qn[i>>16&255]+qn[i>>24&255]).toLowerCase()}function dt(t,e,n){return Math.max(e,Math.min(n,t))}function Soe(t,e){return(t%e+e)%e}function P_(t,e,n){return(1-n)*t+n*e}function mh(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Mi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class wt{constructor(e=0,n=0){wt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=dt(this.x,e.x,n.x),this.y=dt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=dt(this.x,e,n),this.y=dt(this.y,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(dt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wp{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],f=s[o+1],v=s[o+2],m=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=f,e[n+2]=v,e[n+3]=m;return}if(d!==m||l!==h||c!==f||u!==v){let g=1-a;const p=l*h+c*f+u*v+d*m,_=p>=0?1:-1,y=1-p*p;if(y>Number.EPSILON){const b=Math.sqrt(y),S=Math.atan2(b,p*_);g=Math.sin(g*S)/b,a=Math.sin(a*S)/b}const w=a*_;if(l=l*g+h*w,c=c*g+f*w,u=u*g+v*w,d=d*g+m*w,g===1-a){const b=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=b,c*=b,u*=b,d*=b}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],f=s[o+2],v=s[o+3];return e[n]=a*v+u*d+l*f-c*h,e[n+1]=l*v+u*h+c*d-a*f,e[n+2]=c*v+u*f+a*h-l*d,e[n+3]=u*v-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),f=l(r/2),v=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*v,this._y=c*f*d-h*u*v,this._z=c*u*v+h*f*d,this._w=c*u*d-h*f*v;break;case"YXZ":this._x=h*u*d+c*f*v,this._y=c*f*d-h*u*v,this._z=c*u*v-h*f*d,this._w=c*u*d+h*f*v;break;case"ZXY":this._x=h*u*d-c*f*v,this._y=c*f*d+h*u*v,this._z=c*u*v+h*f*d,this._w=c*u*d-h*f*v;break;case"ZYX":this._x=h*u*d-c*f*v,this._y=c*f*d+h*u*v,this._z=c*u*v-h*f*d,this._w=c*u*d+h*f*v;break;case"YZX":this._x=h*u*d+c*f*v,this._y=c*f*d+h*u*v,this._z=c*u*v-h*f*d,this._w=c*u*d-h*f*v;break;case"XZY":this._x=h*u*d-c*f*v,this._y=c*f*d-h*u*v,this._z=c*u*v+h*f*d,this._w=c*u*d+h*f*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],d=n[10],h=i+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(i>a&&i>d){const f=2*Math.sqrt(1+i-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-i-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(dt(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-n;return this._w=f*o+n*this._w,this._x=f*i+n*this._x,this._y=f*r+n*this._y,this._z=f*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-n)*u)/c,h=Math.sin(n*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,n=0,i=0){ee.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(NR.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(NR.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[3]*i+s[6]*r,this.y=s[1]*n+s[4]*i+s[7]*r,this.z=s[2]*n+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*n+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*n+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*n+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*n+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*n-s*r),d=2*(s*i-o*n);return this.x=n+l*c+o*d-a*u,this.y=i+l*u+a*c-s*d,this.z=r+l*d+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*n+s[4]*i+s[8]*r,this.y=s[1]*n+s[5]*i+s[9]*r,this.z=s[2]*n+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=dt(this.x,e.x,n.x),this.y=dt(this.y,e.y,n.y),this.z=dt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=dt(this.x,e,n),this.y=dt(this.y,e,n),this.z=dt(this.z,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return A_.copy(this).projectOnVector(e),this.sub(A_)}reflect(e){return this.sub(A_.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(dt(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,i=Math.sqrt(1-n*n);return this.x=i*Math.cos(e),this.y=n,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const A_=new ee,NR=new wp;class tt{constructor(e,n,i,r,s,o,a,l,c){tt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c)}set(e,n,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],v=i[8],m=r[0],g=r[3],p=r[6],_=r[1],y=r[4],w=r[7],b=r[2],S=r[5],E=r[8];return s[0]=o*m+a*_+l*b,s[3]=o*g+a*y+l*S,s[6]=o*p+a*w+l*E,s[1]=c*m+u*_+d*b,s[4]=c*g+u*y+d*S,s[7]=c*p+u*w+d*E,s[2]=h*m+f*_+v*b,s[5]=h*g+f*y+v*S,s[8]=h*p+f*w+v*E,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,v=n*d+i*h+r*f;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/v;return e[0]=d*m,e[1]=(r*c-u*i)*m,e[2]=(a*i-r*o)*m,e[3]=h*m,e[4]=(u*n-r*l)*m,e[5]=(r*s-a*n)*m,e[6]=f*m,e[7]=(i*l-c*n)*m,e[8]=(o*n-i*s)*m,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(R_.makeScale(e,n)),this}rotate(e){return this.premultiply(R_.makeRotation(-e)),this}translate(e,n){return this.premultiply(R_.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const R_=new tt;function sF(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Sv(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Eoe(){const t=Sv("canvas");return t.style.display="block",t}const UR={};function qu(t){t in UR||(UR[t]=!0,console.warn(t))}function Toe(t,e,n){return new Promise(function(i,r){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:r();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:i()}}setTimeout(s,n)})}const FR=new tt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),zR=new tt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Moe(){const t={enabled:!0,workingColorSpace:Ad,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===St&&(r.r=Mo(r.r),r.g=Mo(r.g),r.b=Mo(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===St&&(r.r=Xu(r.r),r.g=Xu(r.g),r.b=Xu(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===fa?wv:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return qu("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return qu("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],i=[.3127,.329];return t.define({[Ad]:{primaries:e,whitePoint:i,transfer:wv,toXYZ:FR,fromXYZ:zR,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Er},outputColorSpaceConfig:{drawingBufferColorSpace:Er}},[Er]:{primaries:e,whitePoint:i,transfer:St,toXYZ:FR,fromXYZ:zR,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Er}}}),t}const gt=Moe();function Mo(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Xu(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Gc;class Coe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{Gc===void 0&&(Gc=Sv("canvas")),Gc.width=e.width,Gc.height=e.height;const r=Gc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=Gc}return i.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Sv("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=Mo(s[o]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(Mo(n[i]/255)*255):n[i]=Mo(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Poe=0;class q1{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Poe++}),this.uuid=xp(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(k_(r[o].image)):s.push(k_(r[o]))}else s=k_(r);i.url=s}return n||(e.images[this.uuid]=i),i}}function k_(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Coe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Aoe=0;const D_=new ee;class Ui extends Jd{constructor(e=Ui.DEFAULT_IMAGE,n=Ui.DEFAULT_MAPPING,i=Kl,r=Kl,s=Ls,o=Yl,a=as,l=No,c=Ui.DEFAULT_ANISOTROPY,u=fa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Aoe++}),this.uuid=xp(),this.name="",this.source=new q1(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new wt(0,0),this.repeat=new wt(1,1),this.center=new wt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new tt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(D_).x}get height(){return this.source.getSize(D_).y}get depth(){return this.source.getSize(D_).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==K3)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Nb:e.x=e.x-Math.floor(e.x);break;case Kl:e.x=e.x<0?0:1;break;case Ub:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Nb:e.y=e.y-Math.floor(e.y);break;case Kl:e.y=e.y<0?0:1;break;case Ub:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ui.DEFAULT_IMAGE=null;Ui.DEFAULT_MAPPING=K3;Ui.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,i=0,r=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*n+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*n+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*n+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],v=l[9],m=l[2],g=l[6],p=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-m)<.01&&Math.abs(v-g)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+m)<.1&&Math.abs(v+g)<.1&&Math.abs(c+f+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const y=(c+1)/2,w=(f+1)/2,b=(p+1)/2,S=(u+h)/4,E=(d+m)/4,P=(v+g)/4;return y>w&&y>b?y<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(y),r=S/i,s=E/i):w>b?w<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(w),i=S/r,s=P/r):b<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(b),i=E/s,r=P/s),this.set(i,r,s,n),this}let _=Math.sqrt((g-v)*(g-v)+(d-m)*(d-m)+(h-u)*(h-u));return Math.abs(_)<.001&&(_=1),this.x=(g-v)/_,this.y=(d-m)/_,this.z=(h-u)/_,this.w=Math.acos((c+f+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=dt(this.x,e.x,n.x),this.y=dt(this.y,e.y,n.y),this.z=dt(this.z,e.z,n.z),this.w=dt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=dt(this.x,e,n),this.y=dt(this.y,e,n),this.z=dt(this.z,e,n),this.w=dt(this.w,e,n),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(dt(i,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Roe extends Jd{constructor(e=1,n=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ls,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=i.depth,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const r={width:e,height:n,depth:i.depth},s=new Ui(r);this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const n={minFilter:Ls,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,i=1){if(this.width!==e||this.height!==n||this.depth!==i){this.width=e,this.height=n,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=n,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,i=e.textures.length;n<i;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const r=Object.assign({},e.textures[n].image);this.textures[n].source=new q1(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Tc extends Roe{constructor(e=1,n=1,i={}){super(e,n,i),this.isWebGLRenderTarget=!0}}class oF extends Ui{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=fs,this.minFilter=fs,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class koe extends Ui{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=fs,this.minFilter=fs,this.wrapR=Kl,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bp{constructor(e=new ee(1/0,1/0,1/0),n=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Hr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Hr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Hr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Hr):Hr.fromBufferAttribute(s,o),Hr.applyMatrix4(e.matrixWorld),this.expandByPoint(Hr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),bm.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),bm.copy(i.boundingBox)),bm.applyMatrix4(e.matrixWorld),this.union(bm)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Hr),Hr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(gh),Sm.subVectors(this.max,gh),$c.subVectors(e.a,gh),qc.subVectors(e.b,gh),Xc.subVectors(e.c,gh),Ko.subVectors(qc,$c),Yo.subVectors(Xc,qc),yl.subVectors($c,Xc);let n=[0,-Ko.z,Ko.y,0,-Yo.z,Yo.y,0,-yl.z,yl.y,Ko.z,0,-Ko.x,Yo.z,0,-Yo.x,yl.z,0,-yl.x,-Ko.y,Ko.x,0,-Yo.y,Yo.x,0,-yl.y,yl.x,0];return!I_(n,$c,qc,Xc,Sm)||(n=[1,0,0,0,1,0,0,0,1],!I_(n,$c,qc,Xc,Sm))?!1:(Em.crossVectors(Ko,Yo),n=[Em.x,Em.y,Em.z],I_(n,$c,qc,Xc,Sm))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Hr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Hr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Zs[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Zs[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Zs[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Zs[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Zs[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Zs[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Zs[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Zs[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Zs),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Zs=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Hr=new ee,bm=new bp,$c=new ee,qc=new ee,Xc=new ee,Ko=new ee,Yo=new ee,yl=new ee,gh=new ee,Sm=new ee,Em=new ee,_l=new ee;function I_(t,e,n,i,r){for(let s=0,o=t.length-3;s<=o;s+=3){_l.fromArray(t,s);const a=r.x*Math.abs(_l.x)+r.y*Math.abs(_l.y)+r.z*Math.abs(_l.z),l=e.dot(_l),c=n.dot(_l),u=i.dot(_l);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Doe=new bp,vh=new ee,L_=new ee;class X1{constructor(e=new ee,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):Doe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;vh.subVectors(e,this.center);const n=vh.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(vh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(L_.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(vh.copy(e.center).add(L_)),this.expandByPoint(vh.copy(e.center).sub(L_))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const eo=new ee,O_=new ee,Tm=new ee,Jo=new ee,N_=new ee,Mm=new ee,U_=new ee;class Ioe{constructor(e=new ee,n=new ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,eo)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=eo.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(eo.copy(this.origin).addScaledVector(this.direction,n),eo.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){O_.copy(e).add(n).multiplyScalar(.5),Tm.copy(n).sub(e).normalize(),Jo.copy(this.origin).sub(O_);const s=e.distanceTo(n)*.5,o=-this.direction.dot(Tm),a=Jo.dot(this.direction),l=-Jo.dot(Tm),c=Jo.lengthSq(),u=Math.abs(1-o*o);let d,h,f,v;if(u>0)if(d=o*l-a,h=o*a-l,v=s*u,d>=0)if(h>=-v)if(h<=v){const m=1/u;d*=m,h*=m,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-v?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=v?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(O_).addScaledVector(Tm,h),f}intersectSphere(e,n){eo.subVectors(e.center,this.origin);const i=eo.dot(this.direction),r=eo.dot(eo)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,eo)!==null}intersectTriangle(e,n,i,r,s){N_.subVectors(n,e),Mm.subVectors(i,e),U_.crossVectors(N_,Mm);let o=this.direction.dot(U_),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Jo.subVectors(this.origin,e);const l=a*this.direction.dot(Mm.crossVectors(Jo,Mm));if(l<0)return null;const c=a*this.direction.dot(N_.cross(Jo));if(c<0||l+c>o)return null;const u=-a*Jo.dot(U_);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class An{constructor(e,n,i,r,s,o,a,l,c,u,d,h,f,v,m,g){An.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,i,r,s,o,a,l,c,u,d,h,f,v,m,g)}set(e,n,i,r,s,o,a,l,c,u,d,h,f,v,m,g){const p=this.elements;return p[0]=e,p[4]=n,p[8]=i,p[12]=r,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=d,p[14]=h,p[3]=f,p[7]=v,p[11]=m,p[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new An().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/Kc.setFromMatrixColumn(e,0).length(),s=1/Kc.setFromMatrixColumn(e,1).length(),o=1/Kc.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*s,n[5]=i[5]*s,n[6]=i[6]*s,n[7]=0,n[8]=i[8]*o,n[9]=i[9]*o,n[10]=i[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*u,f=o*d,v=a*u,m=a*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=f+v*c,n[5]=h-m*c,n[9]=-a*l,n[2]=m-h*c,n[6]=v+f*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*u,f=l*d,v=c*u,m=c*d;n[0]=h+m*a,n[4]=v*a-f,n[8]=o*c,n[1]=o*d,n[5]=o*u,n[9]=-a,n[2]=f*a-v,n[6]=m+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*u,f=l*d,v=c*u,m=c*d;n[0]=h-m*a,n[4]=-o*d,n[8]=v+f*a,n[1]=f+v*a,n[5]=o*u,n[9]=m-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*u,f=o*d,v=a*u,m=a*d;n[0]=l*u,n[4]=v*c-f,n[8]=h*c+m,n[1]=l*d,n[5]=m*c+h,n[9]=f*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,f=o*c,v=a*l,m=a*c;n[0]=l*u,n[4]=m-h*d,n[8]=v*d+f,n[1]=d,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=f*d+v,n[10]=h-m*d}else if(e.order==="XZY"){const h=o*l,f=o*c,v=a*l,m=a*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=h*d+m,n[5]=o*u,n[9]=f*d-v,n[2]=v*d-f,n[6]=a*u,n[10]=m*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Loe,e,Ooe)}lookAt(e,n,i){const r=this.elements;return $i.subVectors(e,n),$i.lengthSq()===0&&($i.z=1),$i.normalize(),Qo.crossVectors(i,$i),Qo.lengthSq()===0&&(Math.abs(i.z)===1?$i.x+=1e-4:$i.z+=1e-4,$i.normalize(),Qo.crossVectors(i,$i)),Qo.normalize(),Cm.crossVectors($i,Qo),r[0]=Qo.x,r[4]=Cm.x,r[8]=$i.x,r[1]=Qo.y,r[5]=Cm.y,r[9]=$i.y,r[2]=Qo.z,r[6]=Cm.z,r[10]=$i.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],v=i[2],m=i[6],g=i[10],p=i[14],_=i[3],y=i[7],w=i[11],b=i[15],S=r[0],E=r[4],P=r[8],T=r[12],C=r[1],R=r[5],N=r[9],I=r[13],O=r[2],H=r[6],V=r[10],z=r[14],D=r[3],B=r[7],K=r[11],ne=r[15];return s[0]=o*S+a*C+l*O+c*D,s[4]=o*E+a*R+l*H+c*B,s[8]=o*P+a*N+l*V+c*K,s[12]=o*T+a*I+l*z+c*ne,s[1]=u*S+d*C+h*O+f*D,s[5]=u*E+d*R+h*H+f*B,s[9]=u*P+d*N+h*V+f*K,s[13]=u*T+d*I+h*z+f*ne,s[2]=v*S+m*C+g*O+p*D,s[6]=v*E+m*R+g*H+p*B,s[10]=v*P+m*N+g*V+p*K,s[14]=v*T+m*I+g*z+p*ne,s[3]=_*S+y*C+w*O+b*D,s[7]=_*E+y*R+w*H+b*B,s[11]=_*P+y*N+w*V+b*K,s[15]=_*T+y*I+w*z+b*ne,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14],v=e[3],m=e[7],g=e[11],p=e[15];return v*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*f-i*l*f)+m*(+n*l*f-n*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+g*(+n*c*d-n*a*f-s*o*d+i*o*f+s*a*u-i*c*u)+p*(-r*a*u-n*l*d+n*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],v=e[12],m=e[13],g=e[14],p=e[15],_=d*g*c-m*h*c+m*l*f-a*g*f-d*l*p+a*h*p,y=v*h*c-u*g*c-v*l*f+o*g*f+u*l*p-o*h*p,w=u*m*c-v*d*c+v*a*f-o*m*f-u*a*p+o*d*p,b=v*d*l-u*m*l-v*a*h+o*m*h+u*a*g-o*d*g,S=n*_+i*y+r*w+s*b;if(S===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const E=1/S;return e[0]=_*E,e[1]=(m*h*s-d*g*s-m*r*f+i*g*f+d*r*p-i*h*p)*E,e[2]=(a*g*s-m*l*s+m*r*c-i*g*c-a*r*p+i*l*p)*E,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*f-i*l*f)*E,e[4]=y*E,e[5]=(u*g*s-v*h*s+v*r*f-n*g*f-u*r*p+n*h*p)*E,e[6]=(v*l*s-o*g*s-v*r*c+n*g*c+o*r*p-n*l*p)*E,e[7]=(o*h*s-u*l*s+u*r*c-n*h*c-o*r*f+n*l*f)*E,e[8]=w*E,e[9]=(v*d*s-u*m*s-v*i*f+n*m*f+u*i*p-n*d*p)*E,e[10]=(o*m*s-v*a*s+v*i*c-n*m*c-o*i*p+n*a*p)*E,e[11]=(u*a*s-o*d*s-u*i*c+n*d*c+o*i*f-n*a*f)*E,e[12]=b*E,e[13]=(u*m*r-v*d*r+v*i*h-n*m*h-u*i*g+n*d*g)*E,e[14]=(v*a*r-o*m*r-v*i*l+n*m*l+o*i*g-n*a*g)*E,e[15]=(o*d*r-u*a*r+u*i*l-n*d*l-o*i*h+n*a*h)*E,this}scale(e){const n=this.elements,i=e.x,r=e.y,s=e.z;return n[0]*=i,n[4]*=r,n[8]*=s,n[1]*=i,n[5]*=r,n[9]*=s,n[2]*=i,n[6]*=r,n[10]*=s,n[3]*=i,n[7]*=r,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,v=s*d,m=o*u,g=o*d,p=a*d,_=l*c,y=l*u,w=l*d,b=i.x,S=i.y,E=i.z;return r[0]=(1-(m+p))*b,r[1]=(f+w)*b,r[2]=(v-y)*b,r[3]=0,r[4]=(f-w)*S,r[5]=(1-(h+p))*S,r[6]=(g+_)*S,r[7]=0,r[8]=(v+y)*E,r[9]=(g-_)*E,r[10]=(1-(h+m))*E,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let s=Kc.set(r[0],r[1],r[2]).length();const o=Kc.set(r[4],r[5],r[6]).length(),a=Kc.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Wr.copy(this);const c=1/s,u=1/o,d=1/a;return Wr.elements[0]*=c,Wr.elements[1]*=c,Wr.elements[2]*=c,Wr.elements[4]*=u,Wr.elements[5]*=u,Wr.elements[6]*=u,Wr.elements[8]*=d,Wr.elements[9]*=d,Wr.elements[10]*=d,n.setFromRotationMatrix(Wr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,n,i,r,s,o,a=Os,l=!1){const c=this.elements,u=2*s/(n-e),d=2*s/(i-r),h=(n+e)/(n-e),f=(i+r)/(i-r);let v,m;if(l)v=s/(o-s),m=o*s/(o-s);else if(a===Os)v=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(a===bv)v=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=u,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=d,c[9]=f,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=m,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,i,r,s,o,a=Os,l=!1){const c=this.elements,u=2/(n-e),d=2/(i-r),h=-(n+e)/(n-e),f=-(i+r)/(i-r);let v,m;if(l)v=1/(o-s),m=o/(o-s);else if(a===Os)v=-2/(o-s),m=-(o+s)/(o-s);else if(a===bv)v=-1/(o-s),m=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=u,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=d,c[9]=0,c[13]=f,c[2]=0,c[6]=0,c[10]=v,c[14]=m,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const Kc=new ee,Wr=new An,Loe=new ee(0,0,0),Ooe=new ee(1,1,1),Qo=new ee,Cm=new ee,$i=new ee,jR=new An,BR=new wp;class Uo{constructor(e=0,n=0,i=0,r=Uo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],d=r[2],h=r[6],f=r[10];switch(n){case"XYZ":this._y=Math.asin(dt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-dt(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(dt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,f),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-dt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(dt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,f));break;case"XZY":this._z=Math.asin(-dt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return jR.makeRotationFromQuaternion(e),this.setFromRotationMatrix(jR,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return BR.setFromEuler(this),this.setFromQuaternion(BR,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Uo.DEFAULT_ORDER="XYZ";class aF{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Noe=0;const VR=new ee,Yc=new wp,to=new An,Pm=new ee,yh=new ee,Uoe=new ee,Foe=new wp,HR=new ee(1,0,0),WR=new ee(0,1,0),GR=new ee(0,0,1),$R={type:"added"},zoe={type:"removed"},Jc={type:"childadded",child:null},F_={type:"childremoved",child:null};class sr extends Jd{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Noe++}),this.uuid=xp(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=sr.DEFAULT_UP.clone();const e=new ee,n=new Uo,i=new wp,r=new ee(1,1,1);function s(){i.setFromEuler(n,!1)}function o(){n.setFromQuaternion(i,void 0,!1)}n._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new An},normalMatrix:{value:new tt}}),this.matrix=new An,this.matrixWorld=new An,this.matrixAutoUpdate=sr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new aF,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Yc.setFromAxisAngle(e,n),this.quaternion.multiply(Yc),this}rotateOnWorldAxis(e,n){return Yc.setFromAxisAngle(e,n),this.quaternion.premultiply(Yc),this}rotateX(e){return this.rotateOnAxis(HR,e)}rotateY(e){return this.rotateOnAxis(WR,e)}rotateZ(e){return this.rotateOnAxis(GR,e)}translateOnAxis(e,n){return VR.copy(e).applyQuaternion(this.quaternion),this.position.add(VR.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(HR,e)}translateY(e){return this.translateOnAxis(WR,e)}translateZ(e){return this.translateOnAxis(GR,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(to.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Pm.copy(e):Pm.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),yh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?to.lookAt(yh,Pm,this.up):to.lookAt(Pm,yh,this.up),this.quaternion.setFromRotationMatrix(to),r&&(to.extractRotation(r.matrixWorld),Yc.setFromRotationMatrix(to),this.quaternion.premultiply(Yc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent($R),Jc.child=e,this.dispatchEvent(Jc),Jc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(zoe),F_.child=e,this.dispatchEvent(F_),F_.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),to.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),to.multiply(e.parent.matrixWorld)),e.applyMatrix4(to),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent($R),Jc.child=e,this.dispatchEvent(Jc),Jc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,i=[]){this[e]===n&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,n,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yh,e,Uoe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(yh,Foe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].updateMatrixWorld(e)}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(a=>({...a})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),d=o(e.shapes),h=o(e.skeletons),f=o(e.animations),v=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),d.length>0&&(i.shapes=d),h.length>0&&(i.skeletons=h),f.length>0&&(i.animations=f),v.length>0&&(i.nodes=v)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}sr.DEFAULT_UP=new ee(0,1,0);sr.DEFAULT_MATRIX_AUTO_UPDATE=!0;sr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Gr=new ee,no=new ee,z_=new ee,io=new ee,Qc=new ee,Zc=new ee,qR=new ee,j_=new ee,B_=new ee,V_=new ee,H_=new dn,W_=new dn,G_=new dn;class ss{constructor(e=new ee,n=new ee,i=new ee){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),Gr.subVectors(e,n),r.cross(Gr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,n,i,r,s){Gr.subVectors(r,n),no.subVectors(i,n),z_.subVectors(e,n);const o=Gr.dot(Gr),a=Gr.dot(no),l=Gr.dot(z_),c=no.dot(no),u=no.dot(z_),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const h=1/d,f=(c*l-a*u)*h,v=(o*u-a*l)*h;return s.set(1-f-v,v,f)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,io)===null?!1:io.x>=0&&io.y>=0&&io.x+io.y<=1}static getInterpolation(e,n,i,r,s,o,a,l){return this.getBarycoord(e,n,i,r,io)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,io.x),l.addScaledVector(o,io.y),l.addScaledVector(a,io.z),l)}static getInterpolatedAttribute(e,n,i,r,s,o){return H_.setScalar(0),W_.setScalar(0),G_.setScalar(0),H_.fromBufferAttribute(e,n),W_.fromBufferAttribute(e,i),G_.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(H_,s.x),o.addScaledVector(W_,s.y),o.addScaledVector(G_,s.z),o}static isFrontFacing(e,n,i,r){return Gr.subVectors(i,n),no.subVectors(e,n),Gr.cross(no).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Gr.subVectors(this.c,this.b),no.subVectors(this.a,this.b),Gr.cross(no).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ss.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ss.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,i,r,s){return ss.getInterpolation(e,this.a,this.b,this.c,n,i,r,s)}containsPoint(e){return ss.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ss.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,s=this.c;let o,a;Qc.subVectors(r,i),Zc.subVectors(s,i),j_.subVectors(e,i);const l=Qc.dot(j_),c=Zc.dot(j_);if(l<=0&&c<=0)return n.copy(i);B_.subVectors(e,r);const u=Qc.dot(B_),d=Zc.dot(B_);if(u>=0&&d<=u)return n.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(i).addScaledVector(Qc,o);V_.subVectors(e,s);const f=Qc.dot(V_),v=Zc.dot(V_);if(v>=0&&f<=v)return n.copy(s);const m=f*c-l*v;if(m<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(i).addScaledVector(Zc,a);const g=u*v-f*d;if(g<=0&&d-u>=0&&f-v>=0)return qR.subVectors(s,r),a=(d-u)/(d-u+(f-v)),n.copy(r).addScaledVector(qR,a);const p=1/(g+m+h);return o=m*p,a=h*p,n.copy(i).addScaledVector(Qc,o).addScaledVector(Zc,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const lF={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Zo={h:0,s:0,l:0},Am={h:0,s:0,l:0};function $_(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Et{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,i)}set(e,n,i){if(n===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,n,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Er){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,gt.colorSpaceToWorking(this,n),this}setRGB(e,n,i,r=gt.workingColorSpace){return this.r=e,this.g=n,this.b=i,gt.colorSpaceToWorking(this,r),this}setHSL(e,n,i,r=gt.workingColorSpace){if(e=Soe(e,1),n=dt(n,0,1),i=dt(i,0,1),n===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+n):i+n-i*n,o=2*i-s;this.r=$_(o,s,e+1/3),this.g=$_(o,s,e),this.b=$_(o,s,e-1/3)}return gt.colorSpaceToWorking(this,r),this}setStyle(e,n=Er){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Er){const i=lF[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mo(e.r),this.g=Mo(e.g),this.b=Mo(e.b),this}copyLinearToSRGB(e){return this.r=Xu(e.r),this.g=Xu(e.g),this.b=Xu(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Er){return gt.workingToColorSpace(Xn.copy(this),e),Math.round(dt(Xn.r*255,0,255))*65536+Math.round(dt(Xn.g*255,0,255))*256+Math.round(dt(Xn.b*255,0,255))}getHexString(e=Er){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=gt.workingColorSpace){gt.workingToColorSpace(Xn.copy(this),n);const i=Xn.r,r=Xn.g,s=Xn.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=gt.workingColorSpace){return gt.workingToColorSpace(Xn.copy(this),n),e.r=Xn.r,e.g=Xn.g,e.b=Xn.b,e}getStyle(e=Er){gt.workingToColorSpace(Xn.copy(this),e);const n=Xn.r,i=Xn.g,r=Xn.b;return e!==Er?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(Zo),this.setHSL(Zo.h+e,Zo.s+n,Zo.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(Zo),e.getHSL(Am);const i=P_(Zo.h,Am.h,n),r=P_(Zo.s,Am.s,n),s=P_(Zo.l,Am.l,n);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*n+s[3]*i+s[6]*r,this.g=s[1]*n+s[4]*i+s[7]*r,this.b=s[2]*n+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Xn=new Et;Et.NAMES=lF;let joe=0;class Iy extends Jd{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:joe++}),this.uuid=xp(),this.name="",this.type="Material",this.blending=$u,this.side=el,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tb,this.blendDst=Mb,this.blendEquation=Ul,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=Md,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IR,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Wc,this.stencilZFail=Wc,this.stencilZPass=Wc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==$u&&(i.blending=this.blending),this.side!==el&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Tb&&(i.blendSrc=this.blendSrc),this.blendDst!==Mb&&(i.blendDst=this.blendDst),this.blendEquation!==Ul&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Md&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==IR&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Wc&&(i.stencilFail=this.stencilFail),this.stencilZFail!==Wc&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==Wc&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=n[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class cF extends Iy{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Uo,this.combine=X3,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const fn=new ee,Rm=new wt;let Boe=0;class Gs{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Boe++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=LR,this.updateRanges=[],this.gpuType=So,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)Rm.fromBufferAttribute(this,n),Rm.applyMatrix3(e),this.setXY(n,Rm.x,Rm.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)fn.fromBufferAttribute(this,n),fn.applyMatrix3(e),this.setXYZ(n,fn.x,fn.y,fn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)fn.fromBufferAttribute(this,n),fn.applyMatrix4(e),this.setXYZ(n,fn.x,fn.y,fn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)fn.fromBufferAttribute(this,n),fn.applyNormalMatrix(e),this.setXYZ(n,fn.x,fn.y,fn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)fn.fromBufferAttribute(this,n),fn.transformDirection(e),this.setXYZ(n,fn.x,fn.y,fn.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let i=this.array[e*this.itemSize+n];return this.normalized&&(i=mh(i,this.array)),i}setComponent(e,n,i){return this.normalized&&(i=Mi(i,this.array)),this.array[e*this.itemSize+n]=i,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=mh(n,this.array)),n}setX(e,n){return this.normalized&&(n=Mi(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=mh(n,this.array)),n}setY(e,n){return this.normalized&&(n=Mi(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=mh(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Mi(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=mh(n,this.array)),n}setW(e,n){return this.normalized&&(n=Mi(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=Mi(n,this.array),i=Mi(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=Mi(n,this.array),i=Mi(i,this.array),r=Mi(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,s){return e*=this.itemSize,this.normalized&&(n=Mi(n,this.array),i=Mi(i,this.array),r=Mi(r,this.array),s=Mi(s,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==LR&&(e.usage=this.usage),e}}class uF extends Gs{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class dF extends Gs{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class cc extends Gs{constructor(e,n,i){super(new Float32Array(e),n,i)}}let Voe=0;const _r=new An,q_=new sr,eu=new ee,qi=new bp,_h=new bp,Dn=new ee;class kc extends Jd{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Voe++}),this.uuid=xp(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(sF(e)?dF:uF)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new tt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return _r.makeRotationFromQuaternion(e),this.applyMatrix4(_r),this}rotateX(e){return _r.makeRotationX(e),this.applyMatrix4(_r),this}rotateY(e){return _r.makeRotationY(e),this.applyMatrix4(_r),this}rotateZ(e){return _r.makeRotationZ(e),this.applyMatrix4(_r),this}translate(e,n,i){return _r.makeTranslation(e,n,i),this.applyMatrix4(_r),this}scale(e,n,i){return _r.makeScale(e,n,i),this.applyMatrix4(_r),this}lookAt(e){return q_.lookAt(e),q_.updateMatrix(),this.applyMatrix4(q_.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(eu).negate(),this.translate(eu.x,eu.y,eu.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new cc(i,3))}else{const i=Math.min(e.length,n.count);for(let r=0;r<i;r++){const s=e[r];n.setXYZ(r,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new bp);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const s=n[i];qi.setFromBufferAttribute(s),this.morphTargetsRelative?(Dn.addVectors(this.boundingBox.min,qi.min),this.boundingBox.expandByPoint(Dn),Dn.addVectors(this.boundingBox.max,qi.max),this.boundingBox.expandByPoint(Dn)):(this.boundingBox.expandByPoint(qi.min),this.boundingBox.expandByPoint(qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new X1);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const i=this.boundingSphere.center;if(qi.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];_h.setFromBufferAttribute(a),this.morphTargetsRelative?(Dn.addVectors(qi.min,_h.min),qi.expandByPoint(Dn),Dn.addVectors(qi.max,_h.max),qi.expandByPoint(Dn)):(qi.expandByPoint(_h.min),qi.expandByPoint(_h.max))}qi.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Dn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Dn));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Dn.fromBufferAttribute(a,c),l&&(eu.fromBufferAttribute(e,c),Dn.add(eu)),r=Math.max(r,i.distanceToSquared(Dn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=n.position,r=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gs(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<i.count;P++)a[P]=new ee,l[P]=new ee;const c=new ee,u=new ee,d=new ee,h=new wt,f=new wt,v=new wt,m=new ee,g=new ee;function p(P,T,C){c.fromBufferAttribute(i,P),u.fromBufferAttribute(i,T),d.fromBufferAttribute(i,C),h.fromBufferAttribute(s,P),f.fromBufferAttribute(s,T),v.fromBufferAttribute(s,C),u.sub(c),d.sub(c),f.sub(h),v.sub(h);const R=1/(f.x*v.y-v.x*f.y);isFinite(R)&&(m.copy(u).multiplyScalar(v.y).addScaledVector(d,-f.y).multiplyScalar(R),g.copy(d).multiplyScalar(f.x).addScaledVector(u,-v.x).multiplyScalar(R),a[P].add(m),a[T].add(m),a[C].add(m),l[P].add(g),l[T].add(g),l[C].add(g))}let _=this.groups;_.length===0&&(_=[{start:0,count:e.count}]);for(let P=0,T=_.length;P<T;++P){const C=_[P],R=C.start,N=C.count;for(let I=R,O=R+N;I<O;I+=3)p(e.getX(I+0),e.getX(I+1),e.getX(I+2))}const y=new ee,w=new ee,b=new ee,S=new ee;function E(P){b.fromBufferAttribute(r,P),S.copy(b);const T=a[P];y.copy(T),y.sub(b.multiplyScalar(b.dot(T))).normalize(),w.crossVectors(S,T);const R=w.dot(l[P])<0?-1:1;o.setXYZW(P,y.x,y.y,y.z,R)}for(let P=0,T=_.length;P<T;++P){const C=_[P],R=C.start,N=C.count;for(let I=R,O=R+N;I<O;I+=3)E(e.getX(I+0)),E(e.getX(I+1)),E(e.getX(I+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Gs(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new ee,s=new ee,o=new ee,a=new ee,l=new ee,c=new ee,u=new ee,d=new ee;if(e)for(let h=0,f=e.count;h<f;h+=3){const v=e.getX(h+0),m=e.getX(h+1),g=e.getX(h+2);r.fromBufferAttribute(n,v),s.fromBufferAttribute(n,m),o.fromBufferAttribute(n,g),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,v),l.fromBufferAttribute(i,m),c.fromBufferAttribute(i,g),a.add(u),l.add(u),c.add(u),i.setXYZ(v,a.x,a.y,a.z),i.setXYZ(m,l.x,l.y,l.z),i.setXYZ(g,c.x,c.y,c.z)}else for(let h=0,f=n.count;h<f;h+=3)r.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)Dn.fromBufferAttribute(e,n),Dn.normalize(),e.setXYZ(n,Dn.x,Dn.y,Dn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,v=0;for(let m=0,g=l.length;m<g;m++){a.isInterleavedBufferAttribute?f=l[m]*a.data.stride+a.offset:f=l[m]*u;for(let p=0;p<u;p++)h[v++]=c[f++]}return new Gs(h,u,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kc,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const h=c[u],f=e(h,i);l.push(f)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++){const f=c[d];u.push(f.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XR=new An,xl=new Ioe,km=new X1,KR=new ee,Dm=new ee,Im=new ee,Lm=new ee,X_=new ee,Om=new ee,YR=new ee,Nm=new ee;class Ns extends sr{constructor(e=new kc,n=new cF){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){Om.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];u!==0&&(X_.fromBufferAttribute(d,e),o?Om.addScaledVector(X_,u):Om.addScaledVector(X_.sub(n),u))}n.add(Om)}return n}raycast(e,n){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),km.copy(i.boundingSphere),km.applyMatrix4(s),xl.copy(e.ray).recast(e.near),!(km.containsPoint(xl.origin)===!1&&(xl.intersectSphere(km,KR)===null||xl.origin.distanceToSquared(KR)>(e.far-e.near)**2))&&(XR.copy(s).invert(),xl.copy(e.ray).applyMatrix4(XR),!(i.boundingBox!==null&&xl.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n,xl)))}_computeIntersections(e,n,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,h=s.groups,f=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,m=h.length;v<m;v++){const g=h[v],p=o[g.materialIndex],_=Math.max(g.start,f.start),y=Math.min(a.count,Math.min(g.start+g.count,f.start+f.count));for(let w=_,b=y;w<b;w+=3){const S=a.getX(w),E=a.getX(w+1),P=a.getX(w+2);r=Um(this,p,e,i,c,u,d,S,E,P),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,n.push(r))}}else{const v=Math.max(0,f.start),m=Math.min(a.count,f.start+f.count);for(let g=v,p=m;g<p;g+=3){const _=a.getX(g),y=a.getX(g+1),w=a.getX(g+2);r=Um(this,o,e,i,c,u,d,_,y,w),r&&(r.faceIndex=Math.floor(g/3),n.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,m=h.length;v<m;v++){const g=h[v],p=o[g.materialIndex],_=Math.max(g.start,f.start),y=Math.min(l.count,Math.min(g.start+g.count,f.start+f.count));for(let w=_,b=y;w<b;w+=3){const S=w,E=w+1,P=w+2;r=Um(this,p,e,i,c,u,d,S,E,P),r&&(r.faceIndex=Math.floor(w/3),r.face.materialIndex=g.materialIndex,n.push(r))}}else{const v=Math.max(0,f.start),m=Math.min(l.count,f.start+f.count);for(let g=v,p=m;g<p;g+=3){const _=g,y=g+1,w=g+2;r=Um(this,o,e,i,c,u,d,_,y,w),r&&(r.faceIndex=Math.floor(g/3),n.push(r))}}}}function Hoe(t,e,n,i,r,s,o,a){let l;if(e.side===Ni?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===el,a),l===null)return null;Nm.copy(a),Nm.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Nm);return c<n.near||c>n.far?null:{distance:c,point:Nm.clone(),object:t}}function Um(t,e,n,i,r,s,o,a,l,c){t.getVertexPosition(a,Dm),t.getVertexPosition(l,Im),t.getVertexPosition(c,Lm);const u=Hoe(t,e,n,i,Dm,Im,Lm,YR);if(u){const d=new ee;ss.getBarycoord(YR,Dm,Im,Lm,d),r&&(u.uv=ss.getInterpolatedAttribute(r,a,l,c,d,new wt)),s&&(u.uv1=ss.getInterpolatedAttribute(s,a,l,c,d,new wt)),o&&(u.normal=ss.getInterpolatedAttribute(o,a,l,c,d,new ee),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new ee,materialIndex:0};ss.getNormal(Dm,Im,Lm,h.normal),u.face=h,u.barycoord=d}return u}class Sp extends kc{constructor(e=1,n=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;v("z","y","x",-1,-1,i,n,e,o,s,0),v("z","y","x",1,-1,i,n,-e,o,s,1),v("x","z","y",1,1,e,i,n,r,o,2),v("x","z","y",1,-1,e,i,-n,r,o,3),v("x","y","z",1,-1,e,n,i,r,s,4),v("x","y","z",-1,-1,e,n,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new cc(c,3)),this.setAttribute("normal",new cc(u,3)),this.setAttribute("uv",new cc(d,2));function v(m,g,p,_,y,w,b,S,E,P,T){const C=w/E,R=b/P,N=w/2,I=b/2,O=S/2,H=E+1,V=P+1;let z=0,D=0;const B=new ee;for(let K=0;K<V;K++){const ne=K*R-I;for(let te=0;te<H;te++){const ye=te*C-N;B[m]=ye*_,B[g]=ne*y,B[p]=O,c.push(B.x,B.y,B.z),B[m]=0,B[g]=0,B[p]=S>0?1:-1,u.push(B.x,B.y,B.z),d.push(te/E),d.push(1-K/P),z+=1}}for(let K=0;K<P;K++)for(let ne=0;ne<E;ne++){const te=h+ne+H*K,ye=h+ne+H*(K+1),pe=h+(ne+1)+H*(K+1),Y=h+(ne+1)+H*K;l.push(te,ye,Y),l.push(ye,pe,Y),D+=6}a.addGroup(f,D,T),f+=D,h+=z}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rd(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function ci(t){const e={};for(let n=0;n<t.length;n++){const i=Rd(t[n]);for(const r in i)e[r]=i[r]}return e}function Woe(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function hF(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:gt.workingColorSpace}const Goe={clone:Rd,merge:ci};var $oe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qoe=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Fo extends Iy{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=$oe,this.fragmentShader=qoe,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rd(e.uniforms),this.uniformsGroups=Woe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?n.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[r]={type:"m4",value:o.toArray()}:n.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class K1 extends sr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new An,this.projectionMatrix=new An,this.projectionMatrixInverse=new An,this.coordinateSystem=Os,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ea=new ee,JR=new wt,QR=new wt;class ns extends K1{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=uS*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(C_*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return uS*2*Math.atan(Math.tan(C_*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,i){ea.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ea.x,ea.y).multiplyScalar(-e/ea.z),ea.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ea.x,ea.y).multiplyScalar(-e/ea.z)}getViewSize(e,n){return this.getViewBounds(e,JR,QR),n.subVectors(QR,JR)}setViewOffset(e,n,i,r,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(C_*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,n-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,n,n-i,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const tu=-90,nu=1;class Xoe extends sr{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ns(tu,nu,e,n);r.layers=this.layers,this.add(r);const s=new ns(tu,nu,e,n);s.layers=this.layers,this.add(s);const o=new ns(tu,nu,e,n);o.layers=this.layers,this.add(o);const a=new ns(tu,nu,e,n);a.layers=this.layers,this.add(a);const l=new ns(tu,nu,e,n);l.layers=this.layers,this.add(l);const c=new ns(tu,nu,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[i,r,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Os)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bv)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const m=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(n,s),e.setRenderTarget(i,1,r),e.render(n,o),e.setRenderTarget(i,2,r),e.render(n,a),e.setRenderTarget(i,3,r),e.render(n,l),e.setRenderTarget(i,4,r),e.render(n,c),i.texture.generateMipmaps=m,e.setRenderTarget(i,5,r),e.render(n,u),e.setRenderTarget(d,h,f),e.xr.enabled=v,i.texture.needsPMREMUpdate=!0}}class fF extends Ui{constructor(e=[],n=Cd,i,r,s,o,a,l,c,u){super(e,n,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Koe extends Tc{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new fF(r),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new Sp(5,5,5),s=new Fo({name:"CubemapFromEquirect",uniforms:Rd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ni,blending:ja});s.uniforms.tEquirect.value=n;const o=new Ns(r,s),a=n.minFilter;return n.minFilter===Yl&&(n.minFilter=Ls),new Xoe(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,i,r);e.setRenderTarget(s)}}class Fm extends sr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yoe={type:"move"};class K_{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const m of e.hand.values()){const g=n.getJointPose(m,i),p=this._getHandJoint(c,m);g!==null&&(p.matrix.fromArray(g.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=g.radius),p.visible=g!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=u.position.distanceTo(d.position),f=.02,v=.005;c.inputState.pinching&&h>f+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Yoe)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new Fm;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class Joe extends sr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Uo,this.environmentIntensity=1,this.environmentRotation=new Uo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}const Y_=new ee,Qoe=new ee,Zoe=new tt;class Dl{constructor(e=new ee(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=Y_.subVectors(i,n).cross(Qoe.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(Y_),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:n.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Zoe.getNormalMatrix(e),r=this.coplanarPoint(Y_).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const wl=new X1,eae=new wt(.5,.5),zm=new ee;class pF{constructor(e=new Dl,n=new Dl,i=new Dl,r=new Dl,s=new Dl,o=new Dl){this.planes=[e,n,i,r,s,o]}set(e,n,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,n=Os,i=!1){const r=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],u=s[4],d=s[5],h=s[6],f=s[7],v=s[8],m=s[9],g=s[10],p=s[11],_=s[12],y=s[13],w=s[14],b=s[15];if(r[0].setComponents(c-o,f-u,p-v,b-_).normalize(),r[1].setComponents(c+o,f+u,p+v,b+_).normalize(),r[2].setComponents(c+a,f+d,p+m,b+y).normalize(),r[3].setComponents(c-a,f-d,p-m,b-y).normalize(),i)r[4].setComponents(l,h,g,w).normalize(),r[5].setComponents(c-l,f-h,p-g,b-w).normalize();else if(r[4].setComponents(c-l,f-h,p-g,b-w).normalize(),n===Os)r[5].setComponents(c+l,f+h,p+g,b+w).normalize();else if(n===bv)r[5].setComponents(l,h,g,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),wl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),wl.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(wl)}intersectsSprite(e){wl.center.set(0,0,0);const n=eae.distanceTo(e.center);return wl.radius=.7071067811865476+n,wl.applyMatrix4(e.matrixWorld),this.intersectsSphere(wl)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(zm.x=r.normal.x>0?e.max.x:e.min.x,zm.y=r.normal.y>0?e.max.y:e.min.y,zm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(zm)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class mF extends Ui{constructor(e,n,i=Ec,r,s,o,a=fs,l=fs,c,u=Hf,d=1){if(u!==Hf&&u!==Wf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:d};super(h,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new q1(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Ep extends kc{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const s=e/2,o=n/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=n/l,f=[],v=[],m=[],g=[];for(let p=0;p<u;p++){const _=p*h-o;for(let y=0;y<c;y++){const w=y*d-s;v.push(w,-_,0),m.push(0,0,1),g.push(y/a),g.push(1-p/l)}}for(let p=0;p<l;p++)for(let _=0;_<a;_++){const y=_+c*p,w=_+c*(p+1),b=_+1+c*(p+1),S=_+1+c*p;f.push(y,w,S),f.push(w,b,S)}this.setIndex(f),this.setAttribute("position",new cc(v,3)),this.setAttribute("normal",new cc(m,3)),this.setAttribute("uv",new cc(g,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ep(e.width,e.height,e.widthSegments,e.heightSegments)}}class tae extends Iy{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=hoe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class nae extends Iy{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class iae extends K1{constructor(e=-1,n=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+n,l=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class rae extends ns{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}function ZR(t,e,n,i){const r=sae(i);switch(n){case Z3:return t*e;case tF:return t*e/r.components*r.byteLength;case W1:return t*e/r.components*r.byteLength;case nF:return t*e*2/r.components*r.byteLength;case G1:return t*e*2/r.components*r.byteLength;case eF:return t*e*3/r.components*r.byteLength;case as:return t*e*4/r.components*r.byteLength;case $1:return t*e*4/r.components*r.byteLength;case gg:case vg:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case yg:case _g:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case zb:case Bb:return Math.max(t,16)*Math.max(e,8)/4;case Fb:case jb:return Math.max(t,8)*Math.max(e,8)/2;case Vb:case Hb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Wb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Gb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case $b:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case qb:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Xb:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Kb:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case Yb:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Jb:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Qb:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Zb:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case eS:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case tS:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case nS:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case iS:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case rS:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case xg:case sS:case oS:return Math.ceil(t/4)*Math.ceil(e/4)*16;case iF:case aS:return Math.ceil(t/4)*Math.ceil(e/4)*8;case lS:case cS:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function sae(t){switch(t){case No:case Y3:return{byteLength:1,components:1};case Bf:case J3:case _p:return{byteLength:2,components:1};case V1:case H1:return{byteLength:2,components:4};case Ec:case B1:case So:return{byteLength:4,components:1};case Q3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:j1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=j1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function gF(){let t=null,e=!1,n=null,i=null;function r(s,o){n(s,o),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function oae(t){const e=new WeakMap;function n(a,l){const c=a.array,u=a.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,u),a.onUploadCallback();let f;if(c instanceof Float32Array)f=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)f=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?f=t.HALF_FLOAT:f=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)f=t.SHORT;else if(c instanceof Uint32Array)f=t.UNSIGNED_INT;else if(c instanceof Int32Array)f=t.INT;else if(c instanceof Int8Array)f=t.BYTE;else if(c instanceof Uint8Array)f=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)f=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:f,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function i(a,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,u);else{d.sort((f,v)=>f.start-v.start);let h=0;for(let f=1;f<d.length;f++){const v=d[h],m=d[f];m.start<=v.start+v.count+1?v.count=Math.max(v.count,m.start+m.count-v.start):(++h,d[h]=m)}d.length=h+1;for(let f=0,v=d.length;f<v;f++){const m=d[f];t.bufferSubData(c,m.start*u.BYTES_PER_ELEMENT,u,m.start,m.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}var aae=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,lae=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cae=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,uae=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dae=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hae=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,fae=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pae=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mae=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gae=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vae=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yae=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_ae=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,xae=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,wae=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,bae=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Sae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Eae=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Tae=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mae=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Cae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Pae=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Aae=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Rae=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,kae=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Dae=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Iae=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Lae=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Oae=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Nae=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Uae="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fae=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,zae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jae=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Bae=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Vae=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Hae=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Wae=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Gae=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,$ae=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,qae=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Xae=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kae=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Yae=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Jae=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Qae=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Zae=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,ele=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tle=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,nle=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ile=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,rle=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sle=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,ole=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,ale=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lle=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cle=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,ule=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dle=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hle=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,fle=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ple=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mle=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gle=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vle=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yle=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_le=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,xle=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,wle=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ble=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Sle=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Ele=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Tle=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Mle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cle=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Ple=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Ale=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Rle=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,kle=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Dle=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ile=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Lle=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ole=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Nle=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ule=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Fle=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zle=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jle=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Ble=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Vle=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSEDEPTHBUF
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSEDEPTHBUF
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare , distribution.x );
		#endif
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Hle=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Wle=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Gle=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,$le=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,qle=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Xle=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Kle=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Yle=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Jle=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Qle=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Zle=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,ece=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tce=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ice=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rce=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sce=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oce=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ace=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cce=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dce=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fce=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSEDEPTHBUF
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,pce=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mce=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,gce=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vce=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yce=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_ce=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,xce=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,wce=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bce=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sce=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ece=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Tce=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mce=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Cce=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Pce=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ace=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rce=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,kce=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Dce=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Ice=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Lce=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Oce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nce=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uce=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fce=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zce=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nt={alphahash_fragment:aae,alphahash_pars_fragment:lae,alphamap_fragment:cae,alphamap_pars_fragment:uae,alphatest_fragment:dae,alphatest_pars_fragment:hae,aomap_fragment:fae,aomap_pars_fragment:pae,batching_pars_vertex:mae,batching_vertex:gae,begin_vertex:vae,beginnormal_vertex:yae,bsdfs:_ae,iridescence_fragment:xae,bumpmap_pars_fragment:wae,clipping_planes_fragment:bae,clipping_planes_pars_fragment:Sae,clipping_planes_pars_vertex:Eae,clipping_planes_vertex:Tae,color_fragment:Mae,color_pars_fragment:Cae,color_pars_vertex:Pae,color_vertex:Aae,common:Rae,cube_uv_reflection_fragment:kae,defaultnormal_vertex:Dae,displacementmap_pars_vertex:Iae,displacementmap_vertex:Lae,emissivemap_fragment:Oae,emissivemap_pars_fragment:Nae,colorspace_fragment:Uae,colorspace_pars_fragment:Fae,envmap_fragment:zae,envmap_common_pars_fragment:jae,envmap_pars_fragment:Bae,envmap_pars_vertex:Vae,envmap_physical_pars_fragment:Zae,envmap_vertex:Hae,fog_vertex:Wae,fog_pars_vertex:Gae,fog_fragment:$ae,fog_pars_fragment:qae,gradientmap_pars_fragment:Xae,lightmap_pars_fragment:Kae,lights_lambert_fragment:Yae,lights_lambert_pars_fragment:Jae,lights_pars_begin:Qae,lights_toon_fragment:ele,lights_toon_pars_fragment:tle,lights_phong_fragment:nle,lights_phong_pars_fragment:ile,lights_physical_fragment:rle,lights_physical_pars_fragment:sle,lights_fragment_begin:ole,lights_fragment_maps:ale,lights_fragment_end:lle,logdepthbuf_fragment:cle,logdepthbuf_pars_fragment:ule,logdepthbuf_pars_vertex:dle,logdepthbuf_vertex:hle,map_fragment:fle,map_pars_fragment:ple,map_particle_fragment:mle,map_particle_pars_fragment:gle,metalnessmap_fragment:vle,metalnessmap_pars_fragment:yle,morphinstance_vertex:_le,morphcolor_vertex:xle,morphnormal_vertex:wle,morphtarget_pars_vertex:ble,morphtarget_vertex:Sle,normal_fragment_begin:Ele,normal_fragment_maps:Tle,normal_pars_fragment:Mle,normal_pars_vertex:Cle,normal_vertex:Ple,normalmap_pars_fragment:Ale,clearcoat_normal_fragment_begin:Rle,clearcoat_normal_fragment_maps:kle,clearcoat_pars_fragment:Dle,iridescence_pars_fragment:Ile,opaque_fragment:Lle,packing:Ole,premultiplied_alpha_fragment:Nle,project_vertex:Ule,dithering_fragment:Fle,dithering_pars_fragment:zle,roughnessmap_fragment:jle,roughnessmap_pars_fragment:Ble,shadowmap_pars_fragment:Vle,shadowmap_pars_vertex:Hle,shadowmap_vertex:Wle,shadowmask_pars_fragment:Gle,skinbase_vertex:$le,skinning_pars_vertex:qle,skinning_vertex:Xle,skinnormal_vertex:Kle,specularmap_fragment:Yle,specularmap_pars_fragment:Jle,tonemapping_fragment:Qle,tonemapping_pars_fragment:Zle,transmission_fragment:ece,transmission_pars_fragment:tce,uv_pars_fragment:nce,uv_pars_vertex:ice,uv_vertex:rce,worldpos_vertex:sce,background_vert:oce,background_frag:ace,backgroundCube_vert:lce,backgroundCube_frag:cce,cube_vert:uce,cube_frag:dce,depth_vert:hce,depth_frag:fce,distanceRGBA_vert:pce,distanceRGBA_frag:mce,equirect_vert:gce,equirect_frag:vce,linedashed_vert:yce,linedashed_frag:_ce,meshbasic_vert:xce,meshbasic_frag:wce,meshlambert_vert:bce,meshlambert_frag:Sce,meshmatcap_vert:Ece,meshmatcap_frag:Tce,meshnormal_vert:Mce,meshnormal_frag:Cce,meshphong_vert:Pce,meshphong_frag:Ace,meshphysical_vert:Rce,meshphysical_frag:kce,meshtoon_vert:Dce,meshtoon_frag:Ice,points_vert:Lce,points_frag:Oce,shadow_vert:Nce,shadow_frag:Uce,sprite_vert:Fce,sprite_frag:zce},Te={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new tt},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new tt}},envmap:{envMap:{value:null},envMapRotation:{value:new tt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new tt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new tt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new tt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new tt},normalScale:{value:new wt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new tt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new tt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new tt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new tt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0},uvTransform:{value:new tt}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new wt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new tt},alphaMap:{value:null},alphaMapTransform:{value:new tt},alphaTest:{value:0}}},As={basic:{uniforms:ci([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.fog]),vertexShader:nt.meshbasic_vert,fragmentShader:nt.meshbasic_frag},lambert:{uniforms:ci([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Et(0)}}]),vertexShader:nt.meshlambert_vert,fragmentShader:nt.meshlambert_frag},phong:{uniforms:ci([Te.common,Te.specularmap,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,Te.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:nt.meshphong_vert,fragmentShader:nt.meshphong_frag},standard:{uniforms:ci([Te.common,Te.envmap,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.roughnessmap,Te.metalnessmap,Te.fog,Te.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nt.meshphysical_vert,fragmentShader:nt.meshphysical_frag},toon:{uniforms:ci([Te.common,Te.aomap,Te.lightmap,Te.emissivemap,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.gradientmap,Te.fog,Te.lights,{emissive:{value:new Et(0)}}]),vertexShader:nt.meshtoon_vert,fragmentShader:nt.meshtoon_frag},matcap:{uniforms:ci([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,Te.fog,{matcap:{value:null}}]),vertexShader:nt.meshmatcap_vert,fragmentShader:nt.meshmatcap_frag},points:{uniforms:ci([Te.points,Te.fog]),vertexShader:nt.points_vert,fragmentShader:nt.points_frag},dashed:{uniforms:ci([Te.common,Te.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nt.linedashed_vert,fragmentShader:nt.linedashed_frag},depth:{uniforms:ci([Te.common,Te.displacementmap]),vertexShader:nt.depth_vert,fragmentShader:nt.depth_frag},normal:{uniforms:ci([Te.common,Te.bumpmap,Te.normalmap,Te.displacementmap,{opacity:{value:1}}]),vertexShader:nt.meshnormal_vert,fragmentShader:nt.meshnormal_frag},sprite:{uniforms:ci([Te.sprite,Te.fog]),vertexShader:nt.sprite_vert,fragmentShader:nt.sprite_frag},background:{uniforms:{uvTransform:{value:new tt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nt.background_vert,fragmentShader:nt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new tt}},vertexShader:nt.backgroundCube_vert,fragmentShader:nt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nt.cube_vert,fragmentShader:nt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nt.equirect_vert,fragmentShader:nt.equirect_frag},distanceRGBA:{uniforms:ci([Te.common,Te.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nt.distanceRGBA_vert,fragmentShader:nt.distanceRGBA_frag},shadow:{uniforms:ci([Te.lights,Te.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:nt.shadow_vert,fragmentShader:nt.shadow_frag}};As.physical={uniforms:ci([As.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new tt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new tt},clearcoatNormalScale:{value:new wt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new tt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new tt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new tt},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new tt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new tt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new tt},transmissionSamplerSize:{value:new wt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new tt},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new tt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new tt},anisotropyVector:{value:new wt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new tt}}]),vertexShader:nt.meshphysical_vert,fragmentShader:nt.meshphysical_frag};const jm={r:0,b:0,g:0},bl=new Uo,jce=new An;function Bce(t,e,n,i,r,s,o){const a=new Et(0);let l=s===!0?0:1,c,u,d=null,h=0,f=null;function v(y){let w=y.isScene===!0?y.background:null;return w&&w.isTexture&&(w=(y.backgroundBlurriness>0?n:e).get(w)),w}function m(y){let w=!1;const b=v(y);b===null?p(a,l):b&&b.isColor&&(p(b,1),w=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?i.buffers.color.setClear(0,0,0,1,o):S==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function g(y,w){const b=v(w);b&&(b.isCubeTexture||b.mapping===Dy)?(u===void 0&&(u=new Ns(new Sp(1,1,1),new Fo({name:"BackgroundCubeMaterial",uniforms:Rd(As.backgroundCube.uniforms),vertexShader:As.backgroundCube.vertexShader,fragmentShader:As.backgroundCube.fragmentShader,side:Ni,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(S,E,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),bl.copy(w.backgroundRotation),bl.x*=-1,bl.y*=-1,bl.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(bl.y*=-1,bl.z*=-1),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(jce.makeRotationFromEuler(bl)),u.material.toneMapped=gt.getTransfer(b.colorSpace)!==St,(d!==b||h!==b.version||f!==t.toneMapping)&&(u.material.needsUpdate=!0,d=b,h=b.version,f=t.toneMapping),u.layers.enableAll(),y.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new Ns(new Ep(2,2),new Fo({name:"BackgroundMaterial",uniforms:Rd(As.background.uniforms),vertexShader:As.background.vertexShader,fragmentShader:As.background.fragmentShader,side:el,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.toneMapped=gt.getTransfer(b.colorSpace)!==St,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||h!==b.version||f!==t.toneMapping)&&(c.material.needsUpdate=!0,d=b,h=b.version,f=t.toneMapping),c.layers.enableAll(),y.unshift(c,c.geometry,c.material,0,0,null))}function p(y,w){y.getRGB(jm,hF(t)),i.buffers.color.setClear(jm.r,jm.g,jm.b,w,o)}function _(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(y,w=1){a.set(y),l=w,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(y){l=y,p(a,l)},render:m,addToRenderList:g,dispose:_}}function Vce(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),i={},r=h(null);let s=r,o=!1;function a(C,R,N,I,O){let H=!1;const V=d(I,N,R);s!==V&&(s=V,c(s.object)),H=f(C,I,N,O),H&&v(C,I,N,O),O!==null&&e.update(O,t.ELEMENT_ARRAY_BUFFER),(H||o)&&(o=!1,w(C,R,N,I),O!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(O).buffer))}function l(){return t.createVertexArray()}function c(C){return t.bindVertexArray(C)}function u(C){return t.deleteVertexArray(C)}function d(C,R,N){const I=N.wireframe===!0;let O=i[C.id];O===void 0&&(O={},i[C.id]=O);let H=O[R.id];H===void 0&&(H={},O[R.id]=H);let V=H[I];return V===void 0&&(V=h(l()),H[I]=V),V}function h(C){const R=[],N=[],I=[];for(let O=0;O<n;O++)R[O]=0,N[O]=0,I[O]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:R,enabledAttributes:N,attributeDivisors:I,object:C,attributes:{},index:null}}function f(C,R,N,I){const O=s.attributes,H=R.attributes;let V=0;const z=N.getAttributes();for(const D in z)if(z[D].location>=0){const K=O[D];let ne=H[D];if(ne===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(ne=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(ne=C.instanceColor)),K===void 0||K.attribute!==ne||ne&&K.data!==ne.data)return!0;V++}return s.attributesNum!==V||s.index!==I}function v(C,R,N,I){const O={},H=R.attributes;let V=0;const z=N.getAttributes();for(const D in z)if(z[D].location>=0){let K=H[D];K===void 0&&(D==="instanceMatrix"&&C.instanceMatrix&&(K=C.instanceMatrix),D==="instanceColor"&&C.instanceColor&&(K=C.instanceColor));const ne={};ne.attribute=K,K&&K.data&&(ne.data=K.data),O[D]=ne,V++}s.attributes=O,s.attributesNum=V,s.index=I}function m(){const C=s.newAttributes;for(let R=0,N=C.length;R<N;R++)C[R]=0}function g(C){p(C,0)}function p(C,R){const N=s.newAttributes,I=s.enabledAttributes,O=s.attributeDivisors;N[C]=1,I[C]===0&&(t.enableVertexAttribArray(C),I[C]=1),O[C]!==R&&(t.vertexAttribDivisor(C,R),O[C]=R)}function _(){const C=s.newAttributes,R=s.enabledAttributes;for(let N=0,I=R.length;N<I;N++)R[N]!==C[N]&&(t.disableVertexAttribArray(N),R[N]=0)}function y(C,R,N,I,O,H,V){V===!0?t.vertexAttribIPointer(C,R,N,O,H):t.vertexAttribPointer(C,R,N,I,O,H)}function w(C,R,N,I){m();const O=I.attributes,H=N.getAttributes(),V=R.defaultAttributeValues;for(const z in H){const D=H[z];if(D.location>=0){let B=O[z];if(B===void 0&&(z==="instanceMatrix"&&C.instanceMatrix&&(B=C.instanceMatrix),z==="instanceColor"&&C.instanceColor&&(B=C.instanceColor)),B!==void 0){const K=B.normalized,ne=B.itemSize,te=e.get(B);if(te===void 0)continue;const ye=te.buffer,pe=te.type,Y=te.bytesPerElement,oe=pe===t.INT||pe===t.UNSIGNED_INT||B.gpuType===B1;if(B.isInterleavedBufferAttribute){const $=B.data,ce=$.stride,we=B.offset;if($.isInstancedInterleavedBuffer){for(let ue=0;ue<D.locationSize;ue++)p(D.location+ue,$.meshPerAttribute);C.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let ue=0;ue<D.locationSize;ue++)g(D.location+ue);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let ue=0;ue<D.locationSize;ue++)y(D.location+ue,ne/D.locationSize,pe,K,ce*Y,(we+ne/D.locationSize*ue)*Y,oe)}else{if(B.isInstancedBufferAttribute){for(let $=0;$<D.locationSize;$++)p(D.location+$,B.meshPerAttribute);C.isInstancedMesh!==!0&&I._maxInstanceCount===void 0&&(I._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let $=0;$<D.locationSize;$++)g(D.location+$);t.bindBuffer(t.ARRAY_BUFFER,ye);for(let $=0;$<D.locationSize;$++)y(D.location+$,ne/D.locationSize,pe,K,ne*Y,ne/D.locationSize*$*Y,oe)}}else if(V!==void 0){const K=V[z];if(K!==void 0)switch(K.length){case 2:t.vertexAttrib2fv(D.location,K);break;case 3:t.vertexAttrib3fv(D.location,K);break;case 4:t.vertexAttrib4fv(D.location,K);break;default:t.vertexAttrib1fv(D.location,K)}}}}_()}function b(){P();for(const C in i){const R=i[C];for(const N in R){const I=R[N];for(const O in I)u(I[O].object),delete I[O];delete R[N]}delete i[C]}}function S(C){if(i[C.id]===void 0)return;const R=i[C.id];for(const N in R){const I=R[N];for(const O in I)u(I[O].object),delete I[O];delete R[N]}delete i[C.id]}function E(C){for(const R in i){const N=i[R];if(N[C.id]===void 0)continue;const I=N[C.id];for(const O in I)u(I[O].object),delete I[O];delete N[C.id]}}function P(){T(),o=!0,s!==r&&(s=r,c(s.object))}function T(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:P,resetDefaultState:T,dispose:b,releaseStatesOfGeometry:S,releaseStatesOfProgram:E,initAttributes:m,enableAttribute:g,disableUnusedAttributes:_}}function Hce(t,e,n){let i;function r(c){i=c}function s(c,u){t.drawArrays(i,c,u),n.update(u,i,1)}function o(c,u,d){d!==0&&(t.drawArraysInstanced(i,c,u,d),n.update(u,i,d))}function a(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,d);let f=0;for(let v=0;v<d;v++)f+=u[v];n.update(f,i,1)}function l(c,u,d,h){if(d===0)return;const f=e.get("WEBGL_multi_draw");if(f===null)for(let v=0;v<c.length;v++)o(c[v],u[v],h[v]);else{f.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,d);let v=0;for(let m=0;m<d;m++)v+=u[m]*h[m];n.update(v,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Wce(t,e,n,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const E=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(E.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(E){return!(E!==as&&i.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(E){const P=E===_p&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(E!==No&&i.convert(E)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&E!==So&&!P)}function l(E){if(E==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";E="mediump"}return E==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),_=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=v>0,S=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:h,maxTextures:f,maxVertexTextures:v,maxTextureSize:m,maxCubemapSize:g,maxAttributes:p,maxVertexUniforms:_,maxVaryings:y,maxFragmentUniforms:w,vertexTextures:b,maxSamples:S}}function Gce(t){const e=this;let n=null,i=0,r=!1,s=!1;const o=new Dl,a=new tt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=d.length!==0||h||i!==0||r;return r=h,i=d.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){n=u(d,h,0)},this.setState=function(d,h,f){const v=d.clippingPlanes,m=d.clipIntersection,g=d.clipShadows,p=t.get(d);if(!r||v===null||v.length===0||s&&!g)s?u(null):c();else{const _=s?0:i,y=_*4;let w=p.clippingState||null;l.value=w,w=u(v,h,y,f);for(let b=0;b!==y;++b)w[b]=n[b];p.clippingState=w,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=_}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(d,h,f,v){const m=d!==null?d.length:0;let g=null;if(m!==0){if(g=l.value,v!==!0||g===null){const p=f+m*4,_=h.matrixWorldInverse;a.getNormalMatrix(_),(g===null||g.length<p)&&(g=new Float32Array(p));for(let y=0,w=f;y!==m;++y,w+=4)o.copy(d[y]).applyMatrix4(_,a),o.normal.toArray(g,w),g[w+3]=o.constant}l.value=g,l.needsUpdate=!0}return e.numPlanes=m,e.numIntersection=0,g}}function $ce(t){let e=new WeakMap;function n(o,a){return a===Lb?o.mapping=Cd:a===Ob&&(o.mapping=Pd),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===Lb||a===Ob)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Koe(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",r),n(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const Au=4,ek=[.125,.215,.35,.446,.526,.582],Fl=20,J_=new iae,tk=new Et;let Q_=null,Z_=0,ex=0,tx=!1;const Il=(1+Math.sqrt(5))/2,iu=1/Il,nk=[new ee(-Il,iu,0),new ee(Il,iu,0),new ee(-iu,0,Il),new ee(iu,0,Il),new ee(0,Il,-iu),new ee(0,Il,iu),new ee(-1,1,-1),new ee(1,1,-1),new ee(-1,1,1),new ee(1,1,1)],qce=new ee;class ik{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100,s={}){const{size:o=256,position:a=qce}=s;Q_=this._renderer.getRenderTarget(),Z_=this._renderer.getActiveCubeFace(),ex=this._renderer.getActiveMipmapLevel(),tx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=ok(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=sk(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Q_,Z_,ex),this._renderer.xr.enabled=tx,e.scissorTest=!1,Bm(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Cd||e.mapping===Pd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Q_=this._renderer.getRenderTarget(),Z_=this._renderer.getActiveCubeFace(),ex=this._renderer.getActiveMipmapLevel(),tx=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:Ls,minFilter:Ls,generateMipmaps:!1,type:_p,format:as,colorSpace:Ad,depthBuffer:!1},r=rk(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=rk(e,n,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Xce(s)),this._blurMaterial=Kce(s,e,n)}return r}_compileMaterial(e){const n=new Ns(this._lodPlanes[0],e);this._renderer.compile(n,J_)}_sceneToCubeUV(e,n,i,r,s){const l=new ns(90,1,n,i),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,f=d.toneMapping;d.getClearColor(tk),d.toneMapping=Ba,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(r),d.clearDepth(),d.setRenderTarget(null));const m=new cF({name:"PMREM.Background",side:Ni,depthWrite:!1,depthTest:!1}),g=new Ns(new Sp,m);let p=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,p=!0):(m.color.copy(tk),p=!0);for(let y=0;y<6;y++){const w=y%3;w===0?(l.up.set(0,c[y],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[y],s.y,s.z)):w===1?(l.up.set(0,0,c[y]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[y],s.z)):(l.up.set(0,c[y],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[y]));const b=this._cubeSize;Bm(r,w*b,y>2?b:0,b,b),d.setRenderTarget(r),p&&d.render(g,l),d.render(e,l)}g.geometry.dispose(),g.material.dispose(),d.toneMapping=f,d.autoClear=h,e.background=_}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Cd||e.mapping===Pd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=ok()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=sk());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Ns(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Bm(n,0,0,3*l,2*l),i.setRenderTarget(n),i.render(o,J_)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=nk[(r-s-1)%nk.length];this._blur(e,s-1,s,o,a)}n.autoClear=i}_blur(e,n,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,n,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,d=new Ns(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,v=isFinite(s)?Math.PI/(2*f):2*Math.PI/(2*Fl-1),m=s/v,g=isFinite(s)?1+Math.floor(u*m):Fl;g>Fl&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${g} samples when the maximum is set to ${Fl}`);const p=[];let _=0;for(let E=0;E<Fl;++E){const P=E/m,T=Math.exp(-P*P/2);p.push(T),E===0?_+=T:E<g&&(_+=2*T)}for(let E=0;E<p.length;E++)p[E]=p[E]/_;h.envMap.value=e.texture,h.samples.value=g,h.weights.value=p,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:y}=this;h.dTheta.value=v,h.mipInt.value=y-i;const w=this._sizeLods[r],b=3*w*(r>y-Au?r-y+Au:0),S=4*(this._cubeSize-w);Bm(n,b,S,3*w,2*w),l.setRenderTarget(n),l.render(d,J_)}}function Xce(t){const e=[],n=[],i=[];let r=t;const s=t-Au+1+ek.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);n.push(a);let l=1/a;o>t-Au?l=ek[o-t+Au-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,v=6,m=3,g=2,p=1,_=new Float32Array(m*v*f),y=new Float32Array(g*v*f),w=new Float32Array(p*v*f);for(let S=0;S<f;S++){const E=S%3*2/3-1,P=S>2?0:-1,T=[E,P,0,E+2/3,P,0,E+2/3,P+1,0,E,P,0,E+2/3,P+1,0,E,P+1,0];_.set(T,m*v*S),y.set(h,g*v*S);const C=[S,S,S,S,S,S];w.set(C,p*v*S)}const b=new kc;b.setAttribute("position",new Gs(_,m)),b.setAttribute("uv",new Gs(y,g)),b.setAttribute("faceIndex",new Gs(w,p)),e.push(b),r>Au&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function rk(t,e,n){const i=new Tc(t,e,n);return i.texture.mapping=Dy,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Bm(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Kce(t,e,n){const i=new Float32Array(Fl),r=new ee(0,1,0);return new Fo({name:"SphericalGaussianBlur",defines:{n:Fl,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:Y1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function sk(){return new Fo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Y1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function ok(){return new Fo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Y1(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ja,depthTest:!1,depthWrite:!1})}function Y1(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Yce(t){let e=new WeakMap,n=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===Lb||l===Ob,u=l===Cd||l===Pd;if(c||u){let d=e.get(a);const h=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new ik(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const f=a.image;return c&&f&&f.height>0||u&&f&&r(f)?(n===null&&(n=new ik(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:o}}function Jce(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(i){const r=n(i);return r===null&&qu("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Qce(t,e,n,i){const r={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const f in h)e.update(h[f],t.ARRAY_BUFFER)}function c(d){const h=[],f=d.index,v=d.attributes.position;let m=0;if(f!==null){const _=f.array;m=f.version;for(let y=0,w=_.length;y<w;y+=3){const b=_[y+0],S=_[y+1],E=_[y+2];h.push(b,S,S,E,E,b)}}else if(v!==void 0){const _=v.array;m=v.version;for(let y=0,w=_.length/3-1;y<w;y+=3){const b=y+0,S=y+1,E=y+2;h.push(b,S,S,E,E,b)}}else return;const g=new(sF(h)?dF:uF)(h,1);g.version=m;const p=s.get(d);p&&e.remove(p),s.set(d,g)}function u(d){const h=s.get(d);if(h){const f=d.index;f!==null&&h.version<f.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:u}}function Zce(t,e,n){let i;function r(h){i=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,f){t.drawElements(i,f,s,h*o),n.update(f,i,1)}function c(h,f,v){v!==0&&(t.drawElementsInstanced(i,f,s,h*o,v),n.update(f,i,v))}function u(h,f,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,f,0,s,h,0,v);let g=0;for(let p=0;p<v;p++)g+=f[p];n.update(g,i,1)}function d(h,f,v,m){if(v===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let p=0;p<h.length;p++)c(h[p]/o,f[p],m[p]);else{g.multiDrawElementsInstancedWEBGL(i,f,0,s,h,0,m,0,v);let p=0;for(let _=0;_<v;_++)p+=f[_]*m[_];n.update(p,i,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function eue(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function tue(t,e,n){const i=new WeakMap,r=new dn;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=u!==void 0?u.length:0;let h=i.get(a);if(h===void 0||h.count!==d){let C=function(){P.dispose(),i.delete(a),a.removeEventListener("dispose",C)};var f=C;h!==void 0&&h.texture.dispose();const v=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,g=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],_=a.morphAttributes.normal||[],y=a.morphAttributes.color||[];let w=0;v===!0&&(w=1),m===!0&&(w=2),g===!0&&(w=3);let b=a.attributes.position.count*w,S=1;b>e.maxTextureSize&&(S=Math.ceil(b/e.maxTextureSize),b=e.maxTextureSize);const E=new Float32Array(b*S*4*d),P=new oF(E,b,S,d);P.type=So,P.needsUpdate=!0;const T=w*4;for(let R=0;R<d;R++){const N=p[R],I=_[R],O=y[R],H=b*S*4*R;for(let V=0;V<N.count;V++){const z=V*T;v===!0&&(r.fromBufferAttribute(N,V),E[H+z+0]=r.x,E[H+z+1]=r.y,E[H+z+2]=r.z,E[H+z+3]=0),m===!0&&(r.fromBufferAttribute(I,V),E[H+z+4]=r.x,E[H+z+5]=r.y,E[H+z+6]=r.z,E[H+z+7]=0),g===!0&&(r.fromBufferAttribute(O,V),E[H+z+8]=r.x,E[H+z+9]=r.y,E[H+z+10]=r.z,E[H+z+11]=O.itemSize===4?r.w:1)}}h={count:d,texture:P,size:new wt(b,S)},i.set(a,h),a.addEventListener("dispose",C)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let g=0;g<c.length;g++)v+=c[g];const m=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function nue(t,e,n,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,d=e.get(l,u);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return d}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const vF=new Ui,ak=new mF(1,1),yF=new oF,_F=new koe,xF=new fF,lk=[],ck=[],uk=new Float32Array(16),dk=new Float32Array(9),hk=new Float32Array(4);function Qd(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let s=lk[r];if(s===void 0&&(s=new Float32Array(r),lk[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Rn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function kn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function Ly(t,e){let n=ck[e];n===void 0&&(n=new Int32Array(e),ck[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function iue(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function rue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2fv(this.addr,e),kn(n,e)}}function sue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Rn(n,e))return;t.uniform3fv(this.addr,e),kn(n,e)}}function oue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4fv(this.addr,e),kn(n,e)}}function aue(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),kn(n,e)}else{if(Rn(n,i))return;hk.set(i),t.uniformMatrix2fv(this.addr,!1,hk),kn(n,i)}}function lue(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),kn(n,e)}else{if(Rn(n,i))return;dk.set(i),t.uniformMatrix3fv(this.addr,!1,dk),kn(n,i)}}function cue(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Rn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),kn(n,e)}else{if(Rn(n,i))return;uk.set(i),t.uniformMatrix4fv(this.addr,!1,uk),kn(n,i)}}function uue(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function due(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2iv(this.addr,e),kn(n,e)}}function hue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3iv(this.addr,e),kn(n,e)}}function fue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4iv(this.addr,e),kn(n,e)}}function pue(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function mue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Rn(n,e))return;t.uniform2uiv(this.addr,e),kn(n,e)}}function gue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Rn(n,e))return;t.uniform3uiv(this.addr,e),kn(n,e)}}function vue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Rn(n,e))return;t.uniform4uiv(this.addr,e),kn(n,e)}}function yue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r);let s;this.type===t.SAMPLER_2D_SHADOW?(ak.compareFunction=rF,s=ak):s=vF,n.setTexture2D(e||s,r)}function _ue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||_F,r)}function xue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||xF,r)}function wue(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||yF,r)}function bue(t){switch(t){case 5126:return iue;case 35664:return rue;case 35665:return sue;case 35666:return oue;case 35674:return aue;case 35675:return lue;case 35676:return cue;case 5124:case 35670:return uue;case 35667:case 35671:return due;case 35668:case 35672:return hue;case 35669:case 35673:return fue;case 5125:return pue;case 36294:return mue;case 36295:return gue;case 36296:return vue;case 35678:case 36198:case 36298:case 36306:case 35682:return yue;case 35679:case 36299:case 36307:return _ue;case 35680:case 36300:case 36308:case 36293:return xue;case 36289:case 36303:case 36311:case 36292:return wue}}function Sue(t,e){t.uniform1fv(this.addr,e)}function Eue(t,e){const n=Qd(e,this.size,2);t.uniform2fv(this.addr,n)}function Tue(t,e){const n=Qd(e,this.size,3);t.uniform3fv(this.addr,n)}function Mue(t,e){const n=Qd(e,this.size,4);t.uniform4fv(this.addr,n)}function Cue(t,e){const n=Qd(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Pue(t,e){const n=Qd(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Aue(t,e){const n=Qd(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Rue(t,e){t.uniform1iv(this.addr,e)}function kue(t,e){t.uniform2iv(this.addr,e)}function Due(t,e){t.uniform3iv(this.addr,e)}function Iue(t,e){t.uniform4iv(this.addr,e)}function Lue(t,e){t.uniform1uiv(this.addr,e)}function Oue(t,e){t.uniform2uiv(this.addr,e)}function Nue(t,e){t.uniform3uiv(this.addr,e)}function Uue(t,e){t.uniform4uiv(this.addr,e)}function Fue(t,e,n){const i=this.cache,r=e.length,s=Ly(n,r);Rn(i,s)||(t.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)n.setTexture2D(e[o]||vF,s[o])}function zue(t,e,n){const i=this.cache,r=e.length,s=Ly(n,r);Rn(i,s)||(t.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)n.setTexture3D(e[o]||_F,s[o])}function jue(t,e,n){const i=this.cache,r=e.length,s=Ly(n,r);Rn(i,s)||(t.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)n.setTextureCube(e[o]||xF,s[o])}function Bue(t,e,n){const i=this.cache,r=e.length,s=Ly(n,r);Rn(i,s)||(t.uniform1iv(this.addr,s),kn(i,s));for(let o=0;o!==r;++o)n.setTexture2DArray(e[o]||yF,s[o])}function Vue(t){switch(t){case 5126:return Sue;case 35664:return Eue;case 35665:return Tue;case 35666:return Mue;case 35674:return Cue;case 35675:return Pue;case 35676:return Aue;case 5124:case 35670:return Rue;case 35667:case 35671:return kue;case 35668:case 35672:return Due;case 35669:case 35673:return Iue;case 5125:return Lue;case 36294:return Oue;case 36295:return Nue;case 36296:return Uue;case 35678:case 36198:case 36298:case 36306:case 35682:return Fue;case 35679:case 36299:case 36307:return zue;case 35680:case 36300:case 36308:case 36293:return jue;case 36289:case 36303:case 36311:case 36292:return Bue}}class Hue{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.setValue=bue(n.type)}}class Wue{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Vue(n.type)}}class Gue{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,n[a.id],i)}}}const nx=/(\w+)(\])?(\[|\.)?/g;function fk(t,e){t.seq.push(e),t.map[e.id]=e}function $ue(t,e,n){const i=t.name,r=i.length;for(nx.lastIndex=0;;){const s=nx.exec(i),o=nx.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){fk(n,c===void 0?new Hue(a,t,e):new Wue(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Gue(a),fk(n,d)),n=d}}}class wg{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(n,r),o=e.getUniformLocation(n,s.name);$ue(s,o,this)}}setValue(e,n,i,r){const s=this.map[n];s!==void 0&&s.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in n&&i.push(o)}return i}}function pk(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}const que=37297;let Xue=0;function Kue(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return i.join(`
`)}const mk=new tt;function Yue(t){gt._getMatrix(mk,gt.workingColorSpace,t);const e=`mat3( ${mk.elements.map(n=>n.toFixed(4))} )`;switch(gt.getTransfer(t)){case wv:return[e,"LinearTransferOETF"];case St:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function gk(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(i&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+Kue(t.getShaderSource(e),a)}else return s}function Jue(t,e){const n=Yue(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Que(t,e){let n;switch(e){case roe:n="Linear";break;case soe:n="Reinhard";break;case ooe:n="Cineon";break;case aoe:n="ACESFilmic";break;case coe:n="AgX";break;case uoe:n="Neutral";break;case loe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Vm=new ee;function Zue(){gt.getLuminanceCoefficients(Vm);const t=Vm.x.toFixed(4),e=Vm.y.toFixed(4),n=Vm.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ede(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Ah).join(`
`)}function tde(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function nde(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=t.getActiveAttrib(e,r),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Ah(t){return t!==""}function vk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function yk(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ide=/^[ \t]*#include +<([\w\d./]+)>/gm;function dS(t){return t.replace(ide,sde)}const rde=new Map;function sde(t,e){let n=nt[e];if(n===void 0){const i=rde.get(e);if(i!==void 0)n=nt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return dS(n)}const ode=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _k(t){return t.replace(ode,ade)}function ade(t,e,n,i){let r="";for(let s=parseInt(e);s<parseInt(n);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function xk(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lde(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===q3?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Use?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===co&&(e="SHADOWMAP_TYPE_VSM"),e}function cde(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Cd:case Pd:e="ENVMAP_TYPE_CUBE";break;case Dy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ude(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Pd:e="ENVMAP_MODE_REFRACTION";break}return e}function dde(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case X3:e="ENVMAP_BLENDING_MULTIPLY";break;case noe:e="ENVMAP_BLENDING_MIX";break;case ioe:e="ENVMAP_BLENDING_ADD";break}return e}function hde(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function fde(t,e,n,i){const r=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=lde(n),c=cde(n),u=ude(n),d=dde(n),h=hde(n),f=ede(n),v=tde(s),m=r.createProgram();let g,p,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Ah).join(`
`),g.length>0&&(g+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Ah).join(`
`),p.length>0&&(p+=`
`)):(g=[xk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Ah).join(`
`),p=[xk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reversedDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ba?"#define TONE_MAPPING":"",n.toneMapping!==Ba?nt.tonemapping_pars_fragment:"",n.toneMapping!==Ba?Que("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",nt.colorspace_pars_fragment,Jue("linearToOutputTexel",n.outputColorSpace),Zue(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Ah).join(`
`)),o=dS(o),o=vk(o,n),o=yk(o,n),a=dS(a),a=vk(a,n),a=yk(a,n),o=_k(o),a=_k(a),n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,g=[f,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,p=["#define varying in",n.glslVersion===OR?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===OR?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const y=_+g+o,w=_+p+a,b=pk(r,r.VERTEX_SHADER,y),S=pk(r,r.FRAGMENT_SHADER,w);r.attachShader(m,b),r.attachShader(m,S),n.index0AttributeName!==void 0?r.bindAttribLocation(m,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(m,0,"position"),r.linkProgram(m);function E(R){if(t.debug.checkShaderErrors){const N=r.getProgramInfoLog(m)||"",I=r.getShaderInfoLog(b)||"",O=r.getShaderInfoLog(S)||"",H=N.trim(),V=I.trim(),z=O.trim();let D=!0,B=!0;if(r.getProgramParameter(m,r.LINK_STATUS)===!1)if(D=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,m,b,S);else{const K=gk(r,b,"vertex"),ne=gk(r,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(m,r.VALIDATE_STATUS)+`

Material Name: `+R.name+`
Material Type: `+R.type+`

Program Info Log: `+H+`
`+K+`
`+ne)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(V===""||z==="")&&(B=!1);B&&(R.diagnostics={runnable:D,programLog:H,vertexShader:{log:V,prefix:g},fragmentShader:{log:z,prefix:p}})}r.deleteShader(b),r.deleteShader(S),P=new wg(r,m),T=nde(r,m)}let P;this.getUniforms=function(){return P===void 0&&E(this),P};let T;this.getAttributes=function(){return T===void 0&&E(this),T};let C=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return C===!1&&(C=r.getProgramParameter(m,que)),C},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(m),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Xue++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=b,this.fragmentShader=S,this}let pde=0;class mde{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new gde(e),n.set(e,i)),i}}class gde{constructor(e){this.id=pde++,this.code=e,this.usedTimes=0}}function vde(t,e,n,i,r,s,o){const a=new aF,l=new mde,c=new Set,u=[],d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function m(T){return c.add(T),T===0?"uv":`uv${T}`}function g(T,C,R,N,I){const O=N.fog,H=I.geometry,V=T.isMeshStandardMaterial?N.environment:null,z=(T.isMeshStandardMaterial?n:e).get(T.envMap||V),D=z&&z.mapping===Dy?z.image.height:null,B=v[T.type];T.precision!==null&&(f=r.getMaxPrecision(T.precision),f!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",f,"instead."));const K=H.morphAttributes.position||H.morphAttributes.normal||H.morphAttributes.color,ne=K!==void 0?K.length:0;let te=0;H.morphAttributes.position!==void 0&&(te=1),H.morphAttributes.normal!==void 0&&(te=2),H.morphAttributes.color!==void 0&&(te=3);let ye,pe,Y,oe;if(B){const Je=As[B];ye=Je.vertexShader,pe=Je.fragmentShader}else ye=T.vertexShader,pe=T.fragmentShader,l.update(T),Y=l.getVertexShaderID(T),oe=l.getFragmentShaderID(T);const $=t.getRenderTarget(),ce=t.state.buffers.depth.getReversed(),we=I.isInstancedMesh===!0,ue=I.isBatchedMesh===!0,Ze=!!T.map,Xe=!!T.matcap,U=!!z,Ne=!!T.aoMap,Se=!!T.lightMap,Ue=!!T.bumpMap,Me=!!T.normalMap,rt=!!T.displacementMap,ve=!!T.emissiveMap,Fe=!!T.metalnessMap,ot=!!T.roughnessMap,_t=T.anisotropy>0,L=T.clearcoat>0,A=T.dispersion>0,F=T.iridescence>0,G=T.sheen>0,ie=T.transmission>0,J=_t&&!!T.anisotropyMap,Ae=L&&!!T.clearcoatMap,he=L&&!!T.clearcoatNormalMap,ke=L&&!!T.clearcoatRoughnessMap,Oe=F&&!!T.iridescenceMap,fe=F&&!!T.iridescenceThicknessMap,be=G&&!!T.sheenColorMap,Ve=G&&!!T.sheenRoughnessMap,Le=!!T.specularMap,Ee=!!T.specularColorMap,Ke=!!T.specularIntensityMap,W=ie&&!!T.transmissionMap,me=ie&&!!T.thicknessMap,xe=!!T.gradientMap,Re=!!T.alphaMap,le=T.alphaTest>0,se=!!T.alphaHash,ae=!!T.extensions;let Ce=Ba;T.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(Ce=t.toneMapping);const He={shaderID:B,shaderType:T.type,shaderName:T.name,vertexShader:ye,fragmentShader:pe,defines:T.defines,customVertexShaderID:Y,customFragmentShaderID:oe,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:f,batching:ue,batchingColor:ue&&I._colorsTexture!==null,instancing:we,instancingColor:we&&I.instanceColor!==null,instancingMorph:we&&I.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:$===null?t.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:Ad,alphaToCoverage:!!T.alphaToCoverage,map:Ze,matcap:Xe,envMap:U,envMapMode:U&&z.mapping,envMapCubeUVHeight:D,aoMap:Ne,lightMap:Se,bumpMap:Ue,normalMap:Me,displacementMap:h&&rt,emissiveMap:ve,normalMapObjectSpace:Me&&T.normalMapType===moe,normalMapTangentSpace:Me&&T.normalMapType===poe,metalnessMap:Fe,roughnessMap:ot,anisotropy:_t,anisotropyMap:J,clearcoat:L,clearcoatMap:Ae,clearcoatNormalMap:he,clearcoatRoughnessMap:ke,dispersion:A,iridescence:F,iridescenceMap:Oe,iridescenceThicknessMap:fe,sheen:G,sheenColorMap:be,sheenRoughnessMap:Ve,specularMap:Le,specularColorMap:Ee,specularIntensityMap:Ke,transmission:ie,transmissionMap:W,thicknessMap:me,gradientMap:xe,opaque:T.transparent===!1&&T.blending===$u&&T.alphaToCoverage===!1,alphaMap:Re,alphaTest:le,alphaHash:se,combine:T.combine,mapUv:Ze&&m(T.map.channel),aoMapUv:Ne&&m(T.aoMap.channel),lightMapUv:Se&&m(T.lightMap.channel),bumpMapUv:Ue&&m(T.bumpMap.channel),normalMapUv:Me&&m(T.normalMap.channel),displacementMapUv:rt&&m(T.displacementMap.channel),emissiveMapUv:ve&&m(T.emissiveMap.channel),metalnessMapUv:Fe&&m(T.metalnessMap.channel),roughnessMapUv:ot&&m(T.roughnessMap.channel),anisotropyMapUv:J&&m(T.anisotropyMap.channel),clearcoatMapUv:Ae&&m(T.clearcoatMap.channel),clearcoatNormalMapUv:he&&m(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:ke&&m(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Oe&&m(T.iridescenceMap.channel),iridescenceThicknessMapUv:fe&&m(T.iridescenceThicknessMap.channel),sheenColorMapUv:be&&m(T.sheenColorMap.channel),sheenRoughnessMapUv:Ve&&m(T.sheenRoughnessMap.channel),specularMapUv:Le&&m(T.specularMap.channel),specularColorMapUv:Ee&&m(T.specularColorMap.channel),specularIntensityMapUv:Ke&&m(T.specularIntensityMap.channel),transmissionMapUv:W&&m(T.transmissionMap.channel),thicknessMapUv:me&&m(T.thicknessMap.channel),alphaMapUv:Re&&m(T.alphaMap.channel),vertexTangents:!!H.attributes.tangent&&(Me||_t),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!H.attributes.color&&H.attributes.color.itemSize===4,pointsUvs:I.isPoints===!0&&!!H.attributes.uv&&(Ze||Re),fog:!!O,useFog:T.fog===!0,fogExp2:!!O&&O.isFogExp2,flatShading:T.flatShading===!0&&T.wireframe===!1,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:ce,skinning:I.isSkinnedMesh===!0,morphTargets:H.morphAttributes.position!==void 0,morphNormals:H.morphAttributes.normal!==void 0,morphColors:H.morphAttributes.color!==void 0,morphTargetsCount:ne,morphTextureStride:te,numDirLights:C.directional.length,numPointLights:C.point.length,numSpotLights:C.spot.length,numSpotLightMaps:C.spotLightMap.length,numRectAreaLights:C.rectArea.length,numHemiLights:C.hemi.length,numDirLightShadows:C.directionalShadowMap.length,numPointLightShadows:C.pointShadowMap.length,numSpotLightShadows:C.spotShadowMap.length,numSpotLightShadowsWithMaps:C.numSpotLightShadowsWithMaps,numLightProbes:C.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&R.length>0,shadowMapType:t.shadowMap.type,toneMapping:Ce,decodeVideoTexture:Ze&&T.map.isVideoTexture===!0&&gt.getTransfer(T.map.colorSpace)===St,decodeVideoTextureEmissive:ve&&T.emissiveMap.isVideoTexture===!0&&gt.getTransfer(T.emissiveMap.colorSpace)===St,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===_o,flipSided:T.side===Ni,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:ae&&T.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(ae&&T.extensions.multiDraw===!0||ue)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return He.vertexUv1s=c.has(1),He.vertexUv2s=c.has(2),He.vertexUv3s=c.has(3),c.clear(),He}function p(T){const C=[];if(T.shaderID?C.push(T.shaderID):(C.push(T.customVertexShaderID),C.push(T.customFragmentShaderID)),T.defines!==void 0)for(const R in T.defines)C.push(R),C.push(T.defines[R]);return T.isRawShaderMaterial===!1&&(_(C,T),y(C,T),C.push(t.outputColorSpace)),C.push(T.customProgramCacheKey),C.join()}function _(T,C){T.push(C.precision),T.push(C.outputColorSpace),T.push(C.envMapMode),T.push(C.envMapCubeUVHeight),T.push(C.mapUv),T.push(C.alphaMapUv),T.push(C.lightMapUv),T.push(C.aoMapUv),T.push(C.bumpMapUv),T.push(C.normalMapUv),T.push(C.displacementMapUv),T.push(C.emissiveMapUv),T.push(C.metalnessMapUv),T.push(C.roughnessMapUv),T.push(C.anisotropyMapUv),T.push(C.clearcoatMapUv),T.push(C.clearcoatNormalMapUv),T.push(C.clearcoatRoughnessMapUv),T.push(C.iridescenceMapUv),T.push(C.iridescenceThicknessMapUv),T.push(C.sheenColorMapUv),T.push(C.sheenRoughnessMapUv),T.push(C.specularMapUv),T.push(C.specularColorMapUv),T.push(C.specularIntensityMapUv),T.push(C.transmissionMapUv),T.push(C.thicknessMapUv),T.push(C.combine),T.push(C.fogExp2),T.push(C.sizeAttenuation),T.push(C.morphTargetsCount),T.push(C.morphAttributeCount),T.push(C.numDirLights),T.push(C.numPointLights),T.push(C.numSpotLights),T.push(C.numSpotLightMaps),T.push(C.numHemiLights),T.push(C.numRectAreaLights),T.push(C.numDirLightShadows),T.push(C.numPointLightShadows),T.push(C.numSpotLightShadows),T.push(C.numSpotLightShadowsWithMaps),T.push(C.numLightProbes),T.push(C.shadowMapType),T.push(C.toneMapping),T.push(C.numClippingPlanes),T.push(C.numClipIntersection),T.push(C.depthPacking)}function y(T,C){a.disableAll(),C.supportsVertexTextures&&a.enable(0),C.instancing&&a.enable(1),C.instancingColor&&a.enable(2),C.instancingMorph&&a.enable(3),C.matcap&&a.enable(4),C.envMap&&a.enable(5),C.normalMapObjectSpace&&a.enable(6),C.normalMapTangentSpace&&a.enable(7),C.clearcoat&&a.enable(8),C.iridescence&&a.enable(9),C.alphaTest&&a.enable(10),C.vertexColors&&a.enable(11),C.vertexAlphas&&a.enable(12),C.vertexUv1s&&a.enable(13),C.vertexUv2s&&a.enable(14),C.vertexUv3s&&a.enable(15),C.vertexTangents&&a.enable(16),C.anisotropy&&a.enable(17),C.alphaHash&&a.enable(18),C.batching&&a.enable(19),C.dispersion&&a.enable(20),C.batchingColor&&a.enable(21),C.gradientMap&&a.enable(22),T.push(a.mask),a.disableAll(),C.fog&&a.enable(0),C.useFog&&a.enable(1),C.flatShading&&a.enable(2),C.logarithmicDepthBuffer&&a.enable(3),C.reversedDepthBuffer&&a.enable(4),C.skinning&&a.enable(5),C.morphTargets&&a.enable(6),C.morphNormals&&a.enable(7),C.morphColors&&a.enable(8),C.premultipliedAlpha&&a.enable(9),C.shadowMapEnabled&&a.enable(10),C.doubleSided&&a.enable(11),C.flipSided&&a.enable(12),C.useDepthPacking&&a.enable(13),C.dithering&&a.enable(14),C.transmission&&a.enable(15),C.sheen&&a.enable(16),C.opaque&&a.enable(17),C.pointsUvs&&a.enable(18),C.decodeVideoTexture&&a.enable(19),C.decodeVideoTextureEmissive&&a.enable(20),C.alphaToCoverage&&a.enable(21),T.push(a.mask)}function w(T){const C=v[T.type];let R;if(C){const N=As[C];R=Goe.clone(N.uniforms)}else R=T.uniforms;return R}function b(T,C){let R;for(let N=0,I=u.length;N<I;N++){const O=u[N];if(O.cacheKey===C){R=O,++R.usedTimes;break}}return R===void 0&&(R=new fde(t,C,T,s),u.push(R)),R}function S(T){if(--T.usedTimes===0){const C=u.indexOf(T);u[C]=u[u.length-1],u.pop(),T.destroy()}}function E(T){l.remove(T)}function P(){l.dispose()}return{getParameters:g,getProgramCacheKey:p,getUniforms:w,acquireProgram:b,releaseProgram:S,releaseShaderCache:E,programs:u,dispose:P}}function yde(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function i(o){t.delete(o)}function r(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:i,update:r,dispose:s}}function _de(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function bk(){const t=[];let e=0;const n=[],i=[],r=[];function s(){e=0,n.length=0,i.length=0,r.length=0}function o(d,h,f,v,m,g){let p=t[e];return p===void 0?(p={id:d.id,object:d,geometry:h,material:f,groupOrder:v,renderOrder:d.renderOrder,z:m,group:g},t[e]=p):(p.id=d.id,p.object=d,p.geometry=h,p.material=f,p.groupOrder=v,p.renderOrder=d.renderOrder,p.z=m,p.group=g),e++,p}function a(d,h,f,v,m,g){const p=o(d,h,f,v,m,g);f.transmission>0?i.push(p):f.transparent===!0?r.push(p):n.push(p)}function l(d,h,f,v,m,g){const p=o(d,h,f,v,m,g);f.transmission>0?i.unshift(p):f.transparent===!0?r.unshift(p):n.unshift(p)}function c(d,h){n.length>1&&n.sort(d||_de),i.length>1&&i.sort(h||wk),r.length>1&&r.sort(h||wk)}function u(){for(let d=e,h=t.length;d<h;d++){const f=t[d];if(f.id===null)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}}return{opaque:n,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function xde(){let t=new WeakMap;function e(i,r){const s=t.get(i);let o;return s===void 0?(o=new bk,t.set(i,[o])):r>=s.length?(o=new bk,s.push(o)):o=s[r],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function wde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ee,color:new Et};break;case"SpotLight":n={position:new ee,direction:new ee,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new Et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":n={color:new Et,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=n,n}}}function bde(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new wt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Sde=0;function Ede(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Tde(t){const e=new wde,n=bde(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new ee);const r=new ee,s=new An,o=new An;function a(c){let u=0,d=0,h=0;for(let T=0;T<9;T++)i.probe[T].set(0,0,0);let f=0,v=0,m=0,g=0,p=0,_=0,y=0,w=0,b=0,S=0,E=0;c.sort(Ede);for(let T=0,C=c.length;T<C;T++){const R=c[T],N=R.color,I=R.intensity,O=R.distance,H=R.shadow&&R.shadow.map?R.shadow.map.texture:null;if(R.isAmbientLight)u+=N.r*I,d+=N.g*I,h+=N.b*I;else if(R.isLightProbe){for(let V=0;V<9;V++)i.probe[V].addScaledVector(R.sh.coefficients[V],I);E++}else if(R.isDirectionalLight){const V=e.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity),R.castShadow){const z=R.shadow,D=n.get(R);D.shadowIntensity=z.intensity,D.shadowBias=z.bias,D.shadowNormalBias=z.normalBias,D.shadowRadius=z.radius,D.shadowMapSize=z.mapSize,i.directionalShadow[f]=D,i.directionalShadowMap[f]=H,i.directionalShadowMatrix[f]=R.shadow.matrix,_++}i.directional[f]=V,f++}else if(R.isSpotLight){const V=e.get(R);V.position.setFromMatrixPosition(R.matrixWorld),V.color.copy(N).multiplyScalar(I),V.distance=O,V.coneCos=Math.cos(R.angle),V.penumbraCos=Math.cos(R.angle*(1-R.penumbra)),V.decay=R.decay,i.spot[m]=V;const z=R.shadow;if(R.map&&(i.spotLightMap[b]=R.map,b++,z.updateMatrices(R),R.castShadow&&S++),i.spotLightMatrix[m]=z.matrix,R.castShadow){const D=n.get(R);D.shadowIntensity=z.intensity,D.shadowBias=z.bias,D.shadowNormalBias=z.normalBias,D.shadowRadius=z.radius,D.shadowMapSize=z.mapSize,i.spotShadow[m]=D,i.spotShadowMap[m]=H,w++}m++}else if(R.isRectAreaLight){const V=e.get(R);V.color.copy(N).multiplyScalar(I),V.halfWidth.set(R.width*.5,0,0),V.halfHeight.set(0,R.height*.5,0),i.rectArea[g]=V,g++}else if(R.isPointLight){const V=e.get(R);if(V.color.copy(R.color).multiplyScalar(R.intensity),V.distance=R.distance,V.decay=R.decay,R.castShadow){const z=R.shadow,D=n.get(R);D.shadowIntensity=z.intensity,D.shadowBias=z.bias,D.shadowNormalBias=z.normalBias,D.shadowRadius=z.radius,D.shadowMapSize=z.mapSize,D.shadowCameraNear=z.camera.near,D.shadowCameraFar=z.camera.far,i.pointShadow[v]=D,i.pointShadowMap[v]=H,i.pointShadowMatrix[v]=R.shadow.matrix,y++}i.point[v]=V,v++}else if(R.isHemisphereLight){const V=e.get(R);V.skyColor.copy(R.color).multiplyScalar(I),V.groundColor.copy(R.groundColor).multiplyScalar(I),i.hemi[p]=V,p++}}g>0&&(t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Te.LTC_FLOAT_1,i.rectAreaLTC2=Te.LTC_FLOAT_2):(i.rectAreaLTC1=Te.LTC_HALF_1,i.rectAreaLTC2=Te.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=d,i.ambient[2]=h;const P=i.hash;(P.directionalLength!==f||P.pointLength!==v||P.spotLength!==m||P.rectAreaLength!==g||P.hemiLength!==p||P.numDirectionalShadows!==_||P.numPointShadows!==y||P.numSpotShadows!==w||P.numSpotMaps!==b||P.numLightProbes!==E)&&(i.directional.length=f,i.spot.length=m,i.rectArea.length=g,i.point.length=v,i.hemi.length=p,i.directionalShadow.length=_,i.directionalShadowMap.length=_,i.pointShadow.length=y,i.pointShadowMap.length=y,i.spotShadow.length=w,i.spotShadowMap.length=w,i.directionalShadowMatrix.length=_,i.pointShadowMatrix.length=y,i.spotLightMatrix.length=w+b-S,i.spotLightMap.length=b,i.numSpotLightShadowsWithMaps=S,i.numLightProbes=E,P.directionalLength=f,P.pointLength=v,P.spotLength=m,P.rectAreaLength=g,P.hemiLength=p,P.numDirectionalShadows=_,P.numPointShadows=y,P.numSpotShadows=w,P.numSpotMaps=b,P.numLightProbes=E,i.version=Sde++)}function l(c,u){let d=0,h=0,f=0,v=0,m=0;const g=u.matrixWorldInverse;for(let p=0,_=c.length;p<_;p++){const y=c[p];if(y.isDirectionalLight){const w=i.directional[d];w.direction.setFromMatrixPosition(y.matrixWorld),r.setFromMatrixPosition(y.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(g),d++}else if(y.isSpotLight){const w=i.spot[f];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(g),w.direction.setFromMatrixPosition(y.matrixWorld),r.setFromMatrixPosition(y.target.matrixWorld),w.direction.sub(r),w.direction.transformDirection(g),f++}else if(y.isRectAreaLight){const w=i.rectArea[v];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(g),o.identity(),s.copy(y.matrixWorld),s.premultiply(g),o.extractRotation(s),w.halfWidth.set(y.width*.5,0,0),w.halfHeight.set(0,y.height*.5,0),w.halfWidth.applyMatrix4(o),w.halfHeight.applyMatrix4(o),v++}else if(y.isPointLight){const w=i.point[h];w.position.setFromMatrixPosition(y.matrixWorld),w.position.applyMatrix4(g),h++}else if(y.isHemisphereLight){const w=i.hemi[m];w.direction.setFromMatrixPosition(y.matrixWorld),w.direction.transformDirection(g),m++}}}return{setup:a,setupView:l,state:i}}function Sk(t){const e=new Tde(t),n=[],i=[];function r(u){c.camera=u,n.length=0,i.length=0}function s(u){n.push(u)}function o(u){i.push(u)}function a(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Mde(t){let e=new WeakMap;function n(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new Sk(t),e.set(r,[a])):s>=o.length?(a=new Sk(t),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:n,dispose:i}}const Cde=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Pde=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ade(t,e,n){let i=new pF;const r=new wt,s=new wt,o=new dn,a=new tae({depthPacking:foe}),l=new nae,c={},u=n.maxTextureSize,d={[el]:Ni,[Ni]:el,[_o]:_o},h=new Fo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new wt},radius:{value:4}},vertexShader:Cde,fragmentShader:Pde}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const v=new kc;v.setAttribute("position",new Gs(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const m=new Ns(v,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q3;let p=this.type;this.render=function(S,E,P){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||S.length===0)return;const T=t.getRenderTarget(),C=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),N=t.state;N.setBlending(ja),N.buffers.depth.getReversed()?N.buffers.color.setClear(0,0,0,0):N.buffers.color.setClear(1,1,1,1),N.buffers.depth.setTest(!0),N.setScissorTest(!1);const I=p!==co&&this.type===co,O=p===co&&this.type!==co;for(let H=0,V=S.length;H<V;H++){const z=S[H],D=z.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",z,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;r.copy(D.mapSize);const B=D.getFrameExtents();if(r.multiply(B),s.copy(D.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/B.x),r.x=s.x*B.x,D.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/B.y),r.y=s.y*B.y,D.mapSize.y=s.y)),D.map===null||I===!0||O===!0){const ne=this.type!==co?{minFilter:fs,magFilter:fs}:{};D.map!==null&&D.map.dispose(),D.map=new Tc(r.x,r.y,ne),D.map.texture.name=z.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const K=D.getViewportCount();for(let ne=0;ne<K;ne++){const te=D.getViewport(ne);o.set(s.x*te.x,s.y*te.y,s.x*te.z,s.y*te.w),N.viewport(o),D.updateMatrices(z,ne),i=D.getFrustum(),w(E,P,D.camera,z,this.type)}D.isPointLightShadow!==!0&&this.type===co&&_(D,P),D.needsUpdate=!1}p=this.type,g.needsUpdate=!1,t.setRenderTarget(T,C,R)};function _(S,E){const P=e.update(m);h.defines.VSM_SAMPLES!==S.blurSamples&&(h.defines.VSM_SAMPLES=S.blurSamples,f.defines.VSM_SAMPLES=S.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new Tc(r.x,r.y)),h.uniforms.shadow_pass.value=S.map.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(E,null,P,h,m,null),f.uniforms.shadow_pass.value=S.mapPass.texture,f.uniforms.resolution.value=S.mapSize,f.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(E,null,P,f,m,null)}function y(S,E,P,T){let C=null;const R=P.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(R!==void 0)C=R;else if(C=P.isPointLight===!0?l:a,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0||E.alphaToCoverage===!0){const N=C.uuid,I=E.uuid;let O=c[N];O===void 0&&(O={},c[N]=O);let H=O[I];H===void 0&&(H=C.clone(),O[I]=H,E.addEventListener("dispose",b)),C=H}if(C.visible=E.visible,C.wireframe=E.wireframe,T===co?C.side=E.shadowSide!==null?E.shadowSide:E.side:C.side=E.shadowSide!==null?E.shadowSide:d[E.side],C.alphaMap=E.alphaMap,C.alphaTest=E.alphaToCoverage===!0?.5:E.alphaTest,C.map=E.map,C.clipShadows=E.clipShadows,C.clippingPlanes=E.clippingPlanes,C.clipIntersection=E.clipIntersection,C.displacementMap=E.displacementMap,C.displacementScale=E.displacementScale,C.displacementBias=E.displacementBias,C.wireframeLinewidth=E.wireframeLinewidth,C.linewidth=E.linewidth,P.isPointLight===!0&&C.isMeshDistanceMaterial===!0){const N=t.properties.get(C);N.light=P}return C}function w(S,E,P,T,C){if(S.visible===!1)return;if(S.layers.test(E.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&C===co)&&(!S.frustumCulled||i.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,S.matrixWorld);const I=e.update(S),O=S.material;if(Array.isArray(O)){const H=I.groups;for(let V=0,z=H.length;V<z;V++){const D=H[V],B=O[D.materialIndex];if(B&&B.visible){const K=y(S,B,T,C);S.onBeforeShadow(t,S,E,P,I,K,D),t.renderBufferDirect(P,null,I,K,S,D),S.onAfterShadow(t,S,E,P,I,K,D)}}}else if(O.visible){const H=y(S,O,T,C);S.onBeforeShadow(t,S,E,P,I,H,null),t.renderBufferDirect(P,null,I,H,S,null),S.onAfterShadow(t,S,E,P,I,H,null)}}const N=S.children;for(let I=0,O=N.length;I<O;I++)w(N[I],E,P,T,C)}function b(S){S.target.removeEventListener("dispose",b);for(const P in c){const T=c[P],C=S.target.uuid;C in T&&(T[C].dispose(),delete T[C])}}}const Rde={[Cb]:Pb,[Ab]:Db,[Rb]:Ib,[Md]:kb,[Pb]:Cb,[Db]:Ab,[Ib]:Rb,[kb]:Md};function kde(t,e){function n(){let W=!1;const me=new dn;let xe=null;const Re=new dn(0,0,0,0);return{setMask:function(le){xe!==le&&!W&&(t.colorMask(le,le,le,le),xe=le)},setLocked:function(le){W=le},setClear:function(le,se,ae,Ce,He){He===!0&&(le*=Ce,se*=Ce,ae*=Ce),me.set(le,se,ae,Ce),Re.equals(me)===!1&&(t.clearColor(le,se,ae,Ce),Re.copy(me))},reset:function(){W=!1,xe=null,Re.set(-1,0,0,0)}}}function i(){let W=!1,me=!1,xe=null,Re=null,le=null;return{setReversed:function(se){if(me!==se){const ae=e.get("EXT_clip_control");se?ae.clipControlEXT(ae.LOWER_LEFT_EXT,ae.ZERO_TO_ONE_EXT):ae.clipControlEXT(ae.LOWER_LEFT_EXT,ae.NEGATIVE_ONE_TO_ONE_EXT),me=se;const Ce=le;le=null,this.setClear(Ce)}},getReversed:function(){return me},setTest:function(se){se?$(t.DEPTH_TEST):ce(t.DEPTH_TEST)},setMask:function(se){xe!==se&&!W&&(t.depthMask(se),xe=se)},setFunc:function(se){if(me&&(se=Rde[se]),Re!==se){switch(se){case Cb:t.depthFunc(t.NEVER);break;case Pb:t.depthFunc(t.ALWAYS);break;case Ab:t.depthFunc(t.LESS);break;case Md:t.depthFunc(t.LEQUAL);break;case Rb:t.depthFunc(t.EQUAL);break;case kb:t.depthFunc(t.GEQUAL);break;case Db:t.depthFunc(t.GREATER);break;case Ib:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Re=se}},setLocked:function(se){W=se},setClear:function(se){le!==se&&(me&&(se=1-se),t.clearDepth(se),le=se)},reset:function(){W=!1,xe=null,Re=null,le=null,me=!1}}}function r(){let W=!1,me=null,xe=null,Re=null,le=null,se=null,ae=null,Ce=null,He=null;return{setTest:function(Je){W||(Je?$(t.STENCIL_TEST):ce(t.STENCIL_TEST))},setMask:function(Je){me!==Je&&!W&&(t.stencilMask(Je),me=Je)},setFunc:function(Je,an,xn){(xe!==Je||Re!==an||le!==xn)&&(t.stencilFunc(Je,an,xn),xe=Je,Re=an,le=xn)},setOp:function(Je,an,xn){(se!==Je||ae!==an||Ce!==xn)&&(t.stencilOp(Je,an,xn),se=Je,ae=an,Ce=xn)},setLocked:function(Je){W=Je},setClear:function(Je){He!==Je&&(t.clearStencil(Je),He=Je)},reset:function(){W=!1,me=null,xe=null,Re=null,le=null,se=null,ae=null,Ce=null,He=null}}}const s=new n,o=new i,a=new r,l=new WeakMap,c=new WeakMap;let u={},d={},h=new WeakMap,f=[],v=null,m=!1,g=null,p=null,_=null,y=null,w=null,b=null,S=null,E=new Et(0,0,0),P=0,T=!1,C=null,R=null,N=null,I=null,O=null;const H=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let V=!1,z=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(z=parseFloat(/^WebGL (\d)/.exec(D)[1]),V=z>=1):D.indexOf("OpenGL ES")!==-1&&(z=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),V=z>=2);let B=null,K={};const ne=t.getParameter(t.SCISSOR_BOX),te=t.getParameter(t.VIEWPORT),ye=new dn().fromArray(ne),pe=new dn().fromArray(te);function Y(W,me,xe,Re){const le=new Uint8Array(4),se=t.createTexture();t.bindTexture(W,se),t.texParameteri(W,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(W,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ae=0;ae<xe;ae++)W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY?t.texImage3D(me,0,t.RGBA,1,1,Re,0,t.RGBA,t.UNSIGNED_BYTE,le):t.texImage2D(me+ae,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,le);return se}const oe={};oe[t.TEXTURE_2D]=Y(t.TEXTURE_2D,t.TEXTURE_2D,1),oe[t.TEXTURE_CUBE_MAP]=Y(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),oe[t.TEXTURE_2D_ARRAY]=Y(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),oe[t.TEXTURE_3D]=Y(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),$(t.DEPTH_TEST),o.setFunc(Md),Ue(!1),Me(AR),$(t.CULL_FACE),Ne(ja);function $(W){u[W]!==!0&&(t.enable(W),u[W]=!0)}function ce(W){u[W]!==!1&&(t.disable(W),u[W]=!1)}function we(W,me){return d[W]!==me?(t.bindFramebuffer(W,me),d[W]=me,W===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=me),W===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=me),!0):!1}function ue(W,me){let xe=f,Re=!1;if(W){xe=h.get(me),xe===void 0&&(xe=[],h.set(me,xe));const le=W.textures;if(xe.length!==le.length||xe[0]!==t.COLOR_ATTACHMENT0){for(let se=0,ae=le.length;se<ae;se++)xe[se]=t.COLOR_ATTACHMENT0+se;xe.length=le.length,Re=!0}}else xe[0]!==t.BACK&&(xe[0]=t.BACK,Re=!0);Re&&t.drawBuffers(xe)}function Ze(W){return v!==W?(t.useProgram(W),v=W,!0):!1}const Xe={[Ul]:t.FUNC_ADD,[zse]:t.FUNC_SUBTRACT,[jse]:t.FUNC_REVERSE_SUBTRACT};Xe[Bse]=t.MIN,Xe[Vse]=t.MAX;const U={[Hse]:t.ZERO,[Wse]:t.ONE,[Gse]:t.SRC_COLOR,[Tb]:t.SRC_ALPHA,[Jse]:t.SRC_ALPHA_SATURATE,[Kse]:t.DST_COLOR,[qse]:t.DST_ALPHA,[$se]:t.ONE_MINUS_SRC_COLOR,[Mb]:t.ONE_MINUS_SRC_ALPHA,[Yse]:t.ONE_MINUS_DST_COLOR,[Xse]:t.ONE_MINUS_DST_ALPHA,[Qse]:t.CONSTANT_COLOR,[Zse]:t.ONE_MINUS_CONSTANT_COLOR,[eoe]:t.CONSTANT_ALPHA,[toe]:t.ONE_MINUS_CONSTANT_ALPHA};function Ne(W,me,xe,Re,le,se,ae,Ce,He,Je){if(W===ja){m===!0&&(ce(t.BLEND),m=!1);return}if(m===!1&&($(t.BLEND),m=!0),W!==Fse){if(W!==g||Je!==T){if((p!==Ul||w!==Ul)&&(t.blendEquation(t.FUNC_ADD),p=Ul,w=Ul),Je)switch(W){case $u:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RR:t.blendFunc(t.ONE,t.ONE);break;case kR:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case DR:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}else switch(W){case $u:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case RR:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case kR:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case DR:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",W);break}_=null,y=null,b=null,S=null,E.set(0,0,0),P=0,g=W,T=Je}return}le=le||me,se=se||xe,ae=ae||Re,(me!==p||le!==w)&&(t.blendEquationSeparate(Xe[me],Xe[le]),p=me,w=le),(xe!==_||Re!==y||se!==b||ae!==S)&&(t.blendFuncSeparate(U[xe],U[Re],U[se],U[ae]),_=xe,y=Re,b=se,S=ae),(Ce.equals(E)===!1||He!==P)&&(t.blendColor(Ce.r,Ce.g,Ce.b,He),E.copy(Ce),P=He),g=W,T=!1}function Se(W,me){W.side===_o?ce(t.CULL_FACE):$(t.CULL_FACE);let xe=W.side===Ni;me&&(xe=!xe),Ue(xe),W.blending===$u&&W.transparent===!1?Ne(ja):Ne(W.blending,W.blendEquation,W.blendSrc,W.blendDst,W.blendEquationAlpha,W.blendSrcAlpha,W.blendDstAlpha,W.blendColor,W.blendAlpha,W.premultipliedAlpha),o.setFunc(W.depthFunc),o.setTest(W.depthTest),o.setMask(W.depthWrite),s.setMask(W.colorWrite);const Re=W.stencilWrite;a.setTest(Re),Re&&(a.setMask(W.stencilWriteMask),a.setFunc(W.stencilFunc,W.stencilRef,W.stencilFuncMask),a.setOp(W.stencilFail,W.stencilZFail,W.stencilZPass)),ve(W.polygonOffset,W.polygonOffsetFactor,W.polygonOffsetUnits),W.alphaToCoverage===!0?$(t.SAMPLE_ALPHA_TO_COVERAGE):ce(t.SAMPLE_ALPHA_TO_COVERAGE)}function Ue(W){C!==W&&(W?t.frontFace(t.CW):t.frontFace(t.CCW),C=W)}function Me(W){W!==Ose?($(t.CULL_FACE),W!==R&&(W===AR?t.cullFace(t.BACK):W===Nse?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ce(t.CULL_FACE),R=W}function rt(W){W!==N&&(V&&t.lineWidth(W),N=W)}function ve(W,me,xe){W?($(t.POLYGON_OFFSET_FILL),(I!==me||O!==xe)&&(t.polygonOffset(me,xe),I=me,O=xe)):ce(t.POLYGON_OFFSET_FILL)}function Fe(W){W?$(t.SCISSOR_TEST):ce(t.SCISSOR_TEST)}function ot(W){W===void 0&&(W=t.TEXTURE0+H-1),B!==W&&(t.activeTexture(W),B=W)}function _t(W,me,xe){xe===void 0&&(B===null?xe=t.TEXTURE0+H-1:xe=B);let Re=K[xe];Re===void 0&&(Re={type:void 0,texture:void 0},K[xe]=Re),(Re.type!==W||Re.texture!==me)&&(B!==xe&&(t.activeTexture(xe),B=xe),t.bindTexture(W,me||oe[W]),Re.type=W,Re.texture=me)}function L(){const W=K[B];W!==void 0&&W.type!==void 0&&(t.bindTexture(W.type,null),W.type=void 0,W.texture=void 0)}function A(){try{t.compressedTexImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function F(){try{t.compressedTexImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function G(){try{t.texSubImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function ie(){try{t.texSubImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function J(){try{t.compressedTexSubImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Ae(){try{t.compressedTexSubImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function he(){try{t.texStorage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function ke(){try{t.texStorage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function Oe(){try{t.texImage2D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function fe(){try{t.texImage3D(...arguments)}catch(W){console.error("THREE.WebGLState:",W)}}function be(W){ye.equals(W)===!1&&(t.scissor(W.x,W.y,W.z,W.w),ye.copy(W))}function Ve(W){pe.equals(W)===!1&&(t.viewport(W.x,W.y,W.z,W.w),pe.copy(W))}function Le(W,me){let xe=c.get(me);xe===void 0&&(xe=new WeakMap,c.set(me,xe));let Re=xe.get(W);Re===void 0&&(Re=t.getUniformBlockIndex(me,W.name),xe.set(W,Re))}function Ee(W,me){const Re=c.get(me).get(W);l.get(me)!==Re&&(t.uniformBlockBinding(me,Re,W.__bindingPointIndex),l.set(me,Re))}function Ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},B=null,K={},d={},h=new WeakMap,f=[],v=null,m=!1,g=null,p=null,_=null,y=null,w=null,b=null,S=null,E=new Et(0,0,0),P=0,T=!1,C=null,R=null,N=null,I=null,O=null,ye.set(0,0,t.canvas.width,t.canvas.height),pe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:$,disable:ce,bindFramebuffer:we,drawBuffers:ue,useProgram:Ze,setBlending:Ne,setMaterial:Se,setFlipSided:Ue,setCullFace:Me,setLineWidth:rt,setPolygonOffset:ve,setScissorTest:Fe,activeTexture:ot,bindTexture:_t,unbindTexture:L,compressedTexImage2D:A,compressedTexImage3D:F,texImage2D:Oe,texImage3D:fe,updateUBOMapping:Le,uniformBlockBinding:Ee,texStorage2D:he,texStorage3D:ke,texSubImage2D:G,texSubImage3D:ie,compressedTexSubImage2D:J,compressedTexSubImage3D:Ae,scissor:be,viewport:Ve,reset:Ke}}function Dde(t,e,n,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new wt,u=new WeakMap;let d;const h=new WeakMap;let f=!1;try{f=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(L,A){return f?new OffscreenCanvas(L,A):Sv("canvas")}function m(L,A,F){let G=1;const ie=_t(L);if((ie.width>F||ie.height>F)&&(G=F/Math.max(ie.width,ie.height)),G<1)if(typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&L instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&L instanceof ImageBitmap||typeof VideoFrame<"u"&&L instanceof VideoFrame){const J=Math.floor(G*ie.width),Ae=Math.floor(G*ie.height);d===void 0&&(d=v(J,Ae));const he=A?v(J,Ae):d;return he.width=J,he.height=Ae,he.getContext("2d").drawImage(L,0,0,J,Ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ie.width+"x"+ie.height+") to ("+J+"x"+Ae+")."),he}else return"data"in L&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ie.width+"x"+ie.height+")."),L;return L}function g(L){return L.generateMipmaps}function p(L){t.generateMipmap(L)}function _(L){return L.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:L.isWebGL3DRenderTarget?t.TEXTURE_3D:L.isWebGLArrayRenderTarget||L.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function y(L,A,F,G,ie=!1){if(L!==null){if(t[L]!==void 0)return t[L];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+L+"'")}let J=A;if(A===t.RED&&(F===t.FLOAT&&(J=t.R32F),F===t.HALF_FLOAT&&(J=t.R16F),F===t.UNSIGNED_BYTE&&(J=t.R8)),A===t.RED_INTEGER&&(F===t.UNSIGNED_BYTE&&(J=t.R8UI),F===t.UNSIGNED_SHORT&&(J=t.R16UI),F===t.UNSIGNED_INT&&(J=t.R32UI),F===t.BYTE&&(J=t.R8I),F===t.SHORT&&(J=t.R16I),F===t.INT&&(J=t.R32I)),A===t.RG&&(F===t.FLOAT&&(J=t.RG32F),F===t.HALF_FLOAT&&(J=t.RG16F),F===t.UNSIGNED_BYTE&&(J=t.RG8)),A===t.RG_INTEGER&&(F===t.UNSIGNED_BYTE&&(J=t.RG8UI),F===t.UNSIGNED_SHORT&&(J=t.RG16UI),F===t.UNSIGNED_INT&&(J=t.RG32UI),F===t.BYTE&&(J=t.RG8I),F===t.SHORT&&(J=t.RG16I),F===t.INT&&(J=t.RG32I)),A===t.RGB_INTEGER&&(F===t.UNSIGNED_BYTE&&(J=t.RGB8UI),F===t.UNSIGNED_SHORT&&(J=t.RGB16UI),F===t.UNSIGNED_INT&&(J=t.RGB32UI),F===t.BYTE&&(J=t.RGB8I),F===t.SHORT&&(J=t.RGB16I),F===t.INT&&(J=t.RGB32I)),A===t.RGBA_INTEGER&&(F===t.UNSIGNED_BYTE&&(J=t.RGBA8UI),F===t.UNSIGNED_SHORT&&(J=t.RGBA16UI),F===t.UNSIGNED_INT&&(J=t.RGBA32UI),F===t.BYTE&&(J=t.RGBA8I),F===t.SHORT&&(J=t.RGBA16I),F===t.INT&&(J=t.RGBA32I)),A===t.RGB&&F===t.UNSIGNED_INT_5_9_9_9_REV&&(J=t.RGB9_E5),A===t.RGBA){const Ae=ie?wv:gt.getTransfer(G);F===t.FLOAT&&(J=t.RGBA32F),F===t.HALF_FLOAT&&(J=t.RGBA16F),F===t.UNSIGNED_BYTE&&(J=Ae===St?t.SRGB8_ALPHA8:t.RGBA8),F===t.UNSIGNED_SHORT_4_4_4_4&&(J=t.RGBA4),F===t.UNSIGNED_SHORT_5_5_5_1&&(J=t.RGB5_A1)}return(J===t.R16F||J===t.R32F||J===t.RG16F||J===t.RG32F||J===t.RGBA16F||J===t.RGBA32F)&&e.get("EXT_color_buffer_float"),J}function w(L,A){let F;return L?A===null||A===Ec||A===Vf?F=t.DEPTH24_STENCIL8:A===So?F=t.DEPTH32F_STENCIL8:A===Bf&&(F=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):A===null||A===Ec||A===Vf?F=t.DEPTH_COMPONENT24:A===So?F=t.DEPTH_COMPONENT32F:A===Bf&&(F=t.DEPTH_COMPONENT16),F}function b(L,A){return g(L)===!0||L.isFramebufferTexture&&L.minFilter!==fs&&L.minFilter!==Ls?Math.log2(Math.max(A.width,A.height))+1:L.mipmaps!==void 0&&L.mipmaps.length>0?L.mipmaps.length:L.isCompressedTexture&&Array.isArray(L.image)?A.mipmaps.length:1}function S(L){const A=L.target;A.removeEventListener("dispose",S),P(A),A.isVideoTexture&&u.delete(A)}function E(L){const A=L.target;A.removeEventListener("dispose",E),C(A)}function P(L){const A=i.get(L);if(A.__webglInit===void 0)return;const F=L.source,G=h.get(F);if(G){const ie=G[A.__cacheKey];ie.usedTimes--,ie.usedTimes===0&&T(L),Object.keys(G).length===0&&h.delete(F)}i.remove(L)}function T(L){const A=i.get(L);t.deleteTexture(A.__webglTexture);const F=L.source,G=h.get(F);delete G[A.__cacheKey],o.memory.textures--}function C(L){const A=i.get(L);if(L.depthTexture&&(L.depthTexture.dispose(),i.remove(L.depthTexture)),L.isWebGLCubeRenderTarget)for(let G=0;G<6;G++){if(Array.isArray(A.__webglFramebuffer[G]))for(let ie=0;ie<A.__webglFramebuffer[G].length;ie++)t.deleteFramebuffer(A.__webglFramebuffer[G][ie]);else t.deleteFramebuffer(A.__webglFramebuffer[G]);A.__webglDepthbuffer&&t.deleteRenderbuffer(A.__webglDepthbuffer[G])}else{if(Array.isArray(A.__webglFramebuffer))for(let G=0;G<A.__webglFramebuffer.length;G++)t.deleteFramebuffer(A.__webglFramebuffer[G]);else t.deleteFramebuffer(A.__webglFramebuffer);if(A.__webglDepthbuffer&&t.deleteRenderbuffer(A.__webglDepthbuffer),A.__webglMultisampledFramebuffer&&t.deleteFramebuffer(A.__webglMultisampledFramebuffer),A.__webglColorRenderbuffer)for(let G=0;G<A.__webglColorRenderbuffer.length;G++)A.__webglColorRenderbuffer[G]&&t.deleteRenderbuffer(A.__webglColorRenderbuffer[G]);A.__webglDepthRenderbuffer&&t.deleteRenderbuffer(A.__webglDepthRenderbuffer)}const F=L.textures;for(let G=0,ie=F.length;G<ie;G++){const J=i.get(F[G]);J.__webglTexture&&(t.deleteTexture(J.__webglTexture),o.memory.textures--),i.remove(F[G])}i.remove(L)}let R=0;function N(){R=0}function I(){const L=R;return L>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+L+" texture units while this GPU supports only "+r.maxTextures),R+=1,L}function O(L){const A=[];return A.push(L.wrapS),A.push(L.wrapT),A.push(L.wrapR||0),A.push(L.magFilter),A.push(L.minFilter),A.push(L.anisotropy),A.push(L.internalFormat),A.push(L.format),A.push(L.type),A.push(L.generateMipmaps),A.push(L.premultiplyAlpha),A.push(L.flipY),A.push(L.unpackAlignment),A.push(L.colorSpace),A.join()}function H(L,A){const F=i.get(L);if(L.isVideoTexture&&Fe(L),L.isRenderTargetTexture===!1&&L.isExternalTexture!==!0&&L.version>0&&F.__version!==L.version){const G=L.image;if(G===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(G.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{oe(F,L,A);return}}else L.isExternalTexture&&(F.__webglTexture=L.sourceTexture?L.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,F.__webglTexture,t.TEXTURE0+A)}function V(L,A){const F=i.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&F.__version!==L.version){oe(F,L,A);return}n.bindTexture(t.TEXTURE_2D_ARRAY,F.__webglTexture,t.TEXTURE0+A)}function z(L,A){const F=i.get(L);if(L.isRenderTargetTexture===!1&&L.version>0&&F.__version!==L.version){oe(F,L,A);return}n.bindTexture(t.TEXTURE_3D,F.__webglTexture,t.TEXTURE0+A)}function D(L,A){const F=i.get(L);if(L.version>0&&F.__version!==L.version){$(F,L,A);return}n.bindTexture(t.TEXTURE_CUBE_MAP,F.__webglTexture,t.TEXTURE0+A)}const B={[Nb]:t.REPEAT,[Kl]:t.CLAMP_TO_EDGE,[Ub]:t.MIRRORED_REPEAT},K={[fs]:t.NEAREST,[doe]:t.NEAREST_MIPMAP_NEAREST,[wm]:t.NEAREST_MIPMAP_LINEAR,[Ls]:t.LINEAR,[M_]:t.LINEAR_MIPMAP_NEAREST,[Yl]:t.LINEAR_MIPMAP_LINEAR},ne={[goe]:t.NEVER,[boe]:t.ALWAYS,[voe]:t.LESS,[rF]:t.LEQUAL,[yoe]:t.EQUAL,[woe]:t.GEQUAL,[_oe]:t.GREATER,[xoe]:t.NOTEQUAL};function te(L,A){if(A.type===So&&e.has("OES_texture_float_linear")===!1&&(A.magFilter===Ls||A.magFilter===M_||A.magFilter===wm||A.magFilter===Yl||A.minFilter===Ls||A.minFilter===M_||A.minFilter===wm||A.minFilter===Yl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(L,t.TEXTURE_WRAP_S,B[A.wrapS]),t.texParameteri(L,t.TEXTURE_WRAP_T,B[A.wrapT]),(L===t.TEXTURE_3D||L===t.TEXTURE_2D_ARRAY)&&t.texParameteri(L,t.TEXTURE_WRAP_R,B[A.wrapR]),t.texParameteri(L,t.TEXTURE_MAG_FILTER,K[A.magFilter]),t.texParameteri(L,t.TEXTURE_MIN_FILTER,K[A.minFilter]),A.compareFunction&&(t.texParameteri(L,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(L,t.TEXTURE_COMPARE_FUNC,ne[A.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(A.magFilter===fs||A.minFilter!==wm&&A.minFilter!==Yl||A.type===So&&e.has("OES_texture_float_linear")===!1)return;if(A.anisotropy>1||i.get(A).__currentAnisotropy){const F=e.get("EXT_texture_filter_anisotropic");t.texParameterf(L,F.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(A.anisotropy,r.getMaxAnisotropy())),i.get(A).__currentAnisotropy=A.anisotropy}}}function ye(L,A){let F=!1;L.__webglInit===void 0&&(L.__webglInit=!0,A.addEventListener("dispose",S));const G=A.source;let ie=h.get(G);ie===void 0&&(ie={},h.set(G,ie));const J=O(A);if(J!==L.__cacheKey){ie[J]===void 0&&(ie[J]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,F=!0),ie[J].usedTimes++;const Ae=ie[L.__cacheKey];Ae!==void 0&&(ie[L.__cacheKey].usedTimes--,Ae.usedTimes===0&&T(A)),L.__cacheKey=J,L.__webglTexture=ie[J].texture}return F}function pe(L,A,F){return Math.floor(Math.floor(L/F)/A)}function Y(L,A,F,G){const J=L.updateRanges;if(J.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,A.width,A.height,F,G,A.data);else{J.sort((fe,be)=>fe.start-be.start);let Ae=0;for(let fe=1;fe<J.length;fe++){const be=J[Ae],Ve=J[fe],Le=be.start+be.count,Ee=pe(Ve.start,A.width,4),Ke=pe(be.start,A.width,4);Ve.start<=Le+1&&Ee===Ke&&pe(Ve.start+Ve.count-1,A.width,4)===Ee?be.count=Math.max(be.count,Ve.start+Ve.count-be.start):(++Ae,J[Ae]=Ve)}J.length=Ae+1;const he=t.getParameter(t.UNPACK_ROW_LENGTH),ke=t.getParameter(t.UNPACK_SKIP_PIXELS),Oe=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,A.width);for(let fe=0,be=J.length;fe<be;fe++){const Ve=J[fe],Le=Math.floor(Ve.start/4),Ee=Math.ceil(Ve.count/4),Ke=Le%A.width,W=Math.floor(Le/A.width),me=Ee,xe=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ke),t.pixelStorei(t.UNPACK_SKIP_ROWS,W),n.texSubImage2D(t.TEXTURE_2D,0,Ke,W,me,xe,F,G,A.data)}L.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,he),t.pixelStorei(t.UNPACK_SKIP_PIXELS,ke),t.pixelStorei(t.UNPACK_SKIP_ROWS,Oe)}}function oe(L,A,F){let G=t.TEXTURE_2D;(A.isDataArrayTexture||A.isCompressedArrayTexture)&&(G=t.TEXTURE_2D_ARRAY),A.isData3DTexture&&(G=t.TEXTURE_3D);const ie=ye(L,A),J=A.source;n.bindTexture(G,L.__webglTexture,t.TEXTURE0+F);const Ae=i.get(J);if(J.version!==Ae.__version||ie===!0){n.activeTexture(t.TEXTURE0+F);const he=gt.getPrimaries(gt.workingColorSpace),ke=A.colorSpace===fa?null:gt.getPrimaries(A.colorSpace),Oe=A.colorSpace===fa||he===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,A.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,A.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);let fe=m(A.image,!1,r.maxTextureSize);fe=ot(A,fe);const be=s.convert(A.format,A.colorSpace),Ve=s.convert(A.type);let Le=y(A.internalFormat,be,Ve,A.colorSpace,A.isVideoTexture);te(G,A);let Ee;const Ke=A.mipmaps,W=A.isVideoTexture!==!0,me=Ae.__version===void 0||ie===!0,xe=J.dataReady,Re=b(A,fe);if(A.isDepthTexture)Le=w(A.format===Wf,A.type),me&&(W?n.texStorage2D(t.TEXTURE_2D,1,Le,fe.width,fe.height):n.texImage2D(t.TEXTURE_2D,0,Le,fe.width,fe.height,0,be,Ve,null));else if(A.isDataTexture)if(Ke.length>0){W&&me&&n.texStorage2D(t.TEXTURE_2D,Re,Le,Ke[0].width,Ke[0].height);for(let le=0,se=Ke.length;le<se;le++)Ee=Ke[le],W?xe&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,Ee.width,Ee.height,be,Ve,Ee.data):n.texImage2D(t.TEXTURE_2D,le,Le,Ee.width,Ee.height,0,be,Ve,Ee.data);A.generateMipmaps=!1}else W?(me&&n.texStorage2D(t.TEXTURE_2D,Re,Le,fe.width,fe.height),xe&&Y(A,fe,be,Ve)):n.texImage2D(t.TEXTURE_2D,0,Le,fe.width,fe.height,0,be,Ve,fe.data);else if(A.isCompressedTexture)if(A.isCompressedArrayTexture){W&&me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,Le,Ke[0].width,Ke[0].height,fe.depth);for(let le=0,se=Ke.length;le<se;le++)if(Ee=Ke[le],A.format!==as)if(be!==null)if(W){if(xe)if(A.layerUpdates.size>0){const ae=ZR(Ee.width,Ee.height,A.format,A.type);for(const Ce of A.layerUpdates){const He=Ee.data.subarray(Ce*ae/Ee.data.BYTES_PER_ELEMENT,(Ce+1)*ae/Ee.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,Ce,Ee.width,Ee.height,1,be,He)}A.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,0,Ee.width,Ee.height,fe.depth,be,Ee.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,le,Le,Ee.width,Ee.height,fe.depth,0,Ee.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else W?xe&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,0,Ee.width,Ee.height,fe.depth,be,Ve,Ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,le,Le,Ee.width,Ee.height,fe.depth,0,be,Ve,Ee.data)}else{W&&me&&n.texStorage2D(t.TEXTURE_2D,Re,Le,Ke[0].width,Ke[0].height);for(let le=0,se=Ke.length;le<se;le++)Ee=Ke[le],A.format!==as?be!==null?W?xe&&n.compressedTexSubImage2D(t.TEXTURE_2D,le,0,0,Ee.width,Ee.height,be,Ee.data):n.compressedTexImage2D(t.TEXTURE_2D,le,Le,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):W?xe&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,Ee.width,Ee.height,be,Ve,Ee.data):n.texImage2D(t.TEXTURE_2D,le,Le,Ee.width,Ee.height,0,be,Ve,Ee.data)}else if(A.isDataArrayTexture)if(W){if(me&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Re,Le,fe.width,fe.height,fe.depth),xe)if(A.layerUpdates.size>0){const le=ZR(fe.width,fe.height,A.format,A.type);for(const se of A.layerUpdates){const ae=fe.data.subarray(se*le/fe.data.BYTES_PER_ELEMENT,(se+1)*le/fe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,se,fe.width,fe.height,1,be,Ve,ae)}A.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,fe.width,fe.height,fe.depth,be,Ve,fe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Le,fe.width,fe.height,fe.depth,0,be,Ve,fe.data);else if(A.isData3DTexture)W?(me&&n.texStorage3D(t.TEXTURE_3D,Re,Le,fe.width,fe.height,fe.depth),xe&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,fe.width,fe.height,fe.depth,be,Ve,fe.data)):n.texImage3D(t.TEXTURE_3D,0,Le,fe.width,fe.height,fe.depth,0,be,Ve,fe.data);else if(A.isFramebufferTexture){if(me)if(W)n.texStorage2D(t.TEXTURE_2D,Re,Le,fe.width,fe.height);else{let le=fe.width,se=fe.height;for(let ae=0;ae<Re;ae++)n.texImage2D(t.TEXTURE_2D,ae,Le,le,se,0,be,Ve,null),le>>=1,se>>=1}}else if(Ke.length>0){if(W&&me){const le=_t(Ke[0]);n.texStorage2D(t.TEXTURE_2D,Re,Le,le.width,le.height)}for(let le=0,se=Ke.length;le<se;le++)Ee=Ke[le],W?xe&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,be,Ve,Ee):n.texImage2D(t.TEXTURE_2D,le,Le,be,Ve,Ee);A.generateMipmaps=!1}else if(W){if(me){const le=_t(fe);n.texStorage2D(t.TEXTURE_2D,Re,Le,le.width,le.height)}xe&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,be,Ve,fe)}else n.texImage2D(t.TEXTURE_2D,0,Le,be,Ve,fe);g(A)&&p(G),Ae.__version=J.version,A.onUpdate&&A.onUpdate(A)}L.__version=A.version}function $(L,A,F){if(A.image.length!==6)return;const G=ye(L,A),ie=A.source;n.bindTexture(t.TEXTURE_CUBE_MAP,L.__webglTexture,t.TEXTURE0+F);const J=i.get(ie);if(ie.version!==J.__version||G===!0){n.activeTexture(t.TEXTURE0+F);const Ae=gt.getPrimaries(gt.workingColorSpace),he=A.colorSpace===fa?null:gt.getPrimaries(A.colorSpace),ke=A.colorSpace===fa||Ae===he?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,A.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,A.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,A.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ke);const Oe=A.isCompressedTexture||A.image[0].isCompressedTexture,fe=A.image[0]&&A.image[0].isDataTexture,be=[];for(let se=0;se<6;se++)!Oe&&!fe?be[se]=m(A.image[se],!0,r.maxCubemapSize):be[se]=fe?A.image[se].image:A.image[se],be[se]=ot(A,be[se]);const Ve=be[0],Le=s.convert(A.format,A.colorSpace),Ee=s.convert(A.type),Ke=y(A.internalFormat,Le,Ee,A.colorSpace),W=A.isVideoTexture!==!0,me=J.__version===void 0||G===!0,xe=ie.dataReady;let Re=b(A,Ve);te(t.TEXTURE_CUBE_MAP,A);let le;if(Oe){W&&me&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,Ke,Ve.width,Ve.height);for(let se=0;se<6;se++){le=be[se].mipmaps;for(let ae=0;ae<le.length;ae++){const Ce=le[ae];A.format!==as?Le!==null?W?xe&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae,0,0,Ce.width,Ce.height,Le,Ce.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae,Ke,Ce.width,Ce.height,0,Ce.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):W?xe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae,0,0,Ce.width,Ce.height,Le,Ee,Ce.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae,Ke,Ce.width,Ce.height,0,Le,Ee,Ce.data)}}}else{if(le=A.mipmaps,W&&me){le.length>0&&Re++;const se=_t(be[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Re,Ke,se.width,se.height)}for(let se=0;se<6;se++)if(fe){W?xe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,be[se].width,be[se].height,Le,Ee,be[se].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ke,be[se].width,be[se].height,0,Le,Ee,be[se].data);for(let ae=0;ae<le.length;ae++){const He=le[ae].image[se].image;W?xe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae+1,0,0,He.width,He.height,Le,Ee,He.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae+1,Ke,He.width,He.height,0,Le,Ee,He.data)}}else{W?xe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,0,0,Le,Ee,be[se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,0,Ke,Le,Ee,be[se]);for(let ae=0;ae<le.length;ae++){const Ce=le[ae];W?xe&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae+1,0,0,Le,Ee,Ce.image[se]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+se,ae+1,Ke,Le,Ee,Ce.image[se])}}}g(A)&&p(t.TEXTURE_CUBE_MAP),J.__version=ie.version,A.onUpdate&&A.onUpdate(A)}L.__version=A.version}function ce(L,A,F,G,ie,J){const Ae=s.convert(F.format,F.colorSpace),he=s.convert(F.type),ke=y(F.internalFormat,Ae,he,F.colorSpace),Oe=i.get(A),fe=i.get(F);if(fe.__renderTarget=A,!Oe.__hasExternalTextures){const be=Math.max(1,A.width>>J),Ve=Math.max(1,A.height>>J);ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY?n.texImage3D(ie,J,ke,be,Ve,A.depth,0,Ae,he,null):n.texImage2D(ie,J,ke,be,Ve,0,Ae,he,null)}n.bindFramebuffer(t.FRAMEBUFFER,L),ve(A)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,G,ie,fe.__webglTexture,0,rt(A)):(ie===t.TEXTURE_2D||ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,G,ie,fe.__webglTexture,J),n.bindFramebuffer(t.FRAMEBUFFER,null)}function we(L,A,F){if(t.bindRenderbuffer(t.RENDERBUFFER,L),A.depthBuffer){const G=A.depthTexture,ie=G&&G.isDepthTexture?G.type:null,J=w(A.stencilBuffer,ie),Ae=A.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,he=rt(A);ve(A)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,he,J,A.width,A.height):F?t.renderbufferStorageMultisample(t.RENDERBUFFER,he,J,A.width,A.height):t.renderbufferStorage(t.RENDERBUFFER,J,A.width,A.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ae,t.RENDERBUFFER,L)}else{const G=A.textures;for(let ie=0;ie<G.length;ie++){const J=G[ie],Ae=s.convert(J.format,J.colorSpace),he=s.convert(J.type),ke=y(J.internalFormat,Ae,he,J.colorSpace),Oe=rt(A);F&&ve(A)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Oe,ke,A.width,A.height):ve(A)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Oe,ke,A.width,A.height):t.renderbufferStorage(t.RENDERBUFFER,ke,A.width,A.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ue(L,A){if(A&&A.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,L),!(A.depthTexture&&A.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const G=i.get(A.depthTexture);G.__renderTarget=A,(!G.__webglTexture||A.depthTexture.image.width!==A.width||A.depthTexture.image.height!==A.height)&&(A.depthTexture.image.width=A.width,A.depthTexture.image.height=A.height,A.depthTexture.needsUpdate=!0),H(A.depthTexture,0);const ie=G.__webglTexture,J=rt(A);if(A.depthTexture.format===Hf)ve(A)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ie,0,J):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ie,0);else if(A.depthTexture.format===Wf)ve(A)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ie,0,J):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ie,0);else throw new Error("Unknown depthTexture format")}function Ze(L){const A=i.get(L),F=L.isWebGLCubeRenderTarget===!0;if(A.__boundDepthTexture!==L.depthTexture){const G=L.depthTexture;if(A.__depthDisposeCallback&&A.__depthDisposeCallback(),G){const ie=()=>{delete A.__boundDepthTexture,delete A.__depthDisposeCallback,G.removeEventListener("dispose",ie)};G.addEventListener("dispose",ie),A.__depthDisposeCallback=ie}A.__boundDepthTexture=G}if(L.depthTexture&&!A.__autoAllocateDepthBuffer){if(F)throw new Error("target.depthTexture not supported in Cube render targets");const G=L.texture.mipmaps;G&&G.length>0?ue(A.__webglFramebuffer[0],L):ue(A.__webglFramebuffer,L)}else if(F){A.__webglDepthbuffer=[];for(let G=0;G<6;G++)if(n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer[G]),A.__webglDepthbuffer[G]===void 0)A.__webglDepthbuffer[G]=t.createRenderbuffer(),we(A.__webglDepthbuffer[G],L,!1);else{const ie=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,J=A.__webglDepthbuffer[G];t.bindRenderbuffer(t.RENDERBUFFER,J),t.framebufferRenderbuffer(t.FRAMEBUFFER,ie,t.RENDERBUFFER,J)}}else{const G=L.texture.mipmaps;if(G&&G.length>0?n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,A.__webglFramebuffer),A.__webglDepthbuffer===void 0)A.__webglDepthbuffer=t.createRenderbuffer(),we(A.__webglDepthbuffer,L,!1);else{const ie=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,J=A.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,J),t.framebufferRenderbuffer(t.FRAMEBUFFER,ie,t.RENDERBUFFER,J)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Xe(L,A,F){const G=i.get(L);A!==void 0&&ce(G.__webglFramebuffer,L,L.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),F!==void 0&&Ze(L)}function U(L){const A=L.texture,F=i.get(L),G=i.get(A);L.addEventListener("dispose",E);const ie=L.textures,J=L.isWebGLCubeRenderTarget===!0,Ae=ie.length>1;if(Ae||(G.__webglTexture===void 0&&(G.__webglTexture=t.createTexture()),G.__version=A.version,o.memory.textures++),J){F.__webglFramebuffer=[];for(let he=0;he<6;he++)if(A.mipmaps&&A.mipmaps.length>0){F.__webglFramebuffer[he]=[];for(let ke=0;ke<A.mipmaps.length;ke++)F.__webglFramebuffer[he][ke]=t.createFramebuffer()}else F.__webglFramebuffer[he]=t.createFramebuffer()}else{if(A.mipmaps&&A.mipmaps.length>0){F.__webglFramebuffer=[];for(let he=0;he<A.mipmaps.length;he++)F.__webglFramebuffer[he]=t.createFramebuffer()}else F.__webglFramebuffer=t.createFramebuffer();if(Ae)for(let he=0,ke=ie.length;he<ke;he++){const Oe=i.get(ie[he]);Oe.__webglTexture===void 0&&(Oe.__webglTexture=t.createTexture(),o.memory.textures++)}if(L.samples>0&&ve(L)===!1){F.__webglMultisampledFramebuffer=t.createFramebuffer(),F.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,F.__webglMultisampledFramebuffer);for(let he=0;he<ie.length;he++){const ke=ie[he];F.__webglColorRenderbuffer[he]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,F.__webglColorRenderbuffer[he]);const Oe=s.convert(ke.format,ke.colorSpace),fe=s.convert(ke.type),be=y(ke.internalFormat,Oe,fe,ke.colorSpace,L.isXRRenderTarget===!0),Ve=rt(L);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,be,L.width,L.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+he,t.RENDERBUFFER,F.__webglColorRenderbuffer[he])}t.bindRenderbuffer(t.RENDERBUFFER,null),L.depthBuffer&&(F.__webglDepthRenderbuffer=t.createRenderbuffer(),we(F.__webglDepthRenderbuffer,L,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(J){n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture),te(t.TEXTURE_CUBE_MAP,A);for(let he=0;he<6;he++)if(A.mipmaps&&A.mipmaps.length>0)for(let ke=0;ke<A.mipmaps.length;ke++)ce(F.__webglFramebuffer[he][ke],L,A,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,ke);else ce(F.__webglFramebuffer[he],L,A,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+he,0);g(A)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ae){for(let he=0,ke=ie.length;he<ke;he++){const Oe=ie[he],fe=i.get(Oe);let be=t.TEXTURE_2D;(L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(be=L.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(be,fe.__webglTexture),te(be,Oe),ce(F.__webglFramebuffer,L,Oe,t.COLOR_ATTACHMENT0+he,be,0),g(Oe)&&p(be)}n.unbindTexture()}else{let he=t.TEXTURE_2D;if((L.isWebGL3DRenderTarget||L.isWebGLArrayRenderTarget)&&(he=L.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(he,G.__webglTexture),te(he,A),A.mipmaps&&A.mipmaps.length>0)for(let ke=0;ke<A.mipmaps.length;ke++)ce(F.__webglFramebuffer[ke],L,A,t.COLOR_ATTACHMENT0,he,ke);else ce(F.__webglFramebuffer,L,A,t.COLOR_ATTACHMENT0,he,0);g(A)&&p(he),n.unbindTexture()}L.depthBuffer&&Ze(L)}function Ne(L){const A=L.textures;for(let F=0,G=A.length;F<G;F++){const ie=A[F];if(g(ie)){const J=_(L),Ae=i.get(ie).__webglTexture;n.bindTexture(J,Ae),p(J),n.unbindTexture()}}}const Se=[],Ue=[];function Me(L){if(L.samples>0){if(ve(L)===!1){const A=L.textures,F=L.width,G=L.height;let ie=t.COLOR_BUFFER_BIT;const J=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ae=i.get(L),he=A.length>1;if(he)for(let Oe=0;Oe<A.length;Oe++)n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer);const ke=L.texture.mipmaps;ke&&ke.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglFramebuffer);for(let Oe=0;Oe<A.length;Oe++){if(L.resolveDepthBuffer&&(L.depthBuffer&&(ie|=t.DEPTH_BUFFER_BIT),L.stencilBuffer&&L.resolveStencilBuffer&&(ie|=t.STENCIL_BUFFER_BIT)),he){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Oe]);const fe=i.get(A[Oe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,fe,0)}t.blitFramebuffer(0,0,F,G,0,0,F,G,ie,t.NEAREST),l===!0&&(Se.length=0,Ue.length=0,Se.push(t.COLOR_ATTACHMENT0+Oe),L.depthBuffer&&L.resolveDepthBuffer===!1&&(Se.push(J),Ue.push(J),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Ue)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Se))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),he)for(let Oe=0;Oe<A.length;Oe++){n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.RENDERBUFFER,Ae.__webglColorRenderbuffer[Oe]);const fe=i.get(A[Oe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ae.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Oe,t.TEXTURE_2D,fe,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ae.__webglMultisampledFramebuffer)}else if(L.depthBuffer&&L.resolveDepthBuffer===!1&&l){const A=L.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[A])}}}function rt(L){return Math.min(r.maxSamples,L.samples)}function ve(L){const A=i.get(L);return L.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&A.__useRenderToTexture!==!1}function Fe(L){const A=o.render.frame;u.get(L)!==A&&(u.set(L,A),L.update())}function ot(L,A){const F=L.colorSpace,G=L.format,ie=L.type;return L.isCompressedTexture===!0||L.isVideoTexture===!0||F!==Ad&&F!==fa&&(gt.getTransfer(F)===St?(G!==as||ie!==No)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",F)),A}function _t(L){return typeof HTMLImageElement<"u"&&L instanceof HTMLImageElement?(c.width=L.naturalWidth||L.width,c.height=L.naturalHeight||L.height):typeof VideoFrame<"u"&&L instanceof VideoFrame?(c.width=L.displayWidth,c.height=L.displayHeight):(c.width=L.width,c.height=L.height),c}this.allocateTextureUnit=I,this.resetTextureUnits=N,this.setTexture2D=H,this.setTexture2DArray=V,this.setTexture3D=z,this.setTextureCube=D,this.rebindTextures=Xe,this.setupRenderTarget=U,this.updateRenderTargetMipmap=Ne,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=Ze,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=ve}function Ide(t,e){function n(i,r=fa){let s;const o=gt.getTransfer(r);if(i===No)return t.UNSIGNED_BYTE;if(i===V1)return t.UNSIGNED_SHORT_4_4_4_4;if(i===H1)return t.UNSIGNED_SHORT_5_5_5_1;if(i===Q3)return t.UNSIGNED_INT_5_9_9_9_REV;if(i===Y3)return t.BYTE;if(i===J3)return t.SHORT;if(i===Bf)return t.UNSIGNED_SHORT;if(i===B1)return t.INT;if(i===Ec)return t.UNSIGNED_INT;if(i===So)return t.FLOAT;if(i===_p)return t.HALF_FLOAT;if(i===Z3)return t.ALPHA;if(i===eF)return t.RGB;if(i===as)return t.RGBA;if(i===Hf)return t.DEPTH_COMPONENT;if(i===Wf)return t.DEPTH_STENCIL;if(i===tF)return t.RED;if(i===W1)return t.RED_INTEGER;if(i===nF)return t.RG;if(i===G1)return t.RG_INTEGER;if(i===$1)return t.RGBA_INTEGER;if(i===gg||i===vg||i===yg||i===_g)if(o===St)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===gg)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===vg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===yg)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===_g)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===gg)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===vg)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===yg)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===_g)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Fb||i===zb||i===jb||i===Bb)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===Fb)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===zb)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===jb)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Bb)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Vb||i===Hb||i===Wb)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Vb||i===Hb)return o===St?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Wb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Gb||i===$b||i===qb||i===Xb||i===Kb||i===Yb||i===Jb||i===Qb||i===Zb||i===eS||i===tS||i===nS||i===iS||i===rS)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Gb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===$b)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===qb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Xb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Kb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===Yb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Jb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Qb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Zb)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===eS)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===tS)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===nS)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===iS)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===rS)return o===St?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===xg||i===sS||i===oS)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===xg)return o===St?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===sS)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===oS)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===iF||i===aS||i===lS||i===cS)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===xg)return s.COMPRESSED_RED_RGTC1_EXT;if(i===aS)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===lS)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===cS)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Vf?t.UNSIGNED_INT_24_8:t[i]!==void 0?t[i]:null}return{convert:n}}class wF extends Ui{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}}const Lde=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Ode=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Nde{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const i=new wF(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,i=new Fo({vertexShader:Lde,fragmentShader:Ode,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ns(new Ep(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Ude extends Jd{constructor(e,n){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,v=null;const m=new Nde,g={},p=n.getContextAttributes();let _=null,y=null;const w=[],b=[],S=new wt;let E=null;const P=new ns;P.viewport=new dn;const T=new ns;T.viewport=new dn;const C=[P,T],R=new rae;let N=null,I=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let oe=w[Y];return oe===void 0&&(oe=new K_,w[Y]=oe),oe.getTargetRaySpace()},this.getControllerGrip=function(Y){let oe=w[Y];return oe===void 0&&(oe=new K_,w[Y]=oe),oe.getGripSpace()},this.getHand=function(Y){let oe=w[Y];return oe===void 0&&(oe=new K_,w[Y]=oe),oe.getHandSpace()};function O(Y){const oe=b.indexOf(Y.inputSource);if(oe===-1)return;const $=w[oe];$!==void 0&&($.update(Y.inputSource,Y.frame,c||o),$.dispatchEvent({type:Y.type,data:Y.inputSource}))}function H(){r.removeEventListener("select",O),r.removeEventListener("selectstart",O),r.removeEventListener("selectend",O),r.removeEventListener("squeeze",O),r.removeEventListener("squeezestart",O),r.removeEventListener("squeezeend",O),r.removeEventListener("end",H),r.removeEventListener("inputsourceschange",V);for(let Y=0;Y<w.length;Y++){const oe=b[Y];oe!==null&&(b[Y]=null,w[Y].disconnect(oe))}N=null,I=null,m.reset();for(const Y in g)delete g[Y];e.setRenderTarget(_),f=null,h=null,d=null,r=null,y=null,pe.stop(),i.isPresenting=!1,e.setPixelRatio(E),e.setSize(S.width,S.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return h!==null?h:f},this.getBinding=function(){return d},this.getFrame=function(){return v},this.getSession=function(){return r},this.setSession=async function(Y){if(r=Y,r!==null){if(_=e.getRenderTarget(),r.addEventListener("select",O),r.addEventListener("selectstart",O),r.addEventListener("selectend",O),r.addEventListener("squeeze",O),r.addEventListener("squeezestart",O),r.addEventListener("squeezeend",O),r.addEventListener("end",H),r.addEventListener("inputsourceschange",V),p.xrCompatible!==!0&&await n.makeXRCompatible(),E=e.getPixelRatio(),e.getSize(S),typeof XRWebGLBinding<"u"&&(d=new XRWebGLBinding(r,n)),d!==null&&"createProjectionLayer"in XRWebGLBinding.prototype){let $=null,ce=null,we=null;p.depth&&(we=p.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,$=p.stencil?Wf:Hf,ce=p.stencil?Vf:Ec);const ue={colorFormat:n.RGBA8,depthFormat:we,scaleFactor:s};h=d.createProjectionLayer(ue),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),y=new Tc(h.textureWidth,h.textureHeight,{format:as,type:No,depthTexture:new mF(h.textureWidth,h.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,$),stencilBuffer:p.stencil,colorSpace:e.outputColorSpace,samples:p.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const $={antialias:p.antialias,alpha:!0,depth:p.depth,stencil:p.stencil,framebufferScaleFactor:s};f=new XRWebGLLayer(r,n,$),r.updateRenderState({baseLayer:f}),e.setPixelRatio(1),e.setSize(f.framebufferWidth,f.framebufferHeight,!1),y=new Tc(f.framebufferWidth,f.framebufferHeight,{format:as,type:No,colorSpace:e.outputColorSpace,stencilBuffer:p.stencil,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),pe.setContext(r),pe.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function V(Y){for(let oe=0;oe<Y.removed.length;oe++){const $=Y.removed[oe],ce=b.indexOf($);ce>=0&&(b[ce]=null,w[ce].disconnect($))}for(let oe=0;oe<Y.added.length;oe++){const $=Y.added[oe];let ce=b.indexOf($);if(ce===-1){for(let ue=0;ue<w.length;ue++)if(ue>=b.length){b.push($),ce=ue;break}else if(b[ue]===null){b[ue]=$,ce=ue;break}if(ce===-1)break}const we=w[ce];we&&we.connect($)}}const z=new ee,D=new ee;function B(Y,oe,$){z.setFromMatrixPosition(oe.matrixWorld),D.setFromMatrixPosition($.matrixWorld);const ce=z.distanceTo(D),we=oe.projectionMatrix.elements,ue=$.projectionMatrix.elements,Ze=we[14]/(we[10]-1),Xe=we[14]/(we[10]+1),U=(we[9]+1)/we[5],Ne=(we[9]-1)/we[5],Se=(we[8]-1)/we[0],Ue=(ue[8]+1)/ue[0],Me=Ze*Se,rt=Ze*Ue,ve=ce/(-Se+Ue),Fe=ve*-Se;if(oe.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(Fe),Y.translateZ(ve),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert(),we[10]===-1)Y.projectionMatrix.copy(oe.projectionMatrix),Y.projectionMatrixInverse.copy(oe.projectionMatrixInverse);else{const ot=Ze+ve,_t=Xe+ve,L=Me-Fe,A=rt+(ce-Fe),F=U*Xe/_t*ot,G=Ne*Xe/_t*ot;Y.projectionMatrix.makePerspective(L,A,F,G,ot,_t),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}}function K(Y,oe){oe===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(oe.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(r===null)return;let oe=Y.near,$=Y.far;m.texture!==null&&(m.depthNear>0&&(oe=m.depthNear),m.depthFar>0&&($=m.depthFar)),R.near=T.near=P.near=oe,R.far=T.far=P.far=$,(N!==R.near||I!==R.far)&&(r.updateRenderState({depthNear:R.near,depthFar:R.far}),N=R.near,I=R.far),R.layers.mask=Y.layers.mask|6,P.layers.mask=R.layers.mask&3,T.layers.mask=R.layers.mask&5;const ce=Y.parent,we=R.cameras;K(R,ce);for(let ue=0;ue<we.length;ue++)K(we[ue],ce);we.length===2?B(R,P,T):R.projectionMatrix.copy(P.projectionMatrix),ne(Y,R,ce)};function ne(Y,oe,$){$===null?Y.matrix.copy(oe.matrixWorld):(Y.matrix.copy($.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(oe.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(oe.projectionMatrix),Y.projectionMatrixInverse.copy(oe.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=uS*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return R},this.getFoveation=function(){if(!(h===null&&f===null))return l},this.setFoveation=function(Y){l=Y,h!==null&&(h.fixedFoveation=Y),f!==null&&f.fixedFoveation!==void 0&&(f.fixedFoveation=Y)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(R)},this.getCameraTexture=function(Y){return g[Y]};let te=null;function ye(Y,oe){if(u=oe.getViewerPose(c||o),v=oe,u!==null){const $=u.views;f!==null&&(e.setRenderTargetFramebuffer(y,f.framebuffer),e.setRenderTarget(y));let ce=!1;$.length!==R.cameras.length&&(R.cameras.length=0,ce=!0);for(let Xe=0;Xe<$.length;Xe++){const U=$[Xe];let Ne=null;if(f!==null)Ne=f.getViewport(U);else{const Ue=d.getViewSubImage(h,U);Ne=Ue.viewport,Xe===0&&(e.setRenderTargetTextures(y,Ue.colorTexture,Ue.depthStencilTexture),e.setRenderTarget(y))}let Se=C[Xe];Se===void 0&&(Se=new ns,Se.layers.enable(Xe),Se.viewport=new dn,C[Xe]=Se),Se.matrix.fromArray(U.transform.matrix),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.projectionMatrix.fromArray(U.projectionMatrix),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert(),Se.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),Xe===0&&(R.matrix.copy(Se.matrix),R.matrix.decompose(R.position,R.quaternion,R.scale)),ce===!0&&R.cameras.push(Se)}const we=r.enabledFeatures;if(we&&we.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&d){const Xe=d.getDepthInformation($[0]);Xe&&Xe.isValid&&Xe.texture&&m.init(Xe,r.renderState)}if(we&&we.includes("camera-access")&&(e.state.unbindTexture(),d))for(let Xe=0;Xe<$.length;Xe++){const U=$[Xe].camera;if(U){let Ne=g[U];Ne||(Ne=new wF,g[U]=Ne);const Se=d.getCameraImage(U);Ne.sourceTexture=Se}}}for(let $=0;$<w.length;$++){const ce=b[$],we=w[$];ce!==null&&we!==void 0&&we.update(ce,oe,c||o)}te&&te(Y,oe),oe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:oe}),v=null}const pe=new gF;pe.setAnimationLoop(ye),this.setAnimationLoop=function(Y){te=Y},this.dispose=function(){}}}const Sl=new Uo,Fde=new An;function zde(t,e){function n(g,p){g.matrixAutoUpdate===!0&&g.updateMatrix(),p.value.copy(g.matrix)}function i(g,p){p.color.getRGB(g.fogColor.value,hF(t)),p.isFog?(g.fogNear.value=p.near,g.fogFar.value=p.far):p.isFogExp2&&(g.fogDensity.value=p.density)}function r(g,p,_,y,w){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(g,p):p.isMeshToonMaterial?(s(g,p),d(g,p)):p.isMeshPhongMaterial?(s(g,p),u(g,p)):p.isMeshStandardMaterial?(s(g,p),h(g,p),p.isMeshPhysicalMaterial&&f(g,p,w)):p.isMeshMatcapMaterial?(s(g,p),v(g,p)):p.isMeshDepthMaterial?s(g,p):p.isMeshDistanceMaterial?(s(g,p),m(g,p)):p.isMeshNormalMaterial?s(g,p):p.isLineBasicMaterial?(o(g,p),p.isLineDashedMaterial&&a(g,p)):p.isPointsMaterial?l(g,p,_,y):p.isSpriteMaterial?c(g,p):p.isShadowMaterial?(g.color.value.copy(p.color),g.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(g,p){g.opacity.value=p.opacity,p.color&&g.diffuse.value.copy(p.color),p.emissive&&g.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(g.map.value=p.map,n(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.bumpMap&&(g.bumpMap.value=p.bumpMap,n(p.bumpMap,g.bumpMapTransform),g.bumpScale.value=p.bumpScale,p.side===Ni&&(g.bumpScale.value*=-1)),p.normalMap&&(g.normalMap.value=p.normalMap,n(p.normalMap,g.normalMapTransform),g.normalScale.value.copy(p.normalScale),p.side===Ni&&g.normalScale.value.negate()),p.displacementMap&&(g.displacementMap.value=p.displacementMap,n(p.displacementMap,g.displacementMapTransform),g.displacementScale.value=p.displacementScale,g.displacementBias.value=p.displacementBias),p.emissiveMap&&(g.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,g.emissiveMapTransform)),p.specularMap&&(g.specularMap.value=p.specularMap,n(p.specularMap,g.specularMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest);const _=e.get(p),y=_.envMap,w=_.envMapRotation;y&&(g.envMap.value=y,Sl.copy(w),Sl.x*=-1,Sl.y*=-1,Sl.z*=-1,y.isCubeTexture&&y.isRenderTargetTexture===!1&&(Sl.y*=-1,Sl.z*=-1),g.envMapRotation.value.setFromMatrix4(Fde.makeRotationFromEuler(Sl)),g.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,g.reflectivity.value=p.reflectivity,g.ior.value=p.ior,g.refractionRatio.value=p.refractionRatio),p.lightMap&&(g.lightMap.value=p.lightMap,g.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,g.lightMapTransform)),p.aoMap&&(g.aoMap.value=p.aoMap,g.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,g.aoMapTransform))}function o(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,p.map&&(g.map.value=p.map,n(p.map,g.mapTransform))}function a(g,p){g.dashSize.value=p.dashSize,g.totalSize.value=p.dashSize+p.gapSize,g.scale.value=p.scale}function l(g,p,_,y){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.size.value=p.size*_,g.scale.value=y*.5,p.map&&(g.map.value=p.map,n(p.map,g.uvTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function c(g,p){g.diffuse.value.copy(p.color),g.opacity.value=p.opacity,g.rotation.value=p.rotation,p.map&&(g.map.value=p.map,n(p.map,g.mapTransform)),p.alphaMap&&(g.alphaMap.value=p.alphaMap,n(p.alphaMap,g.alphaMapTransform)),p.alphaTest>0&&(g.alphaTest.value=p.alphaTest)}function u(g,p){g.specular.value.copy(p.specular),g.shininess.value=Math.max(p.shininess,1e-4)}function d(g,p){p.gradientMap&&(g.gradientMap.value=p.gradientMap)}function h(g,p){g.metalness.value=p.metalness,p.metalnessMap&&(g.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,g.metalnessMapTransform)),g.roughness.value=p.roughness,p.roughnessMap&&(g.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,g.roughnessMapTransform)),p.envMap&&(g.envMapIntensity.value=p.envMapIntensity)}function f(g,p,_){g.ior.value=p.ior,p.sheen>0&&(g.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),g.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(g.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,g.sheenColorMapTransform)),p.sheenRoughnessMap&&(g.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,g.sheenRoughnessMapTransform))),p.clearcoat>0&&(g.clearcoat.value=p.clearcoat,g.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(g.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,g.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(g.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,g.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(g.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,g.clearcoatNormalMapTransform),g.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Ni&&g.clearcoatNormalScale.value.negate())),p.dispersion>0&&(g.dispersion.value=p.dispersion),p.iridescence>0&&(g.iridescence.value=p.iridescence,g.iridescenceIOR.value=p.iridescenceIOR,g.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],g.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(g.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,g.iridescenceMapTransform)),p.iridescenceThicknessMap&&(g.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,g.iridescenceThicknessMapTransform))),p.transmission>0&&(g.transmission.value=p.transmission,g.transmissionSamplerMap.value=_.texture,g.transmissionSamplerSize.value.set(_.width,_.height),p.transmissionMap&&(g.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,g.transmissionMapTransform)),g.thickness.value=p.thickness,p.thicknessMap&&(g.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,g.thicknessMapTransform)),g.attenuationDistance.value=p.attenuationDistance,g.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(g.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(g.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,g.anisotropyMapTransform))),g.specularIntensity.value=p.specularIntensity,g.specularColor.value.copy(p.specularColor),p.specularColorMap&&(g.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,g.specularColorMapTransform)),p.specularIntensityMap&&(g.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,g.specularIntensityMapTransform))}function v(g,p){p.matcap&&(g.matcap.value=p.matcap)}function m(g,p){const _=e.get(p).light;g.referencePosition.value.setFromMatrixPosition(_.matrixWorld),g.nearDistance.value=_.shadow.camera.near,g.farDistance.value=_.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function jde(t,e,n,i){let r={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(_,y){const w=y.program;i.uniformBlockBinding(_,w)}function c(_,y){let w=r[_.id];w===void 0&&(v(_),w=u(_),r[_.id]=w,_.addEventListener("dispose",g));const b=y.program;i.updateUBOMapping(_,b);const S=e.render.frame;s[_.id]!==S&&(h(_),s[_.id]=S)}function u(_){const y=d();_.__bindingPointIndex=y;const w=t.createBuffer(),b=_.__size,S=_.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,b,S),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,y,w),w}function d(){for(let _=0;_<a;_++)if(o.indexOf(_)===-1)return o.push(_),_;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(_){const y=r[_.id],w=_.uniforms,b=_.__cache;t.bindBuffer(t.UNIFORM_BUFFER,y);for(let S=0,E=w.length;S<E;S++){const P=Array.isArray(w[S])?w[S]:[w[S]];for(let T=0,C=P.length;T<C;T++){const R=P[T];if(f(R,S,T,b)===!0){const N=R.__offset,I=Array.isArray(R.value)?R.value:[R.value];let O=0;for(let H=0;H<I.length;H++){const V=I[H],z=m(V);typeof V=="number"||typeof V=="boolean"?(R.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,N+O,R.__data)):V.isMatrix3?(R.__data[0]=V.elements[0],R.__data[1]=V.elements[1],R.__data[2]=V.elements[2],R.__data[3]=0,R.__data[4]=V.elements[3],R.__data[5]=V.elements[4],R.__data[6]=V.elements[5],R.__data[7]=0,R.__data[8]=V.elements[6],R.__data[9]=V.elements[7],R.__data[10]=V.elements[8],R.__data[11]=0):(V.toArray(R.__data,O),O+=z.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,N,R.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function f(_,y,w,b){const S=_.value,E=y+"_"+w;if(b[E]===void 0)return typeof S=="number"||typeof S=="boolean"?b[E]=S:b[E]=S.clone(),!0;{const P=b[E];if(typeof S=="number"||typeof S=="boolean"){if(P!==S)return b[E]=S,!0}else if(P.equals(S)===!1)return P.copy(S),!0}return!1}function v(_){const y=_.uniforms;let w=0;const b=16;for(let E=0,P=y.length;E<P;E++){const T=Array.isArray(y[E])?y[E]:[y[E]];for(let C=0,R=T.length;C<R;C++){const N=T[C],I=Array.isArray(N.value)?N.value:[N.value];for(let O=0,H=I.length;O<H;O++){const V=I[O],z=m(V),D=w%b,B=D%z.boundary,K=D+B;w+=B,K!==0&&b-K<z.storage&&(w+=b-K),N.__data=new Float32Array(z.storage/Float32Array.BYTES_PER_ELEMENT),N.__offset=w,w+=z.storage}}}const S=w%b;return S>0&&(w+=b-S),_.__size=w,_.__cache={},this}function m(_){const y={boundary:0,storage:0};return typeof _=="number"||typeof _=="boolean"?(y.boundary=4,y.storage=4):_.isVector2?(y.boundary=8,y.storage=8):_.isVector3||_.isColor?(y.boundary=16,y.storage=12):_.isVector4?(y.boundary=16,y.storage=16):_.isMatrix3?(y.boundary=48,y.storage=48):_.isMatrix4?(y.boundary=64,y.storage=64):_.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",_),y}function g(_){const y=_.target;y.removeEventListener("dispose",g);const w=o.indexOf(y.__bindingPointIndex);o.splice(w,1),t.deleteBuffer(r[y.id]),delete r[y.id],delete s[y.id]}function p(){for(const _ in r)t.deleteBuffer(r[_]);o=[],r={},s={}}return{bind:l,update:c,dispose:p}}class Bde{constructor(e={}){const{canvas:n=Eoe(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let f;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");f=i.getContextAttributes().alpha}else f=o;const v=new Uint32Array(4),m=new Int32Array(4);let g=null,p=null;const _=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Ba,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const w=this;let b=!1;this._outputColorSpace=Er;let S=0,E=0,P=null,T=-1,C=null;const R=new dn,N=new dn;let I=null;const O=new Et(0);let H=0,V=n.width,z=n.height,D=1,B=null,K=null;const ne=new dn(0,0,V,z),te=new dn(0,0,V,z);let ye=!1;const pe=new pF;let Y=!1,oe=!1;const $=new An,ce=new ee,we=new dn,ue={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ze=!1;function Xe(){return P===null?D:1}let U=i;function Ne(k,q){return n.getContext(k,q)}try{const k={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${j1}`),n.addEventListener("webglcontextlost",xe,!1),n.addEventListener("webglcontextrestored",Re,!1),n.addEventListener("webglcontextcreationerror",le,!1),U===null){const q="webgl2";if(U=Ne(q,k),U===null)throw Ne(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(k){throw console.error("THREE.WebGLRenderer: "+k.message),k}let Se,Ue,Me,rt,ve,Fe,ot,_t,L,A,F,G,ie,J,Ae,he,ke,Oe,fe,be,Ve,Le,Ee,Ke;function W(){Se=new Jce(U),Se.init(),Le=new Ide(U,Se),Ue=new Wce(U,Se,e,Le),Me=new kde(U,Se),Ue.reversedDepthBuffer&&h&&Me.buffers.depth.setReversed(!0),rt=new eue(U),ve=new yde,Fe=new Dde(U,Se,Me,ve,Ue,Le,rt),ot=new $ce(w),_t=new Yce(w),L=new oae(U),Ee=new Vce(U,L),A=new Qce(U,L,rt,Ee),F=new nue(U,A,L,rt),fe=new tue(U,Ue,Fe),he=new Gce(ve),G=new vde(w,ot,_t,Se,Ue,Ee,he),ie=new zde(w,ve),J=new xde,Ae=new Mde(Se),Oe=new Bce(w,ot,_t,Me,F,f,l),ke=new Ade(w,F,Ue),Ke=new jde(U,rt,Ue,Me),be=new Hce(U,Se,rt),Ve=new Zce(U,Se,rt),rt.programs=G.programs,w.capabilities=Ue,w.extensions=Se,w.properties=ve,w.renderLists=J,w.shadowMap=ke,w.state=Me,w.info=rt}W();const me=new Ude(w,U);this.xr=me,this.getContext=function(){return U},this.getContextAttributes=function(){return U.getContextAttributes()},this.forceContextLoss=function(){const k=Se.get("WEBGL_lose_context");k&&k.loseContext()},this.forceContextRestore=function(){const k=Se.get("WEBGL_lose_context");k&&k.restoreContext()},this.getPixelRatio=function(){return D},this.setPixelRatio=function(k){k!==void 0&&(D=k,this.setSize(V,z,!1))},this.getSize=function(k){return k.set(V,z)},this.setSize=function(k,q,Q=!0){if(me.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}V=k,z=q,n.width=Math.floor(k*D),n.height=Math.floor(q*D),Q===!0&&(n.style.width=k+"px",n.style.height=q+"px"),this.setViewport(0,0,k,q)},this.getDrawingBufferSize=function(k){return k.set(V*D,z*D).floor()},this.setDrawingBufferSize=function(k,q,Q){V=k,z=q,D=Q,n.width=Math.floor(k*Q),n.height=Math.floor(q*Q),this.setViewport(0,0,k,q)},this.getCurrentViewport=function(k){return k.copy(R)},this.getViewport=function(k){return k.copy(ne)},this.setViewport=function(k,q,Q,Z){k.isVector4?ne.set(k.x,k.y,k.z,k.w):ne.set(k,q,Q,Z),Me.viewport(R.copy(ne).multiplyScalar(D).round())},this.getScissor=function(k){return k.copy(te)},this.setScissor=function(k,q,Q,Z){k.isVector4?te.set(k.x,k.y,k.z,k.w):te.set(k,q,Q,Z),Me.scissor(N.copy(te).multiplyScalar(D).round())},this.getScissorTest=function(){return ye},this.setScissorTest=function(k){Me.setScissorTest(ye=k)},this.setOpaqueSort=function(k){B=k},this.setTransparentSort=function(k){K=k},this.getClearColor=function(k){return k.copy(Oe.getClearColor())},this.setClearColor=function(){Oe.setClearColor(...arguments)},this.getClearAlpha=function(){return Oe.getClearAlpha()},this.setClearAlpha=function(){Oe.setClearAlpha(...arguments)},this.clear=function(k=!0,q=!0,Q=!0){let Z=0;if(k){let X=!1;if(P!==null){const ge=P.texture.format;X=ge===$1||ge===G1||ge===W1}if(X){const ge=P.texture.type,Pe=ge===No||ge===Ec||ge===Bf||ge===Vf||ge===V1||ge===H1,ze=Oe.getClearColor(),Ie=Oe.getClearAlpha(),Ge=ze.r,qe=ze.g,Be=ze.b;Pe?(v[0]=Ge,v[1]=qe,v[2]=Be,v[3]=Ie,U.clearBufferuiv(U.COLOR,0,v)):(m[0]=Ge,m[1]=qe,m[2]=Be,m[3]=Ie,U.clearBufferiv(U.COLOR,0,m))}else Z|=U.COLOR_BUFFER_BIT}q&&(Z|=U.DEPTH_BUFFER_BIT),Q&&(Z|=U.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),U.clear(Z)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",xe,!1),n.removeEventListener("webglcontextrestored",Re,!1),n.removeEventListener("webglcontextcreationerror",le,!1),Oe.dispose(),J.dispose(),Ae.dispose(),ve.dispose(),ot.dispose(),_t.dispose(),F.dispose(),Ee.dispose(),Ke.dispose(),G.dispose(),me.dispose(),me.removeEventListener("sessionstart",xn),me.removeEventListener("sessionend",_s),wn.stop()};function xe(k){k.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function Re(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const k=rt.autoReset,q=ke.enabled,Q=ke.autoUpdate,Z=ke.needsUpdate,X=ke.type;W(),rt.autoReset=k,ke.enabled=q,ke.autoUpdate=Q,ke.needsUpdate=Z,ke.type=X}function le(k){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",k.statusMessage)}function se(k){const q=k.target;q.removeEventListener("dispose",se),ae(q)}function ae(k){Ce(k),ve.remove(k)}function Ce(k){const q=ve.get(k).programs;q!==void 0&&(q.forEach(function(Q){G.releaseProgram(Q)}),k.isShaderMaterial&&G.releaseShaderCache(k))}this.renderBufferDirect=function(k,q,Q,Z,X,ge){q===null&&(q=ue);const Pe=X.isMesh&&X.matrixWorld.determinant()<0,ze=Sz(k,q,Q,Z,X);Me.setMaterial(Z,Pe);let Ie=Q.index,Ge=1;if(Z.wireframe===!0){if(Ie=A.getWireframeAttribute(Q),Ie===void 0)return;Ge=2}const qe=Q.drawRange,Be=Q.attributes.position;let ct=qe.start*Ge,bt=(qe.start+qe.count)*Ge;ge!==null&&(ct=Math.max(ct,ge.start*Ge),bt=Math.min(bt,(ge.start+ge.count)*Ge)),Ie!==null?(ct=Math.max(ct,0),bt=Math.min(bt,Ie.count)):Be!=null&&(ct=Math.max(ct,0),bt=Math.min(bt,Be.count));const Zt=bt-ct;if(Zt<0||Zt===1/0)return;Ee.setup(X,Z,ze,Q,Ie);let Dt,Mt=be;if(Ie!==null&&(Dt=L.get(Ie),Mt=Ve,Mt.setIndex(Dt)),X.isMesh)Z.wireframe===!0?(Me.setLineWidth(Z.wireframeLinewidth*Xe()),Mt.setMode(U.LINES)):Mt.setMode(U.TRIANGLES);else if(X.isLine){let We=Z.linewidth;We===void 0&&(We=1),Me.setLineWidth(We*Xe()),X.isLineSegments?Mt.setMode(U.LINES):X.isLineLoop?Mt.setMode(U.LINE_LOOP):Mt.setMode(U.LINE_STRIP)}else X.isPoints?Mt.setMode(U.POINTS):X.isSprite&&Mt.setMode(U.TRIANGLES);if(X.isBatchedMesh)if(X._multiDrawInstances!==null)qu("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Mt.renderMultiDrawInstances(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount,X._multiDrawInstances);else if(Se.get("WEBGL_multi_draw"))Mt.renderMultiDraw(X._multiDrawStarts,X._multiDrawCounts,X._multiDrawCount);else{const We=X._multiDrawStarts,Bt=X._multiDrawCounts,pt=X._multiDrawCount,Hi=Ie?L.get(Ie).bytesPerElement:1,Ic=ve.get(Z).currentProgram.getUniforms();for(let Wi=0;Wi<pt;Wi++)Ic.setValue(U,"_gl_DrawID",Wi),Mt.render(We[Wi]/Hi,Bt[Wi])}else if(X.isInstancedMesh)Mt.renderInstances(ct,Zt,X.count);else if(Q.isInstancedBufferGeometry){const We=Q._maxInstanceCount!==void 0?Q._maxInstanceCount:1/0,Bt=Math.min(Q.instanceCount,We);Mt.renderInstances(ct,Zt,Bt)}else Mt.render(ct,Zt)};function He(k,q,Q){k.transparent===!0&&k.side===_o&&k.forceSinglePass===!1?(k.side=Ni,k.needsUpdate=!0,Cp(k,q,Q),k.side=el,k.needsUpdate=!0,Cp(k,q,Q),k.side=_o):Cp(k,q,Q)}this.compile=function(k,q,Q=null){Q===null&&(Q=k),p=Ae.get(Q),p.init(q),y.push(p),Q.traverseVisible(function(X){X.isLight&&X.layers.test(q.layers)&&(p.pushLight(X),X.castShadow&&p.pushShadow(X))}),k!==Q&&k.traverseVisible(function(X){X.isLight&&X.layers.test(q.layers)&&(p.pushLight(X),X.castShadow&&p.pushShadow(X))}),p.setupLights();const Z=new Set;return k.traverse(function(X){if(!(X.isMesh||X.isPoints||X.isLine||X.isSprite))return;const ge=X.material;if(ge)if(Array.isArray(ge))for(let Pe=0;Pe<ge.length;Pe++){const ze=ge[Pe];He(ze,Q,X),Z.add(ze)}else He(ge,Q,X),Z.add(ge)}),p=y.pop(),Z},this.compileAsync=function(k,q,Q=null){const Z=this.compile(k,q,Q);return new Promise(X=>{function ge(){if(Z.forEach(function(Pe){ve.get(Pe).currentProgram.isReady()&&Z.delete(Pe)}),Z.size===0){X(k);return}setTimeout(ge,10)}Se.get("KHR_parallel_shader_compile")!==null?ge():setTimeout(ge,10)})};let Je=null;function an(k){Je&&Je(k)}function xn(){wn.stop()}function _s(){wn.start()}const wn=new gF;wn.setAnimationLoop(an),typeof self<"u"&&wn.setContext(self),this.setAnimationLoop=function(k){Je=k,me.setAnimationLoop(k),k===null?wn.stop():wn.start()},me.addEventListener("sessionstart",xn),me.addEventListener("sessionend",_s),this.render=function(k,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(k.matrixWorldAutoUpdate===!0&&k.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),me.enabled===!0&&me.isPresenting===!0&&(me.cameraAutoUpdate===!0&&me.updateCamera(q),q=me.getCamera()),k.isScene===!0&&k.onBeforeRender(w,k,q,P),p=Ae.get(k,y.length),p.init(q),y.push(p),$.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),pe.setFromProjectionMatrix($,Os,q.reversedDepth),oe=this.localClippingEnabled,Y=he.init(this.clippingPlanes,oe),g=J.get(k,_.length),g.init(),_.push(g),me.enabled===!0&&me.isPresenting===!0){const ge=w.xr.getDepthSensingMesh();ge!==null&&pr(ge,q,-1/0,w.sortObjects)}pr(k,q,0,w.sortObjects),g.finish(),w.sortObjects===!0&&g.sort(B,K),Ze=me.enabled===!1||me.isPresenting===!1||me.hasDepthSensing()===!1,Ze&&Oe.addToRenderList(g,k),this.info.render.frame++,Y===!0&&he.beginShadows();const Q=p.state.shadowsArray;ke.render(Q,k,q),Y===!0&&he.endShadows(),this.info.autoReset===!0&&this.info.reset();const Z=g.opaque,X=g.transmissive;if(p.setupLights(),q.isArrayCamera){const ge=q.cameras;if(X.length>0)for(let Pe=0,ze=ge.length;Pe<ze;Pe++){const Ie=ge[Pe];vT(Z,X,k,Ie)}Ze&&Oe.render(k);for(let Pe=0,ze=ge.length;Pe<ze;Pe++){const Ie=ge[Pe];gT(g,k,Ie,Ie.viewport)}}else X.length>0&&vT(Z,X,k,q),Ze&&Oe.render(k),gT(g,k,q);P!==null&&E===0&&(Fe.updateMultisampleRenderTarget(P),Fe.updateRenderTargetMipmap(P)),k.isScene===!0&&k.onAfterRender(w,k,q),Ee.resetDefaultState(),T=-1,C=null,y.pop(),y.length>0?(p=y[y.length-1],Y===!0&&he.setGlobalState(w.clippingPlanes,p.state.camera)):p=null,_.pop(),_.length>0?g=_[_.length-1]:g=null};function pr(k,q,Q,Z){if(k.visible===!1)return;if(k.layers.test(q.layers)){if(k.isGroup)Q=k.renderOrder;else if(k.isLOD)k.autoUpdate===!0&&k.update(q);else if(k.isLight)p.pushLight(k),k.castShadow&&p.pushShadow(k);else if(k.isSprite){if(!k.frustumCulled||pe.intersectsSprite(k)){Z&&we.setFromMatrixPosition(k.matrixWorld).applyMatrix4($);const Pe=F.update(k),ze=k.material;ze.visible&&g.push(k,Pe,ze,Q,we.z,null)}}else if((k.isMesh||k.isLine||k.isPoints)&&(!k.frustumCulled||pe.intersectsObject(k))){const Pe=F.update(k),ze=k.material;if(Z&&(k.boundingSphere!==void 0?(k.boundingSphere===null&&k.computeBoundingSphere(),we.copy(k.boundingSphere.center)):(Pe.boundingSphere===null&&Pe.computeBoundingSphere(),we.copy(Pe.boundingSphere.center)),we.applyMatrix4(k.matrixWorld).applyMatrix4($)),Array.isArray(ze)){const Ie=Pe.groups;for(let Ge=0,qe=Ie.length;Ge<qe;Ge++){const Be=Ie[Ge],ct=ze[Be.materialIndex];ct&&ct.visible&&g.push(k,Pe,ct,Q,we.z,Be)}}else ze.visible&&g.push(k,Pe,ze,Q,we.z,null)}}const ge=k.children;for(let Pe=0,ze=ge.length;Pe<ze;Pe++)pr(ge[Pe],q,Q,Z)}function gT(k,q,Q,Z){const X=k.opaque,ge=k.transmissive,Pe=k.transparent;p.setupLightsView(Q),Y===!0&&he.setGlobalState(w.clippingPlanes,Q),Z&&Me.viewport(R.copy(Z)),X.length>0&&Mp(X,q,Q),ge.length>0&&Mp(ge,q,Q),Pe.length>0&&Mp(Pe,q,Q),Me.buffers.depth.setTest(!0),Me.buffers.depth.setMask(!0),Me.buffers.color.setMask(!0),Me.setPolygonOffset(!1)}function vT(k,q,Q,Z){if((Q.isScene===!0?Q.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Z.id]===void 0&&(p.state.transmissionRenderTarget[Z.id]=new Tc(1,1,{generateMipmaps:!0,type:Se.has("EXT_color_buffer_half_float")||Se.has("EXT_color_buffer_float")?_p:No,minFilter:Yl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:gt.workingColorSpace}));const ge=p.state.transmissionRenderTarget[Z.id],Pe=Z.viewport||R;ge.setSize(Pe.z*w.transmissionResolutionScale,Pe.w*w.transmissionResolutionScale);const ze=w.getRenderTarget(),Ie=w.getActiveCubeFace(),Ge=w.getActiveMipmapLevel();w.setRenderTarget(ge),w.getClearColor(O),H=w.getClearAlpha(),H<1&&w.setClearColor(16777215,.5),w.clear(),Ze&&Oe.render(Q);const qe=w.toneMapping;w.toneMapping=Ba;const Be=Z.viewport;if(Z.viewport!==void 0&&(Z.viewport=void 0),p.setupLightsView(Z),Y===!0&&he.setGlobalState(w.clippingPlanes,Z),Mp(k,Q,Z),Fe.updateMultisampleRenderTarget(ge),Fe.updateRenderTargetMipmap(ge),Se.has("WEBGL_multisampled_render_to_texture")===!1){let ct=!1;for(let bt=0,Zt=q.length;bt<Zt;bt++){const Dt=q[bt],Mt=Dt.object,We=Dt.geometry,Bt=Dt.material,pt=Dt.group;if(Bt.side===_o&&Mt.layers.test(Z.layers)){const Hi=Bt.side;Bt.side=Ni,Bt.needsUpdate=!0,yT(Mt,Q,Z,We,Bt,pt),Bt.side=Hi,Bt.needsUpdate=!0,ct=!0}}ct===!0&&(Fe.updateMultisampleRenderTarget(ge),Fe.updateRenderTargetMipmap(ge))}w.setRenderTarget(ze,Ie,Ge),w.setClearColor(O,H),Be!==void 0&&(Z.viewport=Be),w.toneMapping=qe}function Mp(k,q,Q){const Z=q.isScene===!0?q.overrideMaterial:null;for(let X=0,ge=k.length;X<ge;X++){const Pe=k[X],ze=Pe.object,Ie=Pe.geometry,Ge=Pe.group;let qe=Pe.material;qe.allowOverride===!0&&Z!==null&&(qe=Z),ze.layers.test(Q.layers)&&yT(ze,q,Q,Ie,qe,Ge)}}function yT(k,q,Q,Z,X,ge){k.onBeforeRender(w,q,Q,Z,X,ge),k.modelViewMatrix.multiplyMatrices(Q.matrixWorldInverse,k.matrixWorld),k.normalMatrix.getNormalMatrix(k.modelViewMatrix),X.onBeforeRender(w,q,Q,Z,k,ge),X.transparent===!0&&X.side===_o&&X.forceSinglePass===!1?(X.side=Ni,X.needsUpdate=!0,w.renderBufferDirect(Q,q,Z,X,k,ge),X.side=el,X.needsUpdate=!0,w.renderBufferDirect(Q,q,Z,X,k,ge),X.side=_o):w.renderBufferDirect(Q,q,Z,X,k,ge),k.onAfterRender(w,q,Q,Z,X,ge)}function Cp(k,q,Q){q.isScene!==!0&&(q=ue);const Z=ve.get(k),X=p.state.lights,ge=p.state.shadowsArray,Pe=X.state.version,ze=G.getParameters(k,X.state,ge,q,Q),Ie=G.getProgramCacheKey(ze);let Ge=Z.programs;Z.environment=k.isMeshStandardMaterial?q.environment:null,Z.fog=q.fog,Z.envMap=(k.isMeshStandardMaterial?_t:ot).get(k.envMap||Z.environment),Z.envMapRotation=Z.environment!==null&&k.envMap===null?q.environmentRotation:k.envMapRotation,Ge===void 0&&(k.addEventListener("dispose",se),Ge=new Map,Z.programs=Ge);let qe=Ge.get(Ie);if(qe!==void 0){if(Z.currentProgram===qe&&Z.lightsStateVersion===Pe)return xT(k,ze),qe}else ze.uniforms=G.getUniforms(k),k.onBeforeCompile(ze,w),qe=G.acquireProgram(ze,Ie),Ge.set(Ie,qe),Z.uniforms=ze.uniforms;const Be=Z.uniforms;return(!k.isShaderMaterial&&!k.isRawShaderMaterial||k.clipping===!0)&&(Be.clippingPlanes=he.uniform),xT(k,ze),Z.needsLights=Tz(k),Z.lightsStateVersion=Pe,Z.needsLights&&(Be.ambientLightColor.value=X.state.ambient,Be.lightProbe.value=X.state.probe,Be.directionalLights.value=X.state.directional,Be.directionalLightShadows.value=X.state.directionalShadow,Be.spotLights.value=X.state.spot,Be.spotLightShadows.value=X.state.spotShadow,Be.rectAreaLights.value=X.state.rectArea,Be.ltc_1.value=X.state.rectAreaLTC1,Be.ltc_2.value=X.state.rectAreaLTC2,Be.pointLights.value=X.state.point,Be.pointLightShadows.value=X.state.pointShadow,Be.hemisphereLights.value=X.state.hemi,Be.directionalShadowMap.value=X.state.directionalShadowMap,Be.directionalShadowMatrix.value=X.state.directionalShadowMatrix,Be.spotShadowMap.value=X.state.spotShadowMap,Be.spotLightMatrix.value=X.state.spotLightMatrix,Be.spotLightMap.value=X.state.spotLightMap,Be.pointShadowMap.value=X.state.pointShadowMap,Be.pointShadowMatrix.value=X.state.pointShadowMatrix),Z.currentProgram=qe,Z.uniformsList=null,qe}function _T(k){if(k.uniformsList===null){const q=k.currentProgram.getUniforms();k.uniformsList=wg.seqWithValue(q.seq,k.uniforms)}return k.uniformsList}function xT(k,q){const Q=ve.get(k);Q.outputColorSpace=q.outputColorSpace,Q.batching=q.batching,Q.batchingColor=q.batchingColor,Q.instancing=q.instancing,Q.instancingColor=q.instancingColor,Q.instancingMorph=q.instancingMorph,Q.skinning=q.skinning,Q.morphTargets=q.morphTargets,Q.morphNormals=q.morphNormals,Q.morphColors=q.morphColors,Q.morphTargetsCount=q.morphTargetsCount,Q.numClippingPlanes=q.numClippingPlanes,Q.numIntersection=q.numClipIntersection,Q.vertexAlphas=q.vertexAlphas,Q.vertexTangents=q.vertexTangents,Q.toneMapping=q.toneMapping}function Sz(k,q,Q,Z,X){q.isScene!==!0&&(q=ue),Fe.resetTextureUnits();const ge=q.fog,Pe=Z.isMeshStandardMaterial?q.environment:null,ze=P===null?w.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:Ad,Ie=(Z.isMeshStandardMaterial?_t:ot).get(Z.envMap||Pe),Ge=Z.vertexColors===!0&&!!Q.attributes.color&&Q.attributes.color.itemSize===4,qe=!!Q.attributes.tangent&&(!!Z.normalMap||Z.anisotropy>0),Be=!!Q.morphAttributes.position,ct=!!Q.morphAttributes.normal,bt=!!Q.morphAttributes.color;let Zt=Ba;Z.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(Zt=w.toneMapping);const Dt=Q.morphAttributes.position||Q.morphAttributes.normal||Q.morphAttributes.color,Mt=Dt!==void 0?Dt.length:0,We=ve.get(Z),Bt=p.state.lights;if(Y===!0&&(oe===!0||k!==C)){const ai=k===C&&Z.id===T;he.setState(Z,k,ai)}let pt=!1;Z.version===We.__version?(We.needsLights&&We.lightsStateVersion!==Bt.state.version||We.outputColorSpace!==ze||X.isBatchedMesh&&We.batching===!1||!X.isBatchedMesh&&We.batching===!0||X.isBatchedMesh&&We.batchingColor===!0&&X.colorTexture===null||X.isBatchedMesh&&We.batchingColor===!1&&X.colorTexture!==null||X.isInstancedMesh&&We.instancing===!1||!X.isInstancedMesh&&We.instancing===!0||X.isSkinnedMesh&&We.skinning===!1||!X.isSkinnedMesh&&We.skinning===!0||X.isInstancedMesh&&We.instancingColor===!0&&X.instanceColor===null||X.isInstancedMesh&&We.instancingColor===!1&&X.instanceColor!==null||X.isInstancedMesh&&We.instancingMorph===!0&&X.morphTexture===null||X.isInstancedMesh&&We.instancingMorph===!1&&X.morphTexture!==null||We.envMap!==Ie||Z.fog===!0&&We.fog!==ge||We.numClippingPlanes!==void 0&&(We.numClippingPlanes!==he.numPlanes||We.numIntersection!==he.numIntersection)||We.vertexAlphas!==Ge||We.vertexTangents!==qe||We.morphTargets!==Be||We.morphNormals!==ct||We.morphColors!==bt||We.toneMapping!==Zt||We.morphTargetsCount!==Mt)&&(pt=!0):(pt=!0,We.__version=Z.version);let Hi=We.currentProgram;pt===!0&&(Hi=Cp(Z,q,X));let Ic=!1,Wi=!1,Zd=!1;const Vt=Hi.getUniforms(),mr=We.uniforms;if(Me.useProgram(Hi.program)&&(Ic=!0,Wi=!0,Zd=!0),Z.id!==T&&(T=Z.id,Wi=!0),Ic||C!==k){Me.buffers.depth.getReversed()&&k.reversedDepth!==!0&&(k._reversedDepth=!0,k.updateProjectionMatrix()),Vt.setValue(U,"projectionMatrix",k.projectionMatrix),Vt.setValue(U,"viewMatrix",k.matrixWorldInverse);const Ei=Vt.map.cameraPosition;Ei!==void 0&&Ei.setValue(U,ce.setFromMatrixPosition(k.matrixWorld)),Ue.logarithmicDepthBuffer&&Vt.setValue(U,"logDepthBufFC",2/(Math.log(k.far+1)/Math.LN2)),(Z.isMeshPhongMaterial||Z.isMeshToonMaterial||Z.isMeshLambertMaterial||Z.isMeshBasicMaterial||Z.isMeshStandardMaterial||Z.isShaderMaterial)&&Vt.setValue(U,"isOrthographic",k.isOrthographicCamera===!0),C!==k&&(C=k,Wi=!0,Zd=!0)}if(X.isSkinnedMesh){Vt.setOptional(U,X,"bindMatrix"),Vt.setOptional(U,X,"bindMatrixInverse");const ai=X.skeleton;ai&&(ai.boneTexture===null&&ai.computeBoneTexture(),Vt.setValue(U,"boneTexture",ai.boneTexture,Fe))}X.isBatchedMesh&&(Vt.setOptional(U,X,"batchingTexture"),Vt.setValue(U,"batchingTexture",X._matricesTexture,Fe),Vt.setOptional(U,X,"batchingIdTexture"),Vt.setValue(U,"batchingIdTexture",X._indirectTexture,Fe),Vt.setOptional(U,X,"batchingColorTexture"),X._colorsTexture!==null&&Vt.setValue(U,"batchingColorTexture",X._colorsTexture,Fe));const gr=Q.morphAttributes;if((gr.position!==void 0||gr.normal!==void 0||gr.color!==void 0)&&fe.update(X,Q,Hi),(Wi||We.receiveShadow!==X.receiveShadow)&&(We.receiveShadow=X.receiveShadow,Vt.setValue(U,"receiveShadow",X.receiveShadow)),Z.isMeshGouraudMaterial&&Z.envMap!==null&&(mr.envMap.value=Ie,mr.flipEnvMap.value=Ie.isCubeTexture&&Ie.isRenderTargetTexture===!1?-1:1),Z.isMeshStandardMaterial&&Z.envMap===null&&q.environment!==null&&(mr.envMapIntensity.value=q.environmentIntensity),Wi&&(Vt.setValue(U,"toneMappingExposure",w.toneMappingExposure),We.needsLights&&Ez(mr,Zd),ge&&Z.fog===!0&&ie.refreshFogUniforms(mr,ge),ie.refreshMaterialUniforms(mr,Z,D,z,p.state.transmissionRenderTarget[k.id]),wg.upload(U,_T(We),mr,Fe)),Z.isShaderMaterial&&Z.uniformsNeedUpdate===!0&&(wg.upload(U,_T(We),mr,Fe),Z.uniformsNeedUpdate=!1),Z.isSpriteMaterial&&Vt.setValue(U,"center",X.center),Vt.setValue(U,"modelViewMatrix",X.modelViewMatrix),Vt.setValue(U,"normalMatrix",X.normalMatrix),Vt.setValue(U,"modelMatrix",X.matrixWorld),Z.isShaderMaterial||Z.isRawShaderMaterial){const ai=Z.uniformsGroups;for(let Ei=0,Fy=ai.length;Ei<Fy;Ei++){const cl=ai[Ei];Ke.update(cl,Hi),Ke.bind(cl,Hi)}}return Hi}function Ez(k,q){k.ambientLightColor.needsUpdate=q,k.lightProbe.needsUpdate=q,k.directionalLights.needsUpdate=q,k.directionalLightShadows.needsUpdate=q,k.pointLights.needsUpdate=q,k.pointLightShadows.needsUpdate=q,k.spotLights.needsUpdate=q,k.spotLightShadows.needsUpdate=q,k.rectAreaLights.needsUpdate=q,k.hemisphereLights.needsUpdate=q}function Tz(k){return k.isMeshLambertMaterial||k.isMeshToonMaterial||k.isMeshPhongMaterial||k.isMeshStandardMaterial||k.isShadowMaterial||k.isShaderMaterial&&k.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(k,q,Q){const Z=ve.get(k);Z.__autoAllocateDepthBuffer=k.resolveDepthBuffer===!1,Z.__autoAllocateDepthBuffer===!1&&(Z.__useRenderToTexture=!1),ve.get(k.texture).__webglTexture=q,ve.get(k.depthTexture).__webglTexture=Z.__autoAllocateDepthBuffer?void 0:Q,Z.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(k,q){const Q=ve.get(k);Q.__webglFramebuffer=q,Q.__useDefaultFramebuffer=q===void 0};const Mz=U.createFramebuffer();this.setRenderTarget=function(k,q=0,Q=0){P=k,S=q,E=Q;let Z=!0,X=null,ge=!1,Pe=!1;if(k){const Ie=ve.get(k);if(Ie.__useDefaultFramebuffer!==void 0)Me.bindFramebuffer(U.FRAMEBUFFER,null),Z=!1;else if(Ie.__webglFramebuffer===void 0)Fe.setupRenderTarget(k);else if(Ie.__hasExternalTextures)Fe.rebindTextures(k,ve.get(k.texture).__webglTexture,ve.get(k.depthTexture).__webglTexture);else if(k.depthBuffer){const Be=k.depthTexture;if(Ie.__boundDepthTexture!==Be){if(Be!==null&&ve.has(Be)&&(k.width!==Be.image.width||k.height!==Be.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Fe.setupDepthRenderbuffer(k)}}const Ge=k.texture;(Ge.isData3DTexture||Ge.isDataArrayTexture||Ge.isCompressedArrayTexture)&&(Pe=!0);const qe=ve.get(k).__webglFramebuffer;k.isWebGLCubeRenderTarget?(Array.isArray(qe[q])?X=qe[q][Q]:X=qe[q],ge=!0):k.samples>0&&Fe.useMultisampledRTT(k)===!1?X=ve.get(k).__webglMultisampledFramebuffer:Array.isArray(qe)?X=qe[Q]:X=qe,R.copy(k.viewport),N.copy(k.scissor),I=k.scissorTest}else R.copy(ne).multiplyScalar(D).floor(),N.copy(te).multiplyScalar(D).floor(),I=ye;if(Q!==0&&(X=Mz),Me.bindFramebuffer(U.FRAMEBUFFER,X)&&Z&&Me.drawBuffers(k,X),Me.viewport(R),Me.scissor(N),Me.setScissorTest(I),ge){const Ie=ve.get(k.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_CUBE_MAP_POSITIVE_X+q,Ie.__webglTexture,Q)}else if(Pe){const Ie=q;for(let Ge=0;Ge<k.textures.length;Ge++){const qe=ve.get(k.textures[Ge]);U.framebufferTextureLayer(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0+Ge,qe.__webglTexture,Q,Ie)}}else if(k!==null&&Q!==0){const Ie=ve.get(k.texture);U.framebufferTexture2D(U.FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,Ie.__webglTexture,Q)}T=-1},this.readRenderTargetPixels=function(k,q,Q,Z,X,ge,Pe,ze=0){if(!(k&&k.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ie=ve.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Pe!==void 0&&(Ie=Ie[Pe]),Ie){Me.bindFramebuffer(U.FRAMEBUFFER,Ie);try{const Ge=k.textures[ze],qe=Ge.format,Be=Ge.type;if(!Ue.textureFormatReadable(qe)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ue.textureTypeReadable(Be)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=k.width-Z&&Q>=0&&Q<=k.height-X&&(k.textures.length>1&&U.readBuffer(U.COLOR_ATTACHMENT0+ze),U.readPixels(q,Q,Z,X,Le.convert(qe),Le.convert(Be),ge))}finally{const Ge=P!==null?ve.get(P).__webglFramebuffer:null;Me.bindFramebuffer(U.FRAMEBUFFER,Ge)}}},this.readRenderTargetPixelsAsync=async function(k,q,Q,Z,X,ge,Pe,ze=0){if(!(k&&k.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Ie=ve.get(k).__webglFramebuffer;if(k.isWebGLCubeRenderTarget&&Pe!==void 0&&(Ie=Ie[Pe]),Ie)if(q>=0&&q<=k.width-Z&&Q>=0&&Q<=k.height-X){Me.bindFramebuffer(U.FRAMEBUFFER,Ie);const Ge=k.textures[ze],qe=Ge.format,Be=Ge.type;if(!Ue.textureFormatReadable(qe))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ue.textureTypeReadable(Be))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const ct=U.createBuffer();U.bindBuffer(U.PIXEL_PACK_BUFFER,ct),U.bufferData(U.PIXEL_PACK_BUFFER,ge.byteLength,U.STREAM_READ),k.textures.length>1&&U.readBuffer(U.COLOR_ATTACHMENT0+ze),U.readPixels(q,Q,Z,X,Le.convert(qe),Le.convert(Be),0);const bt=P!==null?ve.get(P).__webglFramebuffer:null;Me.bindFramebuffer(U.FRAMEBUFFER,bt);const Zt=U.fenceSync(U.SYNC_GPU_COMMANDS_COMPLETE,0);return U.flush(),await Toe(U,Zt,4),U.bindBuffer(U.PIXEL_PACK_BUFFER,ct),U.getBufferSubData(U.PIXEL_PACK_BUFFER,0,ge),U.deleteBuffer(ct),U.deleteSync(Zt),ge}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(k,q=null,Q=0){const Z=Math.pow(2,-Q),X=Math.floor(k.image.width*Z),ge=Math.floor(k.image.height*Z),Pe=q!==null?q.x:0,ze=q!==null?q.y:0;Fe.setTexture2D(k,0),U.copyTexSubImage2D(U.TEXTURE_2D,Q,0,0,Pe,ze,X,ge),Me.unbindTexture()};const Cz=U.createFramebuffer(),Pz=U.createFramebuffer();this.copyTextureToTexture=function(k,q,Q=null,Z=null,X=0,ge=null){ge===null&&(X!==0?(qu("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ge=X,X=0):ge=0);let Pe,ze,Ie,Ge,qe,Be,ct,bt,Zt;const Dt=k.isCompressedTexture?k.mipmaps[ge]:k.image;if(Q!==null)Pe=Q.max.x-Q.min.x,ze=Q.max.y-Q.min.y,Ie=Q.isBox3?Q.max.z-Q.min.z:1,Ge=Q.min.x,qe=Q.min.y,Be=Q.isBox3?Q.min.z:0;else{const gr=Math.pow(2,-X);Pe=Math.floor(Dt.width*gr),ze=Math.floor(Dt.height*gr),k.isDataArrayTexture?Ie=Dt.depth:k.isData3DTexture?Ie=Math.floor(Dt.depth*gr):Ie=1,Ge=0,qe=0,Be=0}Z!==null?(ct=Z.x,bt=Z.y,Zt=Z.z):(ct=0,bt=0,Zt=0);const Mt=Le.convert(q.format),We=Le.convert(q.type);let Bt;q.isData3DTexture?(Fe.setTexture3D(q,0),Bt=U.TEXTURE_3D):q.isDataArrayTexture||q.isCompressedArrayTexture?(Fe.setTexture2DArray(q,0),Bt=U.TEXTURE_2D_ARRAY):(Fe.setTexture2D(q,0),Bt=U.TEXTURE_2D),U.pixelStorei(U.UNPACK_FLIP_Y_WEBGL,q.flipY),U.pixelStorei(U.UNPACK_PREMULTIPLY_ALPHA_WEBGL,q.premultiplyAlpha),U.pixelStorei(U.UNPACK_ALIGNMENT,q.unpackAlignment);const pt=U.getParameter(U.UNPACK_ROW_LENGTH),Hi=U.getParameter(U.UNPACK_IMAGE_HEIGHT),Ic=U.getParameter(U.UNPACK_SKIP_PIXELS),Wi=U.getParameter(U.UNPACK_SKIP_ROWS),Zd=U.getParameter(U.UNPACK_SKIP_IMAGES);U.pixelStorei(U.UNPACK_ROW_LENGTH,Dt.width),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Dt.height),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ge),U.pixelStorei(U.UNPACK_SKIP_ROWS,qe),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Be);const Vt=k.isDataArrayTexture||k.isData3DTexture,mr=q.isDataArrayTexture||q.isData3DTexture;if(k.isDepthTexture){const gr=ve.get(k),ai=ve.get(q),Ei=ve.get(gr.__renderTarget),Fy=ve.get(ai.__renderTarget);Me.bindFramebuffer(U.READ_FRAMEBUFFER,Ei.__webglFramebuffer),Me.bindFramebuffer(U.DRAW_FRAMEBUFFER,Fy.__webglFramebuffer);for(let cl=0;cl<Ie;cl++)Vt&&(U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ve.get(k).__webglTexture,X,Be+cl),U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ve.get(q).__webglTexture,ge,Zt+cl)),U.blitFramebuffer(Ge,qe,Pe,ze,ct,bt,Pe,ze,U.DEPTH_BUFFER_BIT,U.NEAREST);Me.bindFramebuffer(U.READ_FRAMEBUFFER,null),Me.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else if(X!==0||k.isRenderTargetTexture||ve.has(k)){const gr=ve.get(k),ai=ve.get(q);Me.bindFramebuffer(U.READ_FRAMEBUFFER,Cz),Me.bindFramebuffer(U.DRAW_FRAMEBUFFER,Pz);for(let Ei=0;Ei<Ie;Ei++)Vt?U.framebufferTextureLayer(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,gr.__webglTexture,X,Be+Ei):U.framebufferTexture2D(U.READ_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,gr.__webglTexture,X),mr?U.framebufferTextureLayer(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,ai.__webglTexture,ge,Zt+Ei):U.framebufferTexture2D(U.DRAW_FRAMEBUFFER,U.COLOR_ATTACHMENT0,U.TEXTURE_2D,ai.__webglTexture,ge),X!==0?U.blitFramebuffer(Ge,qe,Pe,ze,ct,bt,Pe,ze,U.COLOR_BUFFER_BIT,U.NEAREST):mr?U.copyTexSubImage3D(Bt,ge,ct,bt,Zt+Ei,Ge,qe,Pe,ze):U.copyTexSubImage2D(Bt,ge,ct,bt,Ge,qe,Pe,ze);Me.bindFramebuffer(U.READ_FRAMEBUFFER,null),Me.bindFramebuffer(U.DRAW_FRAMEBUFFER,null)}else mr?k.isDataTexture||k.isData3DTexture?U.texSubImage3D(Bt,ge,ct,bt,Zt,Pe,ze,Ie,Mt,We,Dt.data):q.isCompressedArrayTexture?U.compressedTexSubImage3D(Bt,ge,ct,bt,Zt,Pe,ze,Ie,Mt,Dt.data):U.texSubImage3D(Bt,ge,ct,bt,Zt,Pe,ze,Ie,Mt,We,Dt):k.isDataTexture?U.texSubImage2D(U.TEXTURE_2D,ge,ct,bt,Pe,ze,Mt,We,Dt.data):k.isCompressedTexture?U.compressedTexSubImage2D(U.TEXTURE_2D,ge,ct,bt,Dt.width,Dt.height,Mt,Dt.data):U.texSubImage2D(U.TEXTURE_2D,ge,ct,bt,Pe,ze,Mt,We,Dt);U.pixelStorei(U.UNPACK_ROW_LENGTH,pt),U.pixelStorei(U.UNPACK_IMAGE_HEIGHT,Hi),U.pixelStorei(U.UNPACK_SKIP_PIXELS,Ic),U.pixelStorei(U.UNPACK_SKIP_ROWS,Wi),U.pixelStorei(U.UNPACK_SKIP_IMAGES,Zd),ge===0&&q.generateMipmaps&&U.generateMipmap(Bt),Me.unbindTexture()},this.copyTextureToTexture3D=function(k,q,Q=null,Z=null,X=0){return qu('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(k,q,Q,Z,X)},this.initRenderTarget=function(k){ve.get(k).__webglFramebuffer===void 0&&Fe.setupRenderTarget(k)},this.initTexture=function(k){k.isCubeTexture?Fe.setTextureCube(k,0):k.isData3DTexture?Fe.setTexture3D(k,0):k.isDataArrayTexture||k.isCompressedArrayTexture?Fe.setTexture2DArray(k,0):Fe.setTexture2D(k,0),Me.unbindTexture()},this.resetState=function(){S=0,E=0,P=null,Me.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Os}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=gt._getDrawingBufferColorSpace(e),n.unpackColorSpace=gt._getUnpackColorSpace()}}function J1(){const t=M.useRef(null),e=M.useRef(null);return M.useEffect(()=>{if(!t.current)return;const n=t.current,i=`
      void main() {
        gl_Position = vec4( position, 1.0 );
      }
    `,r=`
      #define TWO_PI 6.2831853072
      #define PI 3.14159265359

      precision highp float;
      uniform vec2 resolution;
      uniform float time;

      void main(void) {
        vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
        float t = time*0.05;
        float lineWidth = 0.002;

        vec3 color = vec3(0.0);
        for(int j = 0; j < 3; j++){
          for(int i=0; i < 5; i++){
            color[j] += lineWidth*float(i*i) / abs(fract(t - 0.01*float(j)+float(i)*0.01)*5.0 - length(uv) + mod(uv.x+uv.y, 0.2));
          }
        }
        
        gl_FragColor = vec4(color[0],color[1],color[2],1.0);
      }
    `,s=new K1;s.position.z=1;const o=new Joe,a=new Ep(2,2),l={time:{type:"f",value:1},resolution:{type:"v2",value:new wt}},c=new Fo({uniforms:l,vertexShader:i,fragmentShader:r}),u=new Ns(a,c);o.add(u);const d=new Bde({antialias:!0});d.setPixelRatio(window.devicePixelRatio),n.appendChild(d.domElement);const h=()=>{const v=n.clientWidth,m=n.clientHeight;d.setSize(v,m),l.resolution.value.x=d.domElement.width,l.resolution.value.y=d.domElement.height};h(),window.addEventListener("resize",h,!1);const f=()=>{const v=requestAnimationFrame(f);l.time.value+=.05,d.render(o,s),e.current&&(e.current.animationId=v)};return e.current={camera:s,scene:o,renderer:d,uniforms:l,animationId:0},f(),()=>{window.removeEventListener("resize",h),e.current&&(cancelAnimationFrame(e.current.animationId),n&&e.current.renderer.domElement&&n.removeChild(e.current.renderer.domElement),e.current.renderer.dispose(),a.dispose(),c.dispose())}},[]),x.jsx("div",{ref:t,className:"w-full h-screen",style:{background:"#000",overflow:"hidden"}})}function Ek({id:t,title:e}){return x.jsx(st.section,{id:t,className:"py-16 px-6 text-center",initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0,amount:.3},transition:{duration:.8},children:x.jsxs("div",{className:"relative max-w-4xl mx-auto rounded-xl overflow-hidden border",children:[x.jsxs("div",{className:"absolute inset-0 z-0 h-full w-full",children:[x.jsx(J1,{}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/40 to-background/80"})]}),x.jsx("div",{className:"relative z-10 p-8 md:p-12",children:x.jsxs(Pi,{className:"ai-card backdrop-blur-md bg-background/60 border-none shadow-2xl",children:[x.jsx(Ta,{children:x.jsx(Ma,{className:"text-4xl md:text-5xl font-bold",children:x.jsx("span",{className:"ai-text-gradient",children:e})})}),x.jsxs(Sr,{children:[x.jsx("div",{className:"wavy-underline w-24 md:w-32 mx-auto mb-4"}),x.jsx("p",{className:"text-muted-foreground text-lg",children:"Exciting things are on the horizon. Stay tuned for updates!"})]})]})})]})})}const Vde=()=>{const t=Wo();return M.useEffect(()=>{const n=["about","events","projects","team","contact"].map(a=>document.getElementById(a)).filter(a=>!!a);if(n.length===0)return;const i=getComputedStyle(document.documentElement).getPropertyValue("--nav-height").trim(),r=parseInt(i||"80",10)||80;let s=t.hash;const o=new IntersectionObserver(a=>{const l=a.filter(d=>d.isIntersecting).sort((d,h)=>h.intersectionRatio-d.intersectionRatio)[0];if(!l)return;const c=l.target.getAttribute("id");if(!c)return;const u=`#${c}`;u!==s&&(s=u,history.replaceState(null,"",`/${u}`),window.dispatchEvent(new HashChangeEvent("hashchange")))},{root:null,rootMargin:`-${r+10}px 0px -60% 0px`,threshold:[.15,.3,.6]});return n.forEach(a=>o.observe(a)),()=>o.disconnect()},[]),M.useEffect(()=>{if(t.hash){const e=t.hash.slice(1),n=document.getElementById(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}},[]),x.jsxs("div",{className:"min-h-screen",children:[x.jsx(bU,{}),x.jsx(st.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5},children:x.jsx(lY,{})}),x.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},children:x.jsx(wse,{})}),x.jsx(st.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},children:x.jsx(uY,{})}),x.jsx(st.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.25},children:x.jsx(kse,{})}),x.jsx(Ek,{id:"events",title:"Events"}),x.jsx(Ek,{id:"projects",title:"Projects"}),x.jsx(st.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.25},children:x.jsx(AQ,{})}),x.jsx(st.section,{id:"team",className:"px-6",initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.25},children:x.jsx("div",{className:"max-w-6xl mx-auto",children:x.jsx(Mse,{})})}),x.jsx(st.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.25},children:x.jsx(Lse,{})}),x.jsx(RQ,{leftLinks:[{href:"/#about",label:"About"},{href:"/#events",label:"Events"}],rightLinks:[{href:"/#contact",label:"Contact"},{href:"#",label:"Privacy"}],copyrightText:" 2025 AI HackerDorm"})]})};function Hde(){return x.jsxs("div",{className:"relative min-h-screen bg-background",children:[x.jsxs("div",{className:"absolute inset-0 z-0",children:[x.jsx(J1,{}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background/40 to-background/70"})]}),x.jsx("div",{className:"relative z-10 flex items-center justify-center p-6 min-h-screen",children:x.jsx("div",{className:"max-w-xl w-full",children:x.jsxs(Pi,{className:"ai-card backdrop-blur-md bg-background/70",children:[x.jsxs(Ta,{children:[x.jsx(Ma,{children:"Dashboard"}),x.jsx(Xl,{children:"Coming Soon"})]}),x.jsx(Sr,{children:x.jsx("p",{className:"text-muted-foreground",children:"The AI HackerDorm dashboard is coming soon with more features. Stay tuned!"})})]})})})]})}function Wde(){const t=py();return x.jsx("section",{className:"bg-white font-serif min-h-screen flex items-center justify-center",children:x.jsx("div",{className:"container mx-auto",children:x.jsx("div",{className:"flex justify-center",children:x.jsxs("div",{className:"w-full sm:w-10/12 md:w-8/12 text-center",children:[x.jsx("div",{className:"bg-[url(https://cdn.dribbble.com/users/285475/screenshots/2083086/dribbble_1.gif)] h-[250px] sm:h-[350px] md:h-[400px] bg-center bg-no-repeat bg-contain","aria-hidden":"true",children:x.jsx("h1",{className:"text-center text-black text-6xl sm:text-7xl md:text-8xl pt-6 sm:pt-8",children:"404"})}),x.jsxs("div",{className:"mt-[-50px]",children:[x.jsx("h3",{className:"text-2xl text-black sm:text-3xl font-bold mb-4",children:"Look like you're lost"}),x.jsx("p",{className:"mb-6 text-black sm:mb-5",children:"The page you are looking for is not available!"}),x.jsx(Pt,{variant:"default",onClick:()=>t("/"),className:"my-5 bg-green-600 hover:bg-green-700 ",children:"Go to Home"})]})]})})})})}const Tk=()=>{const t=Wo();return M.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),x.jsx(Wde,{})};function po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bF(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var or={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},kd={duration:.5,overwrite:!1,delay:0},Q1,Vn,Ft,kr=1e8,At=1/kr,hS=Math.PI*2,Gde=hS/4,$de=0,SF=Math.sqrt,qde=Math.cos,Xde=Math.sin,Nn=function(e){return typeof e=="string"},sn=function(e){return typeof e=="function"},zo=function(e){return typeof e=="number"},Z1=function(e){return typeof e>"u"},qs=function(e){return typeof e=="object"},Fi=function(e){return e!==!1},eT=function(){return typeof window<"u"},Hm=function(e){return sn(e)||Nn(e)},EF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ii=Array.isArray,fS=/(?:-?\.?\d|\.)+/gi,TF=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ru=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ix=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,MF=/[+-]=-?[.\d]+/,CF=/[^,'"\[\]\s]+/gi,Kde=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,qt,Ts,pS,tT,lr={},Ev={},PF,AF=function(e){return(Ev=Dd(e,lr))&&Vi},nT=function(e,n){return console.warn("Invalid property",e,"set to",n,"Missing plugin? gsap.registerPlugin()")},Gf=function(e,n){return!n&&console.warn(e)},RF=function(e,n){return e&&(lr[e]=n)&&Ev&&(Ev[e]=n)||lr},$f=function(){return 0},Yde={suppressEvents:!0,isStart:!0,kill:!1},bg={suppressEvents:!0,kill:!1},Jde={suppressEvents:!0},iT={},Va=[],mS={},kF,Yi={},rx={},Mk=30,Sg=[],rT="",sT=function(e){var n=e[0],i,r;if(qs(n)||sn(n)||(e=[e]),!(i=(n._gsap||{}).harness)){for(r=Sg.length;r--&&!Sg[r].targetTest(n););i=Sg[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new tz(e[r],i)))||e.splice(r,1);return e},uc=function(e){return e._gsap||sT(Dr(e))[0]._gsap},DF=function(e,n,i){return(i=e[n])&&sn(i)?e[n]():Z1(i)&&e.getAttribute&&e.getAttribute(n)||i},zi=function(e,n){return(e=e.split(",")).forEach(n)||e},cn=function(e){return Math.round(e*1e5)/1e5||0},vn=function(e){return Math.round(e*1e7)/1e7||0},Ku=function(e,n){var i=n.charAt(0),r=parseFloat(n.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},Qde=function(e,n){for(var i=n.length,r=0;e.indexOf(n[r])<0&&++r<i;);return r<i},Tv=function(){var e=Va.length,n=Va.slice(0),i,r;for(mS={},Va.length=0,i=0;i<e;i++)r=n[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},oT=function(e){return!!(e._initted||e._startAt||e.add)},IF=function(e,n,i,r){Va.length&&!Vn&&Tv(),e.render(n,i,!!(Vn&&n<0&&oT(e))),Va.length&&!Vn&&Tv()},LF=function(e){var n=parseFloat(e);return(n||n===0)&&(e+"").match(CF).length<2?n:Nn(e)?e.trim():e},OF=function(e){return e},cr=function(e,n){for(var i in n)i in e||(e[i]=n[i]);return e},Zde=function(e){return function(n,i){for(var r in i)r in n||r==="duration"&&e||r==="ease"||(n[r]=i[r])}},Dd=function(e,n){for(var i in n)e[i]=n[i];return e},Ck=function t(e,n){for(var i in n)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=qs(n[i])?t(e[i]||(e[i]={}),n[i]):n[i]);return e},Mv=function(e,n){var i={},r;for(r in e)r in n||(i[r]=e[r]);return i},tf=function(e){var n=e.parent||qt,i=e.keyframes?Zde(ii(e.keyframes)):cr;if(Fi(e.inherit))for(;n;)i(e,n.vars.defaults),n=n.parent||n._dp;return e},ehe=function(e,n){for(var i=e.length,r=i===n.length;r&&i--&&e[i]===n[i];);return i<0},NF=function(e,n,i,r,s){var o=e[r],a;if(s)for(a=n[s];o&&o[s]>a;)o=o._prev;return o?(n._next=o._next,o._next=n):(n._next=e[i],e[i]=n),n._next?n._next._prev=n:e[r]=n,n._prev=o,n.parent=n._dp=e,n},Oy=function(e,n,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=n._prev,o=n._next;s?s._next=o:e[i]===n&&(e[i]=o),o?o._prev=s:e[r]===n&&(e[r]=s),n._next=n._prev=n.parent=null},tl=function(e,n){e.parent&&(!n||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},dc=function(e,n){if(e&&(!n||n._end>e._dur||n._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},the=function(e){for(var n=e.parent;n&&n.parent;)n._dirty=1,n.totalDuration(),n=n.parent;return e},gS=function(e,n,i,r){return e._startAt&&(Vn?e._startAt.revert(bg):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(n,!0,r))},nhe=function t(e){return!e||e._ts&&t(e.parent)},Pk=function(e){return e._repeat?Id(e._tTime,e=e.duration()+e._rDelay)*e:0},Id=function(e,n){var i=Math.floor(e=vn(e/n));return e&&i===e?i-1:i},Cv=function(e,n){return(e-n._start)*n._ts+(n._ts>=0?0:n._dirty?n.totalDuration():n._tDur)},Ny=function(e){return e._end=vn(e._start+(e._tDur/Math.abs(e._ts||e._rts||At)||0))},Uy=function(e,n){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=vn(i._time-(e._ts>0?n/e._ts:((e._dirty?e.totalDuration():e._tDur)-n)/-e._ts)),Ny(e),i._dirty||dc(i,e)),e},UF=function(e,n){var i;if((n._time||!n._dur&&n._initted||n._start<e._time&&(n._dur||!n.add))&&(i=Cv(e.rawTime(),n),(!n._dur||Tp(0,n.totalDuration(),i)-n._tTime>At)&&n.render(i,!0)),dc(e,n)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-At}},ks=function(e,n,i,r){return n.parent&&tl(n),n._start=vn((zo(i)?i:i||e!==qt?wr(e,i,n):e._time)+n._delay),n._end=vn(n._start+(n.totalDuration()/Math.abs(n.timeScale())||0)),NF(e,n,"_first","_last",e._sort?"_start":0),vS(n)||(e._recent=n),r||UF(e,n),e._ts<0&&Uy(e,e._tTime),e},FF=function(e,n){return(lr.ScrollTrigger||nT("scrollTrigger",n))&&lr.ScrollTrigger.create(n,e)},zF=function(e,n,i,r,s){if(lT(e,n,s),!e._initted)return 1;if(!i&&e._pt&&!Vn&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&kF!==Qi.frame)return Va.push(e),e._lazy=[s,r],1},ihe=function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))},vS=function(e){var n=e.data;return n==="isFromStart"||n==="isStart"},rhe=function(e,n,i,r){var s=e.ratio,o=n<0||!n&&(!e._start&&ihe(e)&&!(!e._initted&&vS(e))||(e._ts<0||e._dp._ts<0)&&!vS(e))?0:1,a=e._rDelay,l=0,c,u,d;if(a&&e._repeat&&(l=Tp(0,e._tDur,n),u=Id(l,a),e._yoyo&&u&1&&(o=1-o),u!==Id(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Vn||r||e._zTime===At||!n&&e._zTime){if(!e._initted&&zF(e,n,r,i,l))return;for(d=e._zTime,e._zTime=n||(i?At:0),i||(i=n&&!d),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;n<0&&gS(e,n,i,!0),e._onUpdate&&!i&&tr(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&tr(e,"onRepeat"),(n>=e._tDur||n<0)&&e.ratio===o&&(o&&tl(e,1),!i&&!Vn&&(tr(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=n)},she=function(e,n,i){var r;if(i>n)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>n)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<n)return r;r=r._prev}},Ld=function(e,n,i,r){var s=e._repeat,o=vn(n)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:vn(o*(s+1)+e._rDelay*s):o,a>0&&!r&&Uy(e,e._tTime=e._tDur*a),e.parent&&Ny(e),i||dc(e.parent,e),e},Ak=function(e){return e instanceof gi?dc(e):Ld(e,e._dur)},ohe={_start:0,endTime:$f,totalDuration:$f},wr=function t(e,n,i){var r=e.labels,s=e._recent||ohe,o=e.duration()>=kr?s.endTime(!1):e._dur,a,l,c;return Nn(n)&&(isNaN(n)||n in r)?(l=n.charAt(0),c=n.substr(-1)==="%",a=n.indexOf("="),l==="<"||l===">"?(a>=0&&(n=n.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(n.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(n in r||(r[n]=o),r[n]):(l=parseFloat(n.charAt(a-1)+n.substr(a+1)),c&&i&&(l=l/100*(ii(i)?i[0]:i).totalDuration()),a>1?t(e,n.substr(0,a-1),i)+l:o+l)):n==null?o:+n},nf=function(e,n,i){var r=zo(n[1]),s=(r?2:1)+(e<2?0:1),o=n[s],a,l;if(r&&(o.duration=n[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Fi(l.vars.inherit)&&l.parent;o.immediateRender=Fi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=n[s-1]}return new gn(n[0],o,n[s+1])},ll=function(e,n){return e||e===0?n(e):n},Tp=function(e,n,i){return i<e?e:i>n?n:i},Qn=function(e,n){return!Nn(e)||!(n=Kde.exec(e))?"":n[1]},ahe=function(e,n,i){return ll(i,function(r){return Tp(e,n,r)})},yS=[].slice,jF=function(e,n){return e&&qs(e)&&"length"in e&&(!n&&!e.length||e.length-1 in e&&qs(e[0]))&&!e.nodeType&&e!==Ts},lhe=function(e,n,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return Nn(r)&&!n||jF(r,1)?(s=i).push.apply(s,Dr(r)):i.push(r)})||i},Dr=function(e,n,i){return Ft&&!n&&Ft.selector?Ft.selector(e):Nn(e)&&!i&&(pS||!Od())?yS.call((n||tT).querySelectorAll(e),0):ii(e)?lhe(e,i):jF(e)?yS.call(e,0):e?[e]:[]},_S=function(e){return e=Dr(e)[0]||Gf("Invalid scope")||{},function(n){var i=e.current||e.nativeElement||e;return Dr(n,i.querySelectorAll?i:i===e?Gf("Invalid scope")||tT.createElement("div"):e)}},BF=function(e){return e.sort(function(){return .5-Math.random()})},VF=function(e){if(sn(e))return e;var n=qs(e)?e:{each:e},i=hc(n.ease),r=n.from||0,s=parseFloat(n.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=n.axis,u=r,d=r;return Nn(r)?u=d={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],d=r[1]),function(h,f,v){var m=(v||n).length,g=o[m],p,_,y,w,b,S,E,P,T;if(!g){if(T=n.grid==="auto"?0:(n.grid||[1,kr])[1],!T){for(E=-kr;E<(E=v[T++].getBoundingClientRect().left)&&T<m;);T<m&&T--}for(g=o[m]=[],p=l?Math.min(T,m)*u-.5:r%T,_=T===kr?0:l?m*d/T-.5:r/T|0,E=0,P=kr,S=0;S<m;S++)y=S%T-p,w=_-(S/T|0),g[S]=b=c?Math.abs(c==="y"?w:y):SF(y*y+w*w),b>E&&(E=b),b<P&&(P=b);r==="random"&&BF(g),g.max=E-P,g.min=P,g.v=m=(parseFloat(n.amount)||parseFloat(n.each)*(T>m?m-1:c?c==="y"?m/T:T:Math.max(T,m/T))||0)*(r==="edges"?-1:1),g.b=m<0?s-m:s,g.u=Qn(n.amount||n.each)||0,i=i&&m<0?QF(i):i}return m=(g[h]-g.min)/g.max||0,vn(g.b+(i?i(m):m)*g.v)+g.u}},xS=function(e){var n=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=vn(Math.round(parseFloat(i)/e)*e*n);return(r-r%1)/n+(zo(i)?0:Qn(i))}},HF=function(e,n){var i=ii(e),r,s;return!i&&qs(e)&&(r=i=e.radius||kr,e.values?(e=Dr(e.values),(s=!zo(e[0]))&&(r*=r)):e=xS(e.increment)),ll(n,i?sn(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=kr,u=0,d=e.length,h,f;d--;)s?(h=e[d].x-a,f=e[d].y-l,h=h*h+f*f):h=Math.abs(e[d]-a),h<c&&(c=h,u=d);return u=!r||c<=r?e[u]:o,s||u===o||zo(o)?u:u+Qn(o)}:xS(e))},WF=function(e,n,i,r){return ll(ii(e)?!n:i===!0?!!(i=0):!r,function(){return ii(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(n-e+i*.99))/i)*i*r)/r})},che=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return function(r){return n.reduce(function(s,o){return o(s)},r)}},uhe=function(e,n){return function(i){return e(parseFloat(i))+(n||Qn(i))}},dhe=function(e,n,i){return $F(e,n,0,1,i)},GF=function(e,n,i){return ll(i,function(r){return e[~~n(r)]})},hhe=function t(e,n,i){var r=n-e;return ii(e)?GF(e,t(0,e.length),n):ll(i,function(s){return(r+(s-e)%r)%r+e})},fhe=function t(e,n,i){var r=n-e,s=r*2;return ii(e)?GF(e,t(0,e.length-1),n):ll(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},qf=function(e){for(var n=0,i="",r,s,o,a;~(r=e.indexOf("random(",n));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?CF:fS),i+=e.substr(n,r-n)+WF(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),n=o+1;return i+e.substr(n,e.length-n)},$F=function(e,n,i,r,s){var o=n-e,a=r-i;return ll(s,function(l){return i+((l-e)/o*a||0)})},phe=function t(e,n,i,r){var s=isNaN(e+n)?0:function(f){return(1-f)*e+f*n};if(!s){var o=Nn(e),a={},l,c,u,d,h;if(i===!0&&(r=1)&&(i=null),o)e={p:e},n={p:n};else if(ii(e)&&!ii(n)){for(u=[],d=e.length,h=d-2,c=1;c<d;c++)u.push(t(e[c-1],e[c]));d--,s=function(v){v*=d;var m=Math.min(h,~~v);return u[m](v-m)},i=n}else r||(e=Dd(ii(e)?[]:{},e));if(!u){for(l in n)aT.call(a,e,l,"get",n[l]);s=function(v){return dT(v,a)||(o?e.p:e)}}}return ll(i,s)},Rk=function(e,n,i){var r=e.labels,s=kr,o,a,l;for(o in r)a=r[o]-n,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},tr=function(e,n,i){var r=e.vars,s=r[n],o=Ft,a=e._ctx,l,c,u;if(s)return l=r[n+"Params"],c=r.callbackScope||e,i&&Va.length&&Tv(),a&&(Ft=a),u=l?s.apply(c,l):s.call(c),Ft=o,u},Rh=function(e){return tl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Vn),e.progress()<1&&tr(e,"onInterrupt"),e},ku,qF=[],XF=function(e){if(e)if(e=!e.name&&e.default||e,eT()||e.headless){var n=e.name,i=sn(e),r=n&&!i&&e.init?function(){this._props=[]}:e,s={init:$f,render:dT,add:aT,kill:Rhe,modifier:Ahe,rawVars:0},o={targetTest:0,get:0,getSetter:uT,aliases:{},register:0};if(Od(),e!==r){if(Yi[n])return;cr(r,cr(Mv(e,s),o)),Dd(r.prototype,Dd(s,Mv(e,o))),Yi[r.prop=n]=r,e.targetTest&&(Sg.push(r),iT[n]=1),n=(n==="css"?"CSS":n.charAt(0).toUpperCase()+n.substr(1))+"Plugin"}RF(n,r),e.register&&e.register(Vi,r,ji)}else qF.push(e)},Ct=255,kh={aqua:[0,Ct,Ct],lime:[0,Ct,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Ct],navy:[0,0,128],white:[Ct,Ct,Ct],olive:[128,128,0],yellow:[Ct,Ct,0],orange:[Ct,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Ct,0,0],pink:[Ct,192,203],cyan:[0,Ct,Ct],transparent:[Ct,Ct,Ct,0]},sx=function(e,n,i){return e+=e<0?1:e>1?-1:0,(e*6<1?n+(i-n)*e*6:e<.5?i:e*3<2?n+(i-n)*(2/3-e)*6:n)*Ct+.5|0},KF=function(e,n,i){var r=e?zo(e)?[e>>16,e>>8&Ct,e&Ct]:0:kh.black,s,o,a,l,c,u,d,h,f,v;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kh[e])r=kh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Ct,r&Ct,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Ct,e&Ct]}else if(e.substr(0,3)==="hsl"){if(r=v=e.match(fS),!n)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=sx(l+1/3,s,o),r[1]=sx(l,s,o),r[2]=sx(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(TF),i&&r.length<4&&(r[3]=1),r}else r=e.match(fS)||kh.transparent;r=r.map(Number)}return n&&!v&&(s=r[0]/Ct,o=r[1]/Ct,a=r[2]/Ct,d=Math.max(s,o,a),h=Math.min(s,o,a),u=(d+h)/2,d===h?l=c=0:(f=d-h,c=u>.5?f/(2-d-h):f/(d+h),l=d===s?(o-a)/f+(o<a?6:0):d===o?(a-s)/f+2:(s-o)/f+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},YF=function(e){var n=[],i=[],r=-1;return e.split(Ha).forEach(function(s){var o=s.match(Ru)||[];n.push.apply(n,o),i.push(r+=o.length+1)}),n.c=i,n},kk=function(e,n,i){var r="",s=(e+r).match(Ha),o=n?"hsla(":"rgba(",a=0,l,c,u,d;if(!s)return e;if(s=s.map(function(h){return(h=KF(h,n,1))&&o+(n?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=YF(e),l=i.c,l.join(r)!==u.c.join(r)))for(c=e.replace(Ha,"1").split(Ru),d=c.length-1;a<d;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=e.split(Ha),d=c.length-1;a<d;a++)r+=c[a]+s[a];return r+c[d]},Ha=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kh)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),mhe=/hsl[a]?\(/,JF=function(e){var n=e.join(" "),i;if(Ha.lastIndex=0,Ha.test(n))return i=mhe.test(n),e[1]=kk(e[1],i),e[0]=kk(e[0],i,YF(e[1])),!0},Xf,Qi=function(){var t=Date.now,e=500,n=33,i=t(),r=i,s=1e3/240,o=s,a=[],l,c,u,d,h,f,v=function m(g){var p=t()-r,_=g===!0,y,w,b,S;if((p>e||p<0)&&(i+=p-n),r+=p,b=r-i,y=b-o,(y>0||_)&&(S=++d.frame,h=b-d.time*1e3,d.time=b=b/1e3,o+=y+(y>=s?4:s-y),w=1),_||(l=c(m)),w)for(f=0;f<a.length;f++)a[f](b,h,S,g)};return d={time:0,frame:0,tick:function(){v(!0)},deltaRatio:function(g){return h/(1e3/(g||60))},wake:function(){PF&&(!pS&&eT()&&(Ts=pS=window,tT=Ts.document||{},lr.gsap=Vi,(Ts.gsapVersions||(Ts.gsapVersions=[])).push(Vi.version),AF(Ev||Ts.GreenSockGlobals||!Ts.gsap&&Ts||{}),qF.forEach(XF)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&d.sleep(),c=u||function(g){return setTimeout(g,o-d.time*1e3+1|0)},Xf=1,v(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),Xf=0,c=$f},lagSmoothing:function(g,p){e=g||1/0,n=Math.min(p||33,e)},fps:function(g){s=1e3/(g||240),o=d.time*1e3+s},add:function(g,p,_){var y=p?function(w,b,S,E){g(w,b,S,E),d.remove(y)}:g;return d.remove(g),a[_?"unshift":"push"](y),Od(),y},remove:function(g,p){~(p=a.indexOf(g))&&a.splice(p,1)&&f>=p&&f--},_listeners:a},d}(),Od=function(){return!Xf&&Qi.wake()},ht={},ghe=/^[\d.\-M][\d.\-,\s]/,vhe=/["']/g,yhe=function(e){for(var n={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),n[r]=isNaN(c)?c.replace(vhe,"").trim():+c,r=l.substr(a+1).trim();return n},_he=function(e){var n=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",n);return e.substring(n,~r&&r<i?e.indexOf(")",i+1):i)},xhe=function(e){var n=(e+"").split("("),i=ht[n[0]];return i&&n.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[yhe(n[1])]:_he(e).split(",").map(LF)):ht._CE&&ghe.test(e)?ht._CE("",e):i},QF=function(e){return function(n){return 1-e(1-n)}},ZF=function t(e,n){for(var i=e._first,r;i;)i instanceof gi?t(i,n):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==n&&(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},hc=function(e,n){return e&&(sn(e)?e:ht[e]||xhe(e))||n},Dc=function(e,n,i,r){i===void 0&&(i=function(l){return 1-n(1-l)}),r===void 0&&(r=function(l){return l<.5?n(l*2)/2:1-n((1-l)*2)/2});var s={easeIn:n,easeOut:i,easeInOut:r},o;return zi(e,function(a){ht[a]=lr[a]=s,ht[o=a.toLowerCase()]=i;for(var l in s)ht[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=ht[a+"."+l]=s[l]}),s},ez=function(e){return function(n){return n<.5?(1-e(1-n*2))/2:.5+e((n-.5)*2)/2}},ox=function t(e,n,i){var r=n>=1?n:1,s=(i||(e?.3:.45))/(n<1?n:1),o=s/hS*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*Xde((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:ez(a);return s=hS/s,l.config=function(c,u){return t(e,c,u)},l},ax=function t(e,n){n===void 0&&(n=1.70158);var i=function(o){return o?--o*o*((n+1)*o+n)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:ez(i);return r.config=function(s){return t(e,s)},r};zi("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var n=e<5?e+1:e;Dc(t+",Power"+(n-1),e?function(i){return Math.pow(i,n)}:function(i){return i},function(i){return 1-Math.pow(1-i,n)},function(i){return i<.5?Math.pow(i*2,n)/2:1-Math.pow((1-i)*2,n)/2})});ht.Linear.easeNone=ht.none=ht.Linear.easeIn;Dc("Elastic",ox("in"),ox("out"),ox());(function(t,e){var n=1/e,i=2*n,r=2.5*n,s=function(a){return a<n?t*a*a:a<i?t*Math.pow(a-1.5/e,2)+.75:a<r?t*(a-=2.25/e)*a+.9375:t*Math.pow(a-2.625/e,2)+.984375};Dc("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Dc("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Dc("Circ",function(t){return-(SF(1-t*t)-1)});Dc("Sine",function(t){return t===1?1:-qde(t*Gde)+1});Dc("Back",ax("in"),ax("out"),ax());ht.SteppedEase=ht.steps=lr.SteppedEase={config:function(e,n){e===void 0&&(e=1);var i=1/e,r=e+(n?0:1),s=n?1:0,o=1-At;return function(a){return((r*Tp(0,o,a)|0)+s)*i}}};kd.ease=ht["quad.out"];zi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return rT+=t+","+t+"Params,"});var tz=function(e,n){this.id=$de++,e._gsap=this,this.target=e,this.harness=n,this.get=n?n.get:DF,this.set=n?n.getSetter:uT},Kf=function(){function t(n){this.vars=n,this._delay=+n.delay||0,(this._repeat=n.repeat===1/0?-2:n.repeat||0)&&(this._rDelay=n.repeatDelay||0,this._yoyo=!!n.yoyo||!!n.yoyoEase),this._ts=1,Ld(this,+n.duration,1,1),this.data=n.data,Ft&&(this._ctx=Ft,Ft.data.push(this)),Xf||Qi.wake()}var e=t.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Ld(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(Od(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(Uy(this,i),!s._dp||s.parent||UF(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ks(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===At||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),IF(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+Pk(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+Pk(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?Id(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-At?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Cv(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-At?0:this._rts,this.totalTime(Tp(-Math.abs(this._delay),this.totalDuration(),s),r!==!1),Ny(this),the(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Od(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==At&&(this._tTime-=At)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&ks(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Fi(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Cv(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=Jde);var r=Vn;return Vn=i,oT(this)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),Vn=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,Ak(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,Ak(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(wr(this,i),Fi(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Fi(r)),this._dur||(this._zTime=-At),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-At:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-At,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-At)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=sn(i)?i:OF,a=function(){var c=r.then;r.then=null,sn(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Rh(this)},t}();cr(Kf.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-At,_prom:0,_ps:!1,_rts:1});var gi=function(t){bF(e,t);function e(i,r){var s;return i===void 0&&(i={}),s=t.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=Fi(i.sortChildren),qt&&ks(i.parent||qt,po(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&FF(po(s),i.scrollTrigger),s}var n=e.prototype;return n.to=function(r,s,o){return nf(0,arguments,this),this},n.from=function(r,s,o){return nf(1,arguments,this),this},n.fromTo=function(r,s,o,a){return nf(2,arguments,this),this},n.set=function(r,s,o){return s.duration=0,s.parent=this,tf(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new gn(r,s,wr(this,o),1),this},n.call=function(r,s,o){return ks(this,gn.delayedCall(0,r,s),o)},n.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new gn(r,o,wr(this,l)),this},n.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,tf(o).immediateRender=Fi(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},n.staggerFromTo=function(r,s,o,a,l,c,u,d){return a.startAt=o,tf(a).immediateRender=Fi(a.immediateRender),this.staggerTo(r,s,a,l,c,u,d)},n.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:vn(r),d=this._zTime<0!=r<0&&(this._initted||!c),h,f,v,m,g,p,_,y,w,b,S,E;if(this!==qt&&u>l&&r>=0&&(u=l),u!==this._tTime||o||d){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),h=u,w=this._start,y=this._ts,p=!y,d&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(S=this._yoyo,g=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,s,o);if(h=vn(u%g),u===l?(m=this._repeat,h=c):(b=vn(u/g),m=~~b,m&&m===b&&(h=c,m--),h>c&&(h=c)),b=Id(this._tTime,g),!a&&this._tTime&&b!==m&&this._tTime-b*g-this._dur<=0&&(b=m),S&&m&1&&(h=c-h,E=1),m!==b&&!this._lock){var P=S&&b&1,T=P===(S&&m&1);if(m<b&&(P=!P),a=P?0:u%c?c:u,this._lock=1,this.render(a||(E?0:vn(m*g)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&tr(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),a&&a!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=P?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;ZF(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(_=she(this,vn(a),vn(h)),_&&(u-=h-(h=_._start))),this._tTime=u,this._time=h,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&u&&!s&&!b&&(tr(this,"onStart"),this._tTime!==u))return this;if(h>=a&&r>=0)for(f=this._first;f;){if(v=f._next,(f._act||h>=f._start)&&f._ts&&_!==f){if(f.parent!==this)return this.render(r,s,o);if(f.render(f._ts>0?(h-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(h-f._start)*f._ts,s,o),h!==this._time||!this._ts&&!p){_=0,v&&(u+=this._zTime=-At);break}}f=v}else{f=this._last;for(var C=r<0?r:h;f;){if(v=f._prev,(f._act||C<=f._end)&&f._ts&&_!==f){if(f.parent!==this)return this.render(r,s,o);if(f.render(f._ts>0?(C-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(C-f._start)*f._ts,s,o||Vn&&oT(f)),h!==this._time||!this._ts&&!p){_=0,v&&(u+=this._zTime=C?-At:At);break}}f=v}}if(_&&!s&&(this.pause(),_.render(h>=a?0:-At)._zTime=h>=a?1:-1,this._ts))return this._start=w,Ny(this),this.render(r,s,o);this._onUpdate&&!s&&tr(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(w===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&tl(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(tr(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(r,s){var o=this;if(zo(s)||(s=wr(this,s,r)),!(r instanceof Kf)){if(ii(r))return r.forEach(function(a){return o.add(a,s)}),this;if(Nn(r))return this.addLabel(r,s);if(sn(r))r=gn.delayedCall(0,r);else return this}return this!==r?ks(this,r,s):this},n.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-kr);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof gn?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},n.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},n.remove=function(r){return Nn(r)?this.removeLabel(r):sn(r)?this.killTweensOf(r):(r.parent===this&&Oy(this,r),r===this._recent&&(this._recent=this._last),dc(this))},n.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=vn(Qi.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),t.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},n.addLabel=function(r,s){return this.labels[r]=wr(this,s),this},n.removeLabel=function(r){return delete this.labels[r],this},n.addPause=function(r,s,o){var a=gn.delayedCall(0,s||$f,o);return a.data="isPause",this._hasPause=1,ks(this,a,wr(this,r))},n.removePause=function(r){var s=this._first;for(r=wr(this,r);s;)s._start===r&&s.data==="isPause"&&tl(s),s=s._next},n.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Ca!==a[l]&&a[l].kill(r,s);return this},n.getTweensOf=function(r,s){for(var o=[],a=Dr(r),l=this._first,c=zo(s),u;l;)l instanceof gn?Qde(l._targets,a)&&(c?(!Ca||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},n.tweenTo=function(r,s){s=s||{};var o=this,a=wr(o,r),l=s,c=l.startAt,u=l.onStart,d=l.onStartParams,h=l.immediateRender,f,v=gn.to(o,cr({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||At,onStart:function(){if(o.pause(),!f){var g=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());v._dur!==g&&Ld(v,g,0,1).render(v._time,!0,!0),f=1}u&&u.apply(v,d||[])}},s));return h?v.render(0):v},n.tweenFromTo=function(r,s,o){return this.tweenTo(s,cr({startAt:{time:wr(this,r)}},o))},n.recent=function(){return this._recent},n.nextLabel=function(r){return r===void 0&&(r=this._time),Rk(this,wr(this,r))},n.previousLabel=function(r){return r===void 0&&(r=this._time),Rk(this,wr(this,r),1)},n.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+At)},n.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return dc(this)},n.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return t.prototype.invalidate.call(this,r)},n.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),dc(this)},n.totalDuration=function(r){var s=0,o=this,a=o._last,l=kr,c,u,d;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(d=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,ks(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!d&&!o._dp||d&&d.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;Ld(o,o===qt&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(qt._ts&&(IF(qt,Cv(r,qt)),kF=Qi.frame),Qi.frame>=Mk){Mk+=or.autoSleep||120;var s=qt._first;if((!s||!s._ts)&&or.autoSleep&&Qi._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Qi.sleep()}}},e}(Kf);cr(gi.prototype,{_lock:0,_hasPause:0,_forcing:0});var whe=function(e,n,i,r,s,o,a){var l=new ji(this._pt,e,n,0,1,az,null,s),c=0,u=0,d,h,f,v,m,g,p,_;for(l.b=i,l.e=r,i+="",r+="",(p=~r.indexOf("random("))&&(r=qf(r)),o&&(_=[i,r],o(_,e,n),i=_[0],r=_[1]),h=i.match(ix)||[];d=ix.exec(r);)v=d[0],m=r.substring(c,d.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),v!==h[u++]&&(g=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:m||u===1?m:",",s:g,c:v.charAt(1)==="="?Ku(g,v)-g:parseFloat(v)-g,m:f&&f<4?Math.round:0},c=ix.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(MF.test(r)||p)&&(l.e=0),this._pt=l,l},aT=function(e,n,i,r,s,o,a,l,c,u){sn(r)&&(r=r(s||0,e,o));var d=e[n],h=i!=="get"?i:sn(d)?c?e[n.indexOf("set")||!sn(e["get"+n.substr(3)])?n:"get"+n.substr(3)](c):e[n]():d,f=sn(d)?c?Mhe:sz:cT,v;if(Nn(r)&&(~r.indexOf("random(")&&(r=qf(r)),r.charAt(1)==="="&&(v=Ku(h,r)+(Qn(h)||0),(v||v===0)&&(r=v))),!u||h!==r||wS)return!isNaN(h*r)&&r!==""?(v=new ji(this._pt,e,n,+h||0,r-(h||0),typeof d=="boolean"?Phe:oz,0,f),c&&(v.fp=c),a&&v.modifier(a,this,e),this._pt=v):(!d&&!(n in e)&&nT(n,r),whe.call(this,e,n,h,r,f,l||or.stringFilter,c))},bhe=function(e,n,i,r,s){if(sn(e)&&(e=rf(e,s,n,i,r)),!qs(e)||e.style&&e.nodeType||ii(e)||EF(e))return Nn(e)?rf(e,s,n,i,r):e;var o={},a;for(a in e)o[a]=rf(e[a],s,n,i,r);return o},nz=function(e,n,i,r,s,o){var a,l,c,u;if(Yi[e]&&(a=new Yi[e]).init(s,a.rawVars?n[e]:bhe(n[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new ji(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==ku))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Ca,wS,lT=function t(e,n,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,d=r.yoyoEase,h=r.keyframes,f=r.autoRevert,v=e._dur,m=e._startAt,g=e._targets,p=e.parent,_=p&&p.data==="nested"?p.vars.targets:g,y=e._overwrite==="auto"&&!Q1,w=e.timeline,b,S,E,P,T,C,R,N,I,O,H,V,z;if(w&&(!h||!s)&&(s="none"),e._ease=hc(s,kd.ease),e._yEase=d?QF(hc(d===!0?s:d,kd.ease)):0,d&&e._yoyo&&!e._repeat&&(d=e._yEase,e._yEase=e._ease,e._ease=d),e._from=!w&&!!r.runBackwards,!w||h&&!r.stagger){if(N=g[0]?uc(g[0]).harness:0,V=N&&r[N.prop],b=Mv(r,iT),m&&(m._zTime<0&&m.progress(1),n<0&&u&&a&&!f?m.render(-1,!0):m.revert(u&&v?bg:Yde),m._lazy=0),o){if(tl(e._startAt=gn.set(g,cr({data:"isStart",overwrite:!1,parent:p,immediateRender:!0,lazy:!m&&Fi(l),startAt:null,delay:0,onUpdate:c&&function(){return tr(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Vn||!a&&!f)&&e._startAt.revert(bg),a&&v&&n<=0&&i<=0){n&&(e._zTime=n);return}}else if(u&&v&&!m){if(n&&(a=!1),E=cr({overwrite:!1,data:"isFromStart",lazy:a&&!m&&Fi(l),immediateRender:a,stagger:0,parent:p},b),V&&(E[N.prop]=V),tl(e._startAt=gn.set(g,E)),e._startAt._dp=0,e._startAt._sat=e,n<0&&(Vn?e._startAt.revert(bg):e._startAt.render(-1,!0)),e._zTime=n,!a)t(e._startAt,At,At);else if(!n)return}for(e._pt=e._ptCache=0,l=v&&Fi(l)||l&&!v,S=0;S<g.length;S++){if(T=g[S],R=T._gsap||sT(g)[S]._gsap,e._ptLookup[S]=O={},mS[R.id]&&Va.length&&Tv(),H=_===g?S:_.indexOf(T),N&&(I=new N).init(T,V||b,e,H,_)!==!1&&(e._pt=P=new ji(e._pt,T,I.name,0,1,I.render,I,0,I.priority),I._props.forEach(function(D){O[D]=P}),I.priority&&(C=1)),!N||V)for(E in b)Yi[E]&&(I=nz(E,b,e,H,T,_))?I.priority&&(C=1):O[E]=P=aT.call(e,T,E,"get",b[E],H,_,0,r.stringFilter);e._op&&e._op[S]&&e.kill(T,e._op[S]),y&&e._pt&&(Ca=e,qt.killTweensOf(T,O,e.globalTime(n)),z=!e.parent,Ca=0),e._pt&&l&&(mS[R.id]=1)}C&&lz(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!z,h&&n<=0&&w.render(kr,!0,!0)},She=function(e,n,i,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[n],u,d,h,f;if(!c)for(c=e._ptCache[n]=[],h=e._ptLookup,f=e._targets.length;f--;){if(u=h[f][n],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==n&&u.fp!==n;)u=u._next;if(!u)return wS=1,e.vars[n]="+=0",lT(e,a),wS=0,l?Gf(n+" not eligible for reset"):1;c.push(u)}for(f=c.length;f--;)d=c[f],u=d._pt||d,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=i-u.s,d.e&&(d.e=cn(i)+Qn(d.e)),d.b&&(d.b=u.s+Qn(d.b))},Ehe=function(e,n){var i=e[0]?uc(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return n;s=Dd({},n);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},The=function(e,n,i,r){var s=n.ease||r||"power1.inOut",o,a;if(ii(n))a=i[e]||(i[e]=[]),n.forEach(function(l,c){return a.push({t:c/(n.length-1)*100,v:l,e:s})});else for(o in n)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:n[o],e:s})},rf=function(e,n,i,r,s){return sn(e)?e.call(n,i,r,s):Nn(e)&&~e.indexOf("random(")?qf(e):e},iz=rT+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",rz={};zi(iz+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return rz[t]=1});var gn=function(t){bF(e,t);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=t.call(this,o?r:tf(r))||this;var l=a.vars,c=l.duration,u=l.delay,d=l.immediateRender,h=l.stagger,f=l.overwrite,v=l.keyframes,m=l.defaults,g=l.scrollTrigger,p=l.yoyoEase,_=r.parent||qt,y=(ii(i)||EF(i)?zo(i[0]):"length"in r)?[i]:Dr(i),w,b,S,E,P,T,C,R;if(a._targets=y.length?sT(y):Gf("GSAP target "+i+" not found. https://gsap.com",!or.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=f,v||h||Hm(c)||Hm(u)){if(r=a.vars,w=a.timeline=new gi({data:"nested",defaults:m||{},targets:_&&_.data==="nested"?_.vars.targets:y}),w.kill(),w.parent=w._dp=po(a),w._start=0,h||Hm(c)||Hm(u)){if(E=y.length,C=h&&VF(h),qs(h))for(P in h)~iz.indexOf(P)&&(R||(R={}),R[P]=h[P]);for(b=0;b<E;b++)S=Mv(r,rz),S.stagger=0,p&&(S.yoyoEase=p),R&&Dd(S,R),T=y[b],S.duration=+rf(c,po(a),b,T,y),S.delay=(+rf(u,po(a),b,T,y)||0)-a._delay,!h&&E===1&&S.delay&&(a._delay=u=S.delay,a._start+=u,S.delay=0),w.to(T,S,C?C(b,T,y):0),w._ease=ht.none;w.duration()?c=u=0:a.timeline=0}else if(v){tf(cr(w.vars.defaults,{ease:"none"})),w._ease=hc(v.ease||r.ease||"none");var N=0,I,O,H;if(ii(v))v.forEach(function(V){return w.to(y,V,">")}),w.duration();else{S={};for(P in v)P==="ease"||P==="easeEach"||The(P,v[P],S,v.easeEach);for(P in S)for(I=S[P].sort(function(V,z){return V.t-z.t}),N=0,b=0;b<I.length;b++)O=I[b],H={ease:O.e,duration:(O.t-(b?I[b-1].t:0))/100*c},H[P]=O.v,w.to(y,H,N),N+=H.duration;w.duration()<c&&w.to({},{duration:c-w.duration()})}}c||a.duration(c=w.duration())}else a.timeline=0;return f===!0&&!Q1&&(Ca=po(a),qt.killTweensOf(y),Ca=0),ks(_,po(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(d||!c&&!v&&a._start===vn(_._time)&&Fi(d)&&nhe(po(a))&&_.data!=="nested")&&(a._tTime=-At,a.render(Math.max(0,-u)||0)),g&&FF(po(a),g),a}var n=e.prototype;return n.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,d=r>l-At&&!u?l:r<At?0:r,h,f,v,m,g,p,_,y,w;if(!c)rhe(this,r,s,o);else if(d!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(h=d,y=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+r,s,o);if(h=vn(d%m),d===l?(v=this._repeat,h=c):(g=vn(d/m),v=~~g,v&&v===g?(h=c,v--):h>c&&(h=c)),p=this._yoyo&&v&1,p&&(w=this._yEase,h=c-h),g=Id(this._tTime,m),h===a&&!o&&this._initted&&v===g)return this._tTime=d,this;v!==g&&(y&&this._yEase&&ZF(y,p),this.vars.repeatRefresh&&!p&&!this._lock&&h!==m&&this._initted&&(this._lock=o=1,this.render(vn(m*v),!0).invalidate()._lock=0))}if(!this._initted){if(zF(this,u?r:h,o,s,d))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&v!==g))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=d,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=_=(w||this._ease)(h/c),this._from&&(this.ratio=_=1-_),!a&&d&&!s&&!g&&(tr(this,"onStart"),this._tTime!==d))return this;for(f=this._pt;f;)f.r(_,f.d),f=f._next;y&&y.render(r<0?r:y._dur*y._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&gS(this,r,s,o),tr(this,"onUpdate")),this._repeat&&v!==g&&this.vars.onRepeat&&!s&&this.parent&&tr(this,"onRepeat"),(d===this._tDur||!d)&&this._tTime===d&&(u&&!this._onUpdate&&gS(this,r,!0,!0),(r||!c)&&(d===this._tDur&&this._ts>0||!d&&this._ts<0)&&tl(this,1),!s&&!(u&&!a)&&(d||a||p)&&(tr(this,d===l?"onComplete":"onReverseComplete",!0),this._prom&&!(d<l&&this.timeScale()>0)&&this._prom()))}return this},n.targets=function(){return this._targets},n.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),t.prototype.invalidate.call(this,r)},n.resetTo=function(r,s,o,a,l){Xf||Qi.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||lT(this,c),u=this._ease(c/this._dur),She(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(Uy(this,0),this.parent||NF(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Rh(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Vn),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Ca&&Ca.vars.overwrite!==!0)._first||Rh(this),this.parent&&o!==this.timeline.totalDuration()&&Ld(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?Dr(r):a,c=this._ptLookup,u=this._pt,d,h,f,v,m,g,p;if((!s||s==="all")&&ehe(a,l))return s==="all"&&(this._pt=0),Rh(this);for(d=this._op=this._op||[],s!=="all"&&(Nn(s)&&(m={},zi(s,function(_){return m[_]=1}),s=m),s=Ehe(a,s)),p=a.length;p--;)if(~l.indexOf(a[p])){h=c[p],s==="all"?(d[p]=s,v=h,f={}):(f=d[p]=d[p]||{},v=s);for(m in v)g=h&&h[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&Oy(this,g,"_pt"),delete h[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&u&&Rh(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return nf(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return nf(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return qt.killTweensOf(r,s,o)},e}(Kf);cr(gn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});zi("staggerTo,staggerFrom,staggerFromTo",function(t){gn[t]=function(){var e=new gi,n=yS.call(arguments,0);return n.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,n)}});var cT=function(e,n,i){return e[n]=i},sz=function(e,n,i){return e[n](i)},Mhe=function(e,n,i,r){return e[n](r.fp,i)},Che=function(e,n,i){return e.setAttribute(n,i)},uT=function(e,n){return sn(e[n])?sz:Z1(e[n])&&e.setAttribute?Che:cT},oz=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e6)/1e6,n)},Phe=function(e,n){return n.set(n.t,n.p,!!(n.s+n.c*e),n)},az=function(e,n){var i=n._pt,r="";if(!e&&n.b)r=n.b;else if(e===1&&n.e)r=n.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=n.c}n.set(n.t,n.p,r,n)},dT=function(e,n){for(var i=n._pt;i;)i.r(e,i.d),i=i._next},Ahe=function(e,n,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,n,i),s=o},Rhe=function(e){for(var n=this._pt,i,r;n;)r=n._next,n.p===e&&!n.op||n.op===e?Oy(this,n,"_pt"):n.dep||(i=1),n=r;return!i},khe=function(e,n,i,r){r.mSet(e,n,r.m.call(r.tween,i,r.mt),r)},lz=function(e){for(var n=e._pt,i,r,s,o;n;){for(i=n._next,r=s;r&&r.pr>n.pr;)r=r._next;(n._prev=r?r._prev:o)?n._prev._next=n:s=n,(n._next=r)?r._prev=n:o=n,n=i}e._pt=s},ji=function(){function t(n,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||oz,this.d=l||this,this.set=c||cT,this.pr=u||0,this._next=n,n&&(n._prev=this)}var e=t.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=khe,this.m=i,this.mt=s,this.tween=r},t}();zi(rT+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return iT[t]=1});lr.TweenMax=lr.TweenLite=gn;lr.TimelineLite=lr.TimelineMax=gi;qt=new gi({sortChildren:!1,defaults:kd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});or.stringFilter=JF;var fc=[],Eg={},Dhe=[],Dk=0,Ihe=0,lx=function(e){return(Eg[e]||Dhe).map(function(n){return n()})},bS=function(){var e=Date.now(),n=[];e-Dk>2&&(lx("matchMediaInit"),fc.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=Ts.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&n.push(i))}),lx("matchMediaRevert"),n.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),Dk=e,lx("matchMedia"))},cz=function(){function t(n,i){this.selector=i&&_S(i),this.data=[],this._r=[],this.isReverted=!1,this.id=Ihe++,n&&this.add(n)}var e=t.prototype;return e.add=function(i,r,s){sn(i)&&(s=r,r=i,i=sn);var o=this,a=function(){var c=Ft,u=o.selector,d;return c&&c!==o&&c.data.push(o),s&&(o.selector=_S(s)),Ft=o,d=r.apply(o,arguments),sn(d)&&o._r.push(d),Ft=c,o.selector=u,o.isReverted=!1,d};return o.last=a,i===sn?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=Ft;Ft=null,i(this),Ft=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof t?i.push.apply(i,r.getTweens()):r instanceof gn&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,d){return d.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof gi?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof gn)&&c.revert&&c.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=fc.length;o--;)fc[o].id===this.id&&fc.splice(o,1)},e.revert=function(i){this.kill(i||{})},t}(),Lhe=function(){function t(n){this.contexts=[],this.scope=n,Ft&&Ft.data.push(this)}var e=t.prototype;return e.add=function(i,r,s){qs(i)||(i={matches:i});var o=new cz(0,s||this.scope),a=o.conditions={},l,c,u;Ft&&!o.selector&&(o.selector=Ft.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?u=1:(l=Ts.matchMedia(i[c]),l&&(fc.indexOf(o)<0&&fc.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(bS):l.addEventListener("change",bS)));return u&&r(o,function(d){return o.add(null,d)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},t}(),Pv={registerPlugin:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(r){return XF(r)})},timeline:function(e){return new gi(e)},getTweensOf:function(e,n){return qt.getTweensOf(e,n)},getProperty:function(e,n,i,r){Nn(e)&&(e=Dr(e)[0]);var s=uc(e||{}).get,o=i?OF:LF;return i==="native"&&(i=""),e&&(n?o((Yi[n]&&Yi[n].get||s)(e,n,i,r)):function(a,l,c){return o((Yi[a]&&Yi[a].get||s)(e,a,l,c))})},quickSetter:function(e,n,i){if(e=Dr(e),e.length>1){var r=e.map(function(u){return Vi.quickSetter(u,n,i)}),s=r.length;return function(u){for(var d=s;d--;)r[d](u)}}e=e[0]||{};var o=Yi[n],a=uc(e),l=a.harness&&(a.harness.aliases||{})[n]||n,c=o?function(u){var d=new o;ku._pt=0,d.init(e,i?u+i:u,ku,0,[e]),d.render(1,d),ku._pt&&dT(1,ku)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,n,i){var r,s=Vi.to(e,cr((r={},r[n]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),o=function(l,c,u){return s.resetTo(n,l,c,u)};return o.tween=s,o},isTweening:function(e){return qt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=hc(e.ease,kd.ease)),Ck(kd,e||{})},config:function(e){return Ck(or,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Yi[a]&&!lr[a]&&Gf(n+" effect requires "+a+" plugin.")}),rx[n]=function(a,l,c){return i(Dr(a),cr(l||{},s),c)},o&&(gi.prototype[n]=function(a,l,c){return this.add(rx[n](a,qs(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,n){ht[e]=hc(n)},parseEase:function(e,n){return arguments.length?hc(e,n):ht},getById:function(e){return qt.getById(e)},exportRoot:function(e,n){e===void 0&&(e={});var i=new gi(e),r,s;for(i.smoothChildTiming=Fi(e.smoothChildTiming),qt.remove(i),i._dp=0,i._time=i._tTime=qt._time,r=qt._first;r;)s=r._next,(n||!(!r._dur&&r instanceof gn&&r.vars.onComplete===r._targets[0]))&&ks(i,r,r._start-r._delay),r=s;return ks(qt,i,0),i},context:function(e,n){return e?new cz(e,n):Ft},matchMedia:function(e){return new Lhe(e)},matchMediaRefresh:function(){return fc.forEach(function(e){var n=e.conditions,i,r;for(r in n)n[r]&&(n[r]=!1,i=1);i&&e.revert()})||bS()},addEventListener:function(e,n){var i=Eg[e]||(Eg[e]=[]);~i.indexOf(n)||i.push(n)},removeEventListener:function(e,n){var i=Eg[e],r=i&&i.indexOf(n);r>=0&&i.splice(r,1)},utils:{wrap:hhe,wrapYoyo:fhe,distribute:VF,random:WF,snap:HF,normalize:dhe,getUnit:Qn,clamp:ahe,splitColor:KF,toArray:Dr,selector:_S,mapRange:$F,pipe:che,unitize:uhe,interpolate:phe,shuffle:BF},install:AF,effects:rx,ticker:Qi,updateRoot:gi.updateRoot,plugins:Yi,globalTimeline:qt,core:{PropTween:ji,globals:RF,Tween:gn,Timeline:gi,Animation:Kf,getCache:uc,_removeLinkedListItem:Oy,reverting:function(){return Vn},context:function(e){return e&&Ft&&(Ft.data.push(e),e._ctx=Ft),Ft},suppressOverwrites:function(e){return Q1=e}}};zi("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Pv[t]=gn[t]});Qi.add(gi.updateRoot);ku=Pv.to({},{duration:0});var Ohe=function(e,n){for(var i=e._pt;i&&i.p!==n&&i.op!==n&&i.fp!==n;)i=i._next;return i},Nhe=function(e,n){var i=e._targets,r,s,o;for(r in n)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=Ohe(o,r)),o&&o.modifier&&o.modifier(n[r],e,i[s],r))},cx=function(e,n){return{name:e,headless:1,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(Nn(s)&&(l={},zi(s,function(u){return l[u]=1}),s=l),n){l={};for(c in s)l[c]=n(s[c]);s=l}Nhe(a,s)}}}},Vi=Pv.registerPlugin({name:"attr",init:function(e,n,i,r,s){var o,a,l;this.tween=i;for(o in n)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",n[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,n){for(var i=n._pt;i;)Vn?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",headless:1,init:function(e,n){for(var i=n.length;i--;)this.add(e,i,e[i]||0,n[i],0,0,0,0,0,1)}},cx("roundProps",xS),cx("modifiers"),cx("snap",HF))||Pv;gn.version=gi.version=Vi.version="3.13.0";PF=1;eT()&&Od();ht.Power0;ht.Power1;ht.Power2;ht.Power3;ht.Power4;ht.Linear;ht.Quad;ht.Cubic;ht.Quart;ht.Quint;ht.Strong;ht.Elastic;ht.Back;ht.SteppedEase;ht.Bounce;ht.Sine;ht.Expo;ht.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ik,Pa,Yu,hT,Jl,Lk,fT,Uhe=function(){return typeof window<"u"},jo={},Ll=180/Math.PI,Ju=Math.PI/180,ru=Math.atan2,Ok=1e8,pT=/([A-Z])/g,Fhe=/(left|right|width|margin|padding|x)/i,zhe=/[\s,\(]\S/,Us={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},SS=function(e,n){return n.set(n.t,n.p,Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},jhe=function(e,n){return n.set(n.t,n.p,e===1?n.e:Math.round((n.s+n.c*e)*1e4)/1e4+n.u,n)},Bhe=function(e,n){return n.set(n.t,n.p,e?Math.round((n.s+n.c*e)*1e4)/1e4+n.u:n.b,n)},Vhe=function(e,n){var i=n.s+n.c*e;n.set(n.t,n.p,~~(i+(i<0?-.5:.5))+n.u,n)},uz=function(e,n){return n.set(n.t,n.p,e?n.e:n.b,n)},dz=function(e,n){return n.set(n.t,n.p,e!==1?n.b:n.e,n)},Hhe=function(e,n,i){return e.style[n]=i},Whe=function(e,n,i){return e.style.setProperty(n,i)},Ghe=function(e,n,i){return e._gsap[n]=i},$he=function(e,n,i){return e._gsap.scaleX=e._gsap.scaleY=i},qhe=function(e,n,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},Xhe=function(e,n,i,r,s){var o=e._gsap;o[n]=i,o.renderTransform(s,o)},Kt="transform",Bi=Kt+"Origin",Khe=function t(e,n){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in jo&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Us[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=go(r,a)}):this.tfm[e]=o.x?o[e]:go(r,e),e===Bi&&(this.tfm.zOrigin=o.zOrigin);else return Us.transform.split(",").forEach(function(a){return t.call(i,a,n)});if(this.props.indexOf(Kt)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(Bi,n,"")),e=Kt}(s||n)&&this.props.push(e,n,s[e])},hz=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Yhe=function(){var e=this.props,n=this.target,i=n.style,r=n._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?n[e[s]](e[s+2]):n[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(pT,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),n.setAttribute("data-svg-origin",this.svgo||"")),s=fT(),(!s||!s.isStart)&&!i[Kt]&&(hz(i),r.zOrigin&&i[Bi]&&(i[Bi]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},fz=function(e,n){var i={target:e,props:[],revert:Yhe,save:Khe};return e._gsap||Vi.core.getCache(e),n&&e.style&&e.nodeType&&n.split(",").forEach(function(r){return i.save(r)}),i},pz,ES=function(e,n){var i=Pa.createElementNS?Pa.createElementNS((n||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Pa.createElement(e);return i&&i.style?i:Pa.createElement(e)},Ir=function t(e,n,i){var r=getComputedStyle(e);return r[n]||r.getPropertyValue(n.replace(pT,"-$1").toLowerCase())||r.getPropertyValue(n)||!i&&t(e,Nd(n)||n,1)||""},Nk="O,Moz,ms,Ms,Webkit".split(","),Nd=function(e,n,i){var r=n||Jl,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(Nk[o]+e in s););return o<0?null:(o===3?"ms":o>=0?Nk[o]:"")+e},TS=function(){Uhe()&&window.document&&(Ik=window,Pa=Ik.document,Yu=Pa.documentElement,Jl=ES("div")||{style:{}},ES("div"),Kt=Nd(Kt),Bi=Kt+"Origin",Jl.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",pz=!!Nd("perspective"),fT=Vi.core.reverting,hT=1)},Uk=function(e){var n=e.ownerSVGElement,i=ES("svg",n&&n.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),Yu.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),Yu.removeChild(i),s},Fk=function(e,n){for(var i=n.length;i--;)if(e.hasAttribute(n[i]))return e.getAttribute(n[i])},mz=function(e){var n,i;try{n=e.getBBox()}catch{n=Uk(e),i=1}return n&&(n.width||n.height)||i||(n=Uk(e)),n&&!n.width&&!n.x&&!n.y?{x:+Fk(e,["x","cx","x1"])||0,y:+Fk(e,["y","cy","y1"])||0,width:0,height:0}:n},gz=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&mz(e))},Mc=function(e,n){if(n){var i=e.style,r;n in jo&&n!==Bi&&(n=Kt),i.removeProperty?(r=n.substr(0,2),(r==="ms"||n.substr(0,6)==="webkit")&&(n="-"+n),i.removeProperty(r==="--"?n:n.replace(pT,"-$1").toLowerCase())):i.removeAttribute(n)}},Aa=function(e,n,i,r,s,o){var a=new ji(e._pt,n,i,0,1,o?dz:uz);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},zk={deg:1,rad:1,turn:1},Jhe={grid:1,flex:1},nl=function t(e,n,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=Jl.style,l=Fhe.test(n),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),d=100,h=r==="px",f=r==="%",v,m,g,p;if(r===o||!s||zk[r]||zk[o])return s;if(o!=="px"&&!h&&(s=t(e,n,i,"px")),p=e.getCTM&&gz(e),(f||o==="%")&&(jo[n]||~n.indexOf("adius")))return v=p?e.getBBox()[l?"width":"height"]:e[u],cn(f?s/v*d:s/100*v);if(a[l?"width":"height"]=d+(h?o:r),m=r!=="rem"&&~n.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,p&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===Pa||!m.appendChild)&&(m=Pa.body),g=m._gsap,g&&f&&g.width&&l&&g.time===Qi.time&&!g.uncache)return cn(s/g.width*d);if(f&&(n==="height"||n==="width")){var _=e.style[n];e.style[n]=d+r,v=e[u],_?e.style[n]=_:Mc(e,n)}else(f||o==="%")&&!Jhe[Ir(m,"display")]&&(a.position=Ir(e,"position")),m===e&&(a.position="static"),m.appendChild(Jl),v=Jl[u],m.removeChild(Jl),a.position="absolute";return l&&f&&(g=uc(m),g.time=Qi.time,g.width=m[u]),cn(h?v*s/d:v&&s?d/v*s:0)},go=function(e,n,i,r){var s;return hT||TS(),n in Us&&n!=="transform"&&(n=Us[n],~n.indexOf(",")&&(n=n.split(",")[0])),jo[n]&&n!=="transform"?(s=Jf(e,r),s=n!=="transformOrigin"?s[n]:s.svg?s.origin:Rv(Ir(e,Bi))+" "+s.zOrigin+"px"):(s=e.style[n],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Av[n]&&Av[n](e,n,i)||Ir(e,n)||DF(e,n)||(n==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?nl(e,n,s,i)+i:s},Qhe=function(e,n,i,r){if(!i||i==="none"){var s=Nd(n,e,1),o=s&&Ir(e,s,1);o&&o!==i?(n=s,i=o):n==="borderColor"&&(i=Ir(e,"borderTopColor"))}var a=new ji(this._pt,e.style,n,0,1,az),l=0,c=0,u,d,h,f,v,m,g,p,_,y,w,b;if(a.b=i,a.e=r,i+="",r+="",r.substring(0,6)==="var(--"&&(r=Ir(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(m=e.style[n],e.style[n]=r,r=Ir(e,n)||r,m?e.style[n]=m:Mc(e,n)),u=[i,r],JF(u),i=u[0],r=u[1],h=i.match(Ru)||[],b=r.match(Ru)||[],b.length){for(;d=Ru.exec(r);)g=d[0],_=r.substring(l,d.index),v?v=(v+1)%5:(_.substr(-5)==="rgba("||_.substr(-5)==="hsla(")&&(v=1),g!==(m=h[c++]||"")&&(f=parseFloat(m)||0,w=m.substr((f+"").length),g.charAt(1)==="="&&(g=Ku(f,g)+w),p=parseFloat(g),y=g.substr((p+"").length),l=Ru.lastIndex-y.length,y||(y=y||or.units[n]||w,l===r.length&&(r+=y,a.e+=y)),w!==y&&(f=nl(e,n,m,y)||0),a._pt={_next:a._pt,p:_||c===1?_:",",s:f,c:p-f,m:v&&v<4||n==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=n==="display"&&r==="none"?dz:uz;return MF.test(r)&&(a.e=0),this._pt=a,a},jk={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Zhe=function(e){var n=e.split(" "),i=n[0],r=n[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),n[0]=jk[i]||i,n[1]=jk[r]||r,n.join(" ")},efe=function(e,n){if(n.tween&&n.tween._time===n.tween._dur){var i=n.t,r=i.style,s=n.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],jo[a]&&(l=1,a=a==="transformOrigin"?Bi:Kt),Mc(i,a);l&&(Mc(i,Kt),o&&(o.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Jf(i,1),o.uncache=1,hz(r)))}},Av={clearProps:function(e,n,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new ji(e._pt,n,i,0,0,efe);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},Yf=[1,0,0,1,0,0],vz={},yz=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Bk=function(e){var n=Ir(e,Kt);return yz(n)?Yf:n.substr(7).match(TF).map(cn)},mT=function(e,n){var i=e._gsap||uc(e),r=e.style,s=Bk(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Yf:s):(s===Yf&&!e.offsetParent&&e!==Yu&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Yu.appendChild(e)),s=Bk(e),l?r.display=l:Mc(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Yu.removeChild(e))),n&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},MS=function(e,n,i,r,s,o){var a=e._gsap,l=s||mT(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,d=a.xOffset||0,h=a.yOffset||0,f=l[0],v=l[1],m=l[2],g=l[3],p=l[4],_=l[5],y=n.split(" "),w=parseFloat(y[0])||0,b=parseFloat(y[1])||0,S,E,P,T;i?l!==Yf&&(E=f*g-v*m)&&(P=w*(g/E)+b*(-m/E)+(m*_-g*p)/E,T=w*(-v/E)+b*(f/E)-(f*_-v*p)/E,w=P,b=T):(S=mz(e),w=S.x+(~y[0].indexOf("%")?w/100*S.width:w),b=S.y+(~(y[1]||y[0]).indexOf("%")?b/100*S.height:b)),r||r!==!1&&a.smooth?(p=w-c,_=b-u,a.xOffset=d+(p*f+_*m)-p,a.yOffset=h+(p*v+_*g)-_):a.xOffset=a.yOffset=0,a.xOrigin=w,a.yOrigin=b,a.smooth=!!r,a.origin=n,a.originIsAbsolute=!!i,e.style[Bi]="0px 0px",o&&(Aa(o,a,"xOrigin",c,w),Aa(o,a,"yOrigin",u,b),Aa(o,a,"xOffset",d,a.xOffset),Aa(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",w+" "+b)},Jf=function(e,n){var i=e._gsap||new tz(e);if("x"in i&&!n&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Ir(e,Bi)||"0",u,d,h,f,v,m,g,p,_,y,w,b,S,E,P,T,C,R,N,I,O,H,V,z,D,B,K,ne,te,ye,pe,Y;return u=d=h=m=g=p=_=y=w=0,f=v=1,i.svg=!!(e.getCTM&&gz(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[Kt]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Kt]!=="none"?l[Kt]:"")),r.scale=r.rotate=r.translate="none"),E=mT(e,i.svg),i.svg&&(i.uncache?(D=e.getBBox(),c=i.xOrigin-D.x+"px "+(i.yOrigin-D.y)+"px",z=""):z=!n&&e.getAttribute("data-svg-origin"),MS(e,z||c,!!z||i.originIsAbsolute,i.smooth!==!1,E)),b=i.xOrigin||0,S=i.yOrigin||0,E!==Yf&&(R=E[0],N=E[1],I=E[2],O=E[3],u=H=E[4],d=V=E[5],E.length===6?(f=Math.sqrt(R*R+N*N),v=Math.sqrt(O*O+I*I),m=R||N?ru(N,R)*Ll:0,_=I||O?ru(I,O)*Ll+m:0,_&&(v*=Math.abs(Math.cos(_*Ju))),i.svg&&(u-=b-(b*R+S*I),d-=S-(b*N+S*O))):(Y=E[6],ye=E[7],K=E[8],ne=E[9],te=E[10],pe=E[11],u=E[12],d=E[13],h=E[14],P=ru(Y,te),g=P*Ll,P&&(T=Math.cos(-P),C=Math.sin(-P),z=H*T+K*C,D=V*T+ne*C,B=Y*T+te*C,K=H*-C+K*T,ne=V*-C+ne*T,te=Y*-C+te*T,pe=ye*-C+pe*T,H=z,V=D,Y=B),P=ru(-I,te),p=P*Ll,P&&(T=Math.cos(-P),C=Math.sin(-P),z=R*T-K*C,D=N*T-ne*C,B=I*T-te*C,pe=O*C+pe*T,R=z,N=D,I=B),P=ru(N,R),m=P*Ll,P&&(T=Math.cos(P),C=Math.sin(P),z=R*T+N*C,D=H*T+V*C,N=N*T-R*C,V=V*T-H*C,R=z,H=D),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,p=180-p),f=cn(Math.sqrt(R*R+N*N+I*I)),v=cn(Math.sqrt(V*V+Y*Y)),P=ru(H,V),_=Math.abs(P)>2e-4?P*Ll:0,w=pe?1/(pe<0?-pe:pe):0),i.svg&&(z=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!yz(Ir(e,Kt)),z&&e.setAttribute("transform",z))),Math.abs(_)>90&&Math.abs(_)<270&&(s?(f*=-1,_+=m<=0?180:-180,m+=m<=0?180:-180):(v*=-1,_+=_<=0?180:-180)),n=n||i.uncache,i.x=u-((i.xPercent=u&&(!n&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=d-((i.yPercent=d&&(!n&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-d)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=h+o,i.scaleX=cn(f),i.scaleY=cn(v),i.rotation=cn(m)+a,i.rotationX=cn(g)+a,i.rotationY=cn(p)+a,i.skewX=_+a,i.skewY=y+a,i.transformPerspective=w+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!n&&i.zOrigin||0)&&(r[Bi]=Rv(c)),i.xOffset=i.yOffset=0,i.force3D=or.force3D,i.renderTransform=i.svg?nfe:pz?_z:tfe,i.uncache=0,i},Rv=function(e){return(e=e.split(" "))[0]+" "+e[1]},ux=function(e,n,i){var r=Qn(n);return cn(parseFloat(n)+parseFloat(nl(e,"x",i+"px",r)))+r},tfe=function(e,n){n.z="0px",n.rotationY=n.rotationX="0deg",n.force3D=0,_z(e,n)},El="0deg",xh="0px",Tl=") ",_z=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,d=i.rotationX,h=i.skewX,f=i.skewY,v=i.scaleX,m=i.scaleY,g=i.transformPerspective,p=i.force3D,_=i.target,y=i.zOrigin,w="",b=p==="auto"&&e&&e!==1||p===!0;if(y&&(d!==El||u!==El)){var S=parseFloat(u)*Ju,E=Math.sin(S),P=Math.cos(S),T;S=parseFloat(d)*Ju,T=Math.cos(S),o=ux(_,o,E*T*-y),a=ux(_,a,-Math.sin(S)*-y),l=ux(_,l,P*T*-y+y)}g!==xh&&(w+="perspective("+g+Tl),(r||s)&&(w+="translate("+r+"%, "+s+"%) "),(b||o!==xh||a!==xh||l!==xh)&&(w+=l!==xh||b?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Tl),c!==El&&(w+="rotate("+c+Tl),u!==El&&(w+="rotateY("+u+Tl),d!==El&&(w+="rotateX("+d+Tl),(h!==El||f!==El)&&(w+="skew("+h+", "+f+Tl),(v!==1||m!==1)&&(w+="scale("+v+", "+m+Tl),_.style[Kt]=w||"translate(0, 0)"},nfe=function(e,n){var i=n||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,d=i.scaleX,h=i.scaleY,f=i.target,v=i.xOrigin,m=i.yOrigin,g=i.xOffset,p=i.yOffset,_=i.forceCSS,y=parseFloat(o),w=parseFloat(a),b,S,E,P,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Ju,c*=Ju,b=Math.cos(l)*d,S=Math.sin(l)*d,E=Math.sin(l-c)*-h,P=Math.cos(l-c)*h,c&&(u*=Ju,T=Math.tan(c-u),T=Math.sqrt(1+T*T),E*=T,P*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),b*=T,S*=T)),b=cn(b),S=cn(S),E=cn(E),P=cn(P)):(b=d,P=h,S=E=0),(y&&!~(o+"").indexOf("px")||w&&!~(a+"").indexOf("px"))&&(y=nl(f,"x",o,"px"),w=nl(f,"y",a,"px")),(v||m||g||p)&&(y=cn(y+v-(v*b+m*E)+g),w=cn(w+m-(v*S+m*P)+p)),(r||s)&&(T=f.getBBox(),y=cn(y+r/100*T.width),w=cn(w+s/100*T.height)),T="matrix("+b+","+S+","+E+","+P+","+y+","+w+")",f.setAttribute("transform",T),_&&(f.style[Kt]=T)},ife=function(e,n,i,r,s){var o=360,a=Nn(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Ll:1),c=l-r,u=r+c+"deg",d,h;return a&&(d=s.split("_")[1],d==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),d==="cw"&&c<0?c=(c+o*Ok)%o-~~(c/o)*o:d==="ccw"&&c>0&&(c=(c-o*Ok)%o-~~(c/o)*o)),e._pt=h=new ji(e._pt,n,i,r,c,jhe),h.e=u,h.u="deg",e._props.push(i),h},Vk=function(e,n){for(var i in n)e[i]=n[i];return e},rfe=function(e,n,i){var r=Vk({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,d,h,f,v;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[Kt]=n,a=Jf(i,1),Mc(i,Kt),i.setAttribute("transform",c)):(c=getComputedStyle(i)[Kt],o[Kt]=n,a=Jf(i,1),o[Kt]=c);for(l in jo)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(f=Qn(c),v=Qn(u),d=f!==v?nl(i,l,c,v):parseFloat(c),h=parseFloat(u),e._pt=new ji(e._pt,a,l,d,h-d,SS),e._pt.u=v||0,e._props.push(l));Vk(a,r)};zi("padding,margin,Width,Radius",function(t,e){var n="Top",i="Right",r="Bottom",s="Left",o=(e<3?[n,i,r,s]:[n+s,n+i,r+i,r+s]).map(function(a){return e<2?t+a:"border"+a+t});Av[e>1?"border"+t:t]=function(a,l,c,u,d){var h,f;if(arguments.length<4)return h=o.map(function(v){return go(a,v,c)}),f=h.join(" "),f.split(h[0]).length===5?h[0]:f;h=(u+"").split(" "),f={},o.forEach(function(v,m){return f[v]=h[m]=h[m]||h[(m-1)/2|0]}),a.init(l,f,d)}});var xz={name:"css",register:TS,targetTest:function(e){return e.style&&e.nodeType},init:function(e,n,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,u,d,h,f,v,m,g,p,_,y,w,b,S,E,P;hT||TS(),this.styles=this.styles||fz(e),P=this.styles.props,this.tween=i;for(m in n)if(m!=="autoRound"&&(u=n[m],!(Yi[m]&&nz(m,n,i,r,e,s)))){if(f=typeof u,v=Av[m],f==="function"&&(u=u.call(i,r,e,s),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=qf(u)),v)v(this,e,m,u,i)&&(E=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",Ha.lastIndex=0,Ha.test(c)||(g=Qn(c),p=Qn(u)),p?g!==p&&(c=nl(e,m,c,p)+p):g&&(u+=g),this.add(a,"setProperty",c,u,r,s,0,0,m),o.push(m),P.push(m,0,a[m]);else if(f!=="undefined"){if(l&&m in l?(c=typeof l[m]=="function"?l[m].call(i,r,e,s):l[m],Nn(c)&&~c.indexOf("random(")&&(c=qf(c)),Qn(c+"")||c==="auto"||(c+=or.units[m]||Qn(go(e,m))||""),(c+"").charAt(1)==="="&&(c=go(e,m))):c=go(e,m),h=parseFloat(c),_=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),_&&(u=u.substr(2)),d=parseFloat(u),m in Us&&(m==="autoAlpha"&&(h===1&&go(e,"visibility")==="hidden"&&d&&(h=0),P.push("visibility",0,a.visibility),Aa(this,a,"visibility",h?"inherit":"hidden",d?"inherit":"hidden",!d)),m!=="scale"&&m!=="transform"&&(m=Us[m],~m.indexOf(",")&&(m=m.split(",")[0]))),y=m in jo,y){if(this.styles.save(m),f==="string"&&u.substring(0,6)==="var(--"&&(u=Ir(e,u.substring(4,u.indexOf(")"))),d=parseFloat(u)),w||(b=e._gsap,b.renderTransform&&!n.parseTransform||Jf(e,n.parseTransform),S=n.smoothOrigin!==!1&&b.smooth,w=this._pt=new ji(this._pt,a,Kt,0,1,b.renderTransform,b,0,-1),w.dep=1),m==="scale")this._pt=new ji(this._pt,b,"scaleY",b.scaleY,(_?Ku(b.scaleY,_+d):d)-b.scaleY||0,SS),this._pt.u=0,o.push("scaleY",m),m+="X";else if(m==="transformOrigin"){P.push(Bi,0,a[Bi]),u=Zhe(u),b.svg?MS(e,u,0,S,0,this):(p=parseFloat(u.split(" ")[2])||0,p!==b.zOrigin&&Aa(this,b,"zOrigin",b.zOrigin,p),Aa(this,a,m,Rv(c),Rv(u)));continue}else if(m==="svgOrigin"){MS(e,u,1,S,0,this);continue}else if(m in vz){ife(this,b,m,h,_?Ku(h,_+u):u);continue}else if(m==="smoothOrigin"){Aa(this,b,"smooth",b.smooth,u);continue}else if(m==="force3D"){b[m]=u;continue}else if(m==="transform"){rfe(this,u,e);continue}}else m in a||(m=Nd(m)||m);if(y||(d||d===0)&&(h||h===0)&&!zhe.test(u)&&m in a)g=(c+"").substr((h+"").length),d||(d=0),p=Qn(u)||(m in or.units?or.units[m]:g),g!==p&&(h=nl(e,m,c,p)),this._pt=new ji(this._pt,y?b:a,m,h,(_?Ku(h,_+d):d)-h,!y&&(p==="px"||m==="zIndex")&&n.autoRound!==!1?Vhe:SS),this._pt.u=p||0,g!==p&&p!=="%"&&(this._pt.b=c,this._pt.r=Bhe);else if(m in a)Qhe.call(this,e,m,c,_?_+u:u);else if(m in e)this.add(e,m,c||e[m],_?_+u:u,r,s);else if(m!=="parseTransform"){nT(m,u);continue}y||(m in a?P.push(m,0,a[m]):typeof e[m]=="function"?P.push(m,2,e[m]()):P.push(m,1,c||e[m])),o.push(m)}}E&&lz(this)},render:function(e,n){if(n.tween._time||!fT())for(var i=n._pt;i;)i.r(e,i.d),i=i._next;else n.styles.revert()},get:go,aliases:Us,getSetter:function(e,n,i){var r=Us[n];return r&&r.indexOf(",")<0&&(n=r),n in jo&&n!==Bi&&(e._gsap.x||go(e,"x"))?i&&Lk===i?n==="scale"?$he:Ghe:(Lk=i||{})&&(n==="scale"?qhe:Xhe):e.style&&!Z1(e.style[n])?Hhe:~n.indexOf("-")?Whe:uT(e,n)},core:{_removeProperty:Mc,_getMatrix:mT}};Vi.utils.checkPrefix=Nd;Vi.core.getStyleSaver=fz;(function(t,e,n,i){var r=zi(t+","+e+","+n,function(s){jo[s]=1});zi(e,function(s){or.units[s]="deg",vz[s]=1}),Us[r[13]]=t+","+e,zi(i,function(s){var o=s.split(":");Us[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");zi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){or.units[t]="px"});Vi.registerPlugin(xz);var wz=Vi.registerPlugin(xz)||Vi;wz.core.Tween;class Dh{constructor(e,n){this.x=e,this.y=n}static random(e,n){return e+Math.random()*(n-e)}}class bz{constructor(e,n,i){this.x=e,this.y=n,this.z=i}static random(e,n){return e+Math.random()*(n-e)}}class sfe{constructor(e,n,i,r){It(this,"timeline");It(this,"time",0);It(this,"canvas");It(this,"ctx");It(this,"dpr");It(this,"size");It(this,"stars",[]);It(this,"changeEventTime",.32);It(this,"cameraZ",-400);It(this,"cameraTravelDistance",3400);It(this,"startDotYOffset",28);It(this,"viewZoom",100);It(this,"numberOfStars",5e3);It(this,"trailLength",80);this.canvas=e,this.ctx=n,this.dpr=i,this.size=r,this.timeline=wz.timeline({repeat:-1}),this.setupRandomGenerator(),this.createStars(),this.setupTimeline()}getCameraZ(){return this.cameraZ}getViewZoom(){return this.viewZoom}getChangeEventTime(){return this.changeEventTime}getCameraTravelDistance(){return this.cameraTravelDistance}setupRandomGenerator(){const e=Math.random;Math.random=(()=>{let i=1234;return()=>(i=(i*9301+49297)%233280,i/233280)})(),this.createStars(),Math.random=e}createStars(){for(let e=0;e<this.numberOfStars;e++)this.stars.push(new ofe(this.cameraZ,this.cameraTravelDistance))}setupTimeline(){this.timeline.to(this,{time:1,duration:15,repeat:-1,ease:"none",onUpdate:()=>this.render()})}ease(e,n){return e<.5?.5*Math.pow(2*e,n):1-.5*Math.pow(2*(1-e),n)}easeOutElastic(e){const n=2*Math.PI/4.5;return e<=0?0:e>=1?1:Math.pow(2,-8*e)*Math.sin((e*8-.75)*n)+1}map(e,n,i,r,s){return r+(s-r)*((e-n)/(i-n))}constrain(e,n,i){return Math.min(Math.max(e,n),i)}lerp(e,n,i){return e*(1-i)+n*i}spiralPath(e){e=this.constrain(1.2*e,0,1),e=this.ease(e,1.8);const i=2*Math.PI*6*Math.sqrt(e),r=170*Math.sqrt(e);return new Dh(r*Math.cos(i),r*Math.sin(i)+this.startDotYOffset)}rotate(e,n,i,r){const s=new Dh((e.x+n.x)/2,(e.y+n.y)/2),o=e.x-s.x,a=e.y-s.y,l=Math.atan2(a,o),c=r?-1:1,u=Math.sqrt(o*o+a*a),d=Math.sin(i*Math.PI)*.05*(1-i);return new Dh(s.x+u*(1+d)*Math.cos(l+c*Math.PI*this.easeOutElastic(i)),s.y+u*(1+d)*Math.sin(l+c*Math.PI*this.easeOutElastic(i)))}showProjectedDot(e,n){const i=this.constrain(this.map(this.time,this.changeEventTime,1,0,1),0,1),r=this.cameraZ+this.ease(Math.pow(i,1.2),1.8)*this.cameraTravelDistance;if(e.z>r){const s=e.z-r,o=this.viewZoom*e.x/s,a=this.viewZoom*e.y/s,l=400*n/s;this.ctx.lineWidth=l,this.ctx.beginPath(),this.ctx.arc(o,a,.5,0,Math.PI*2),this.ctx.fill()}}drawStartDot(){if(this.time>this.changeEventTime){const e=this.cameraZ*this.startDotYOffset/this.viewZoom,n=new bz(0,e,this.cameraTravelDistance);this.showProjectedDot(n,2.5)}}render(){const e=this.ctx;if(!e)return;e.fillStyle="black",e.fillRect(0,0,this.size,this.size),e.save(),e.translate(this.size/2,this.size/2);const n=this.constrain(this.map(this.time,0,this.changeEventTime+.25,0,1),0,1),i=this.constrain(this.map(this.time,this.changeEventTime,1,0,1),0,1);e.rotate(-Math.PI*this.ease(i,2.7)),this.drawTrail(n),e.fillStyle="white";for(const r of this.stars)r.render(n,this);this.drawStartDot(),e.restore()}drawTrail(e){for(let n=0;n<this.trailLength;n++){const i=this.map(n,0,this.trailLength,1.1,.1),r=(1.3*(1-e)+3*Math.sin(Math.PI*e))*i;this.ctx.fillStyle="white",this.ctx.lineWidth=r;const s=e-15e-5*n,o=this.spiralPath(s),a=o,l=new Dh(o.x+5,o.y+5),c=this.rotate(a,l,Math.sin(this.time*Math.PI*2)*.5+.5,n%2===0);this.ctx.beginPath(),this.ctx.arc(c.x,c.y,r/2,0,Math.PI*2),this.ctx.fill()}}pause(){this.timeline.pause()}resume(){this.timeline.play()}destroy(){this.timeline.kill()}}class ofe{constructor(e,n){It(this,"dx");It(this,"dy");It(this,"spiralLocation");It(this,"strokeWeightFactor");It(this,"z");It(this,"angle");It(this,"distance");It(this,"rotationDirection");It(this,"expansionRate");It(this,"finalScale");this.angle=Math.random()*Math.PI*2,this.distance=30*Math.random()+15,this.rotationDirection=Math.random()>.5?1:-1,this.expansionRate=1.2+Math.random()*.8,this.finalScale=.7+Math.random()*.6,this.dx=this.distance*Math.cos(this.angle),this.dy=this.distance*Math.sin(this.angle),this.spiralLocation=(1-Math.pow(1-Math.random(),3))/1.3,this.z=Dh.random(.5*e,n+e);const i=(r,s,o)=>r*(1-o)+s*o;this.z=i(this.z,n/2,.3*this.spiralLocation),this.strokeWeightFactor=Math.pow(Math.random(),2)}render(e,n){const i=n.spiralPath(this.spiralLocation),r=e-this.spiralLocation;if(r>0){const s=n.constrain(4*r,0,1),o=s,a=n.easeOutElastic(s),l=Math.pow(s,2);let c;if(s<.3)c=n.lerp(o,l,s/.3);else if(s<.7){const p=(s-.3)/.4;c=n.lerp(l,a,p)}else c=a;let u,d;if(s<.3)u=n.lerp(i.x,i.x+this.dx*.3,c/.3),d=n.lerp(i.y,i.y+this.dy*.3,c/.3);else if(s<.7){const p=(s-.3)/.4,_=Math.sin(p*Math.PI)*this.rotationDirection*1.5,y=i.x+this.dx*.3,w=i.y+this.dy*.3,b=i.x+this.dx*.7,S=i.y+this.dy*.7,E=-this.dy*.4*_,P=this.dx*.4*_;u=n.lerp(y,b,p)+E*p,d=n.lerp(w,S,p)+P*p}else{const p=(s-.7)/.3,_=i.x+this.dx*.7,y=i.y+this.dy*.7,w=this.distance*this.expansionRate*1.5,b=1.2*this.rotationDirection,S=this.angle+b*p*Math.PI,E=i.x+w*Math.cos(S),P=i.y+w*Math.sin(S);u=n.lerp(_,E,p),d=n.lerp(y,P,p)}const h=(this.z-n.getCameraZ())*u/n.getViewZoom(),f=(this.z-n.getCameraZ())*d/n.getViewZoom(),v=new bz(h,f,this.z);let m=1;if(s<.6)m=1+s*.2;else{const p=(s-.6)/.4;m=1.2*(1-p)+this.finalScale*p}const g=8.5*this.strokeWeightFactor*m;n.showProjectedDot(v,g)}}}function afe(){const t=M.useRef(null),e=M.useRef(null),[n,i]=M.useState({width:window.innerWidth,height:window.innerHeight});return M.useEffect(()=>{const r=()=>{i({width:window.innerWidth,height:window.innerHeight})};return r(),window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),M.useEffect(()=>{const r=t.current;if(!r)return;const s=r.getContext("2d");if(!s)return;const o=window.devicePixelRatio||1,a=Math.max(n.width,n.height);return r.width=a*o,r.height=a*o,r.style.width=`${n.width}px`,r.style.height=`${n.height}px`,s.scale(o,o),e.current=new sfe(r,s,o,a),()=>{e.current&&(e.current.destroy(),e.current=null)}},[n]),x.jsx("div",{className:"relative w-full h-full",children:x.jsx("canvas",{ref:t,className:"absolute inset-0 w-full h-full"})})}function lfe(){const[t,e]=M.useState(!1),n=py(),i=()=>{n("/dashboard-landing")};return M.useEffect(()=>{const r=setTimeout(()=>e(!0),2e3);return()=>clearTimeout(r)},[]),x.jsxs("div",{className:"fixed inset-0 w-full h-full overflow-hidden bg-black",children:[x.jsx("div",{className:"absolute inset-0",children:x.jsx(afe,{})}),x.jsx("div",{className:`absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-10 transition-all duration-[1500ms] ease-out ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:x.jsx("button",{onClick:i,className:"text-white text-2xl tracking-[0.2em] uppercase font-extralight transition-all duration-700 hover:tracking-[0.3em] animate-pulse",children:"Enter"})})]})}function cfe(){return x.jsx("div",{className:"min-h-screen bg-black",children:x.jsx(lfe,{})})}function ufe(){return x.jsxs("div",{className:"min-h-screen bg-black",children:[x.jsx(bU,{}),x.jsxs(H3,{className:"max-w-4xl mx-auto pb-40",colors:["#7c3aed","#4f46e5","#06b6d4","#22d3ee"],blur:12,speed:"slow",waveOpacity:.35,backgroundFill:"#0b0f1a",waveWidth:60,children:[x.jsx("p",{className:"text-2xl md:text-4xl lg:text-7xl text-white font-bold text-center",children:"AI Hackerdorm"}),x.jsx("p",{className:"text-base md:text-lg mt-4 text-white/80 font-normal text-center",children:"Building, learning, and shipping AI together."})]})]})}function dfe({children:t}){return x.jsx(x.Fragment,{children:t})}function hfe(){return x.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[x.jsx("div",{className:"sticky top-0 z-40 border-b border-border bg-background/80 backdrop-blur",children:x.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[x.jsx(jn,{to:"/",className:"font-semibold",children:"AI HackerDorm"}),x.jsx("div",{className:"text-sm text-muted-foreground",children:"Admin"})]})}),x.jsxs("div",{className:"container mx-auto px-4 py-6 grid grid-cols-1 md:grid-cols-[220px_1fr] gap-6",children:[x.jsx("aside",{className:"md:sticky md:top-16 h-max",children:x.jsxs("nav",{className:"flex md:flex-col gap-2",children:[x.jsx(uh,{to:"/admin",end:!0,className:({isActive:t})=>`px-3 py-2 rounded-md text-sm font-medium border ${t?"bg-muted text-primary border-primary/30":"border-transparent hover:bg-muted/40"}`,children:"Dashboard"}),x.jsx(uh,{to:"/admin/pages",className:({isActive:t})=>`px-3 py-2 rounded-md text-sm font-medium border ${t?"bg-muted text-primary border-primary/30":"border-transparent hover:bg-muted/40"}`,children:"Pages"}),x.jsx(uh,{to:"/admin/events",className:({isActive:t})=>`px-3 py-2 rounded-md text-sm font-medium border ${t?"bg-muted text-primary border-primary/30":"border-transparent hover:bg-muted/40"}`,children:"Events"}),x.jsx(uh,{to:"/admin/projects",className:({isActive:t})=>`px-3 py-2 rounded-md text-sm font-medium border ${t?"bg-muted text-primary border-primary/30":"border-transparent hover:bg-muted/40"}`,children:"Projects"}),x.jsx(uh,{to:"/admin/members",className:({isActive:t})=>`px-3 py-2 rounded-md text-sm font-medium border ${t?"bg-muted text-primary border-primary/30":"border-transparent hover:bg-muted/40"}`,children:"Members"})]})}),x.jsx("main",{className:"min-h-[60vh]",children:x.jsx(n9,{})})]})]})}function ffe(){const[t,e]=M.useState(0),[n,i]=M.useState(0),[r,s]=M.useState(0),[o,a]=M.useState(!0);return M.useEffect(()=>{(async()=>{try{const[{count:c},{count:u},{count:d}]=await Promise.all([Pr.from("memberships").select("*",{count:"exact",head:!0}),Pr.from("events").select("*",{count:"exact",head:!0}),Pr.from("projects").select("*",{count:"exact",head:!0})]);e(c||0),i(u||0),s(d||0)}catch(c){console.error("Error fetching admin dashboard counts:",c)}finally{a(!1)}})()},[]),x.jsxs("div",{className:"space-y-6",children:[x.jsx("h1",{className:"text-2xl font-semibold",children:"Dashboard"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"rounded-lg border border-border p-4",children:[x.jsx("div",{className:"text-sm text-muted-foreground",children:"Members"}),x.jsx("div",{className:"text-3xl font-bold mt-2",children:o?"":t})]}),x.jsxs("div",{className:"rounded-lg border border-border p-4",children:[x.jsx("div",{className:"text-sm text-muted-foreground",children:"Events"}),x.jsx("div",{className:"text-3xl font-bold mt-2",children:o?"":n})]}),x.jsxs("div",{className:"rounded-lg border border-border p-4",children:[x.jsx("div",{className:"text-sm text-muted-foreground",children:"Projects"}),x.jsx("div",{className:"text-3xl font-bold mt-2",children:o?"":r})]})]}),x.jsxs("div",{className:"flex gap-3",children:[x.jsx(jn,{to:"/admin/events",className:"border rounded px-3 py-1 text-sm hover:bg-muted",children:"Manage Events"}),x.jsx(jn,{to:"/admin/projects",className:"border rounded px-3 py-1 text-sm hover:bg-muted",children:"Manage Projects"})]})]})}function pfe(){const[t,e]=M.useState([]),[n,i]=M.useState(!1),[r,s]=M.useState(""),[o,a]=M.useState(""),[l,c]=M.useState(""),[u,d]=M.useState(""),[h,f]=M.useState(""),[v,m]=M.useState(""),[g,p]=M.useState(!1),[_,y]=M.useState(""),[w,b]=M.useState(""),[S,E]=M.useState(!1),[P,T]=M.useState(""),[C,R]=M.useState(""),[N,I]=M.useState(null),[O,H]=M.useState(""),[V,z]=M.useState(""),[D,B]=M.useState(""),[K,ne]=M.useState(""),[te,ye]=M.useState(""),[pe,Y]=M.useState([]),[oe,$]=M.useState(!1),[ce,we]=M.useState(""),[ue,Ze]=M.useState(""),[Xe,U]=M.useState(!1),[Ne,Se]=M.useState(""),[Ue,Me]=M.useState("");M.useEffect(()=>{let F=!0;return(async()=>{i(!0);const{data:ie,error:J}=await Pr.from("events").select("id,title,starts_at,ends_at,venue,status,luma_url,tags,description,image_url,is_online,capacity").order("starts_at",{ascending:!1});F&&(J?$t.error("Failed to load events"):e(ie??[]),i(!1))})(),()=>{F=!1}},[]);const rt=async()=>{try{if(!r.trim()||!o){$t.error("Please provide title and date");return}const F=await us(),G=await fetch("/api/admin/events",{method:"POST",headers:F,body:JSON.stringify({title:r,starts_at:new Date(o).toISOString(),venue:l||null,luma_url:u||null,status:h||null,tags:(()=>{const J=v?v.split(",").map(he=>he.trim()).filter(Boolean):[],Ae=J.includes("featured");return g&&!Ae&&J.push("featured"),!g&&Ae&&J.splice(J.indexOf("featured"),1),J.length?J:null})(),description:_||null,image_url:w||null,is_online:S,capacity:P?Number(P):null,ends_at:C?new Date(C).toISOString():null})});if(!G.ok){const J=await G.text();throw new Error(J||"Failed to create event")}const ie=await G.json();e(J=>[ie,...J]),s(""),a(""),c(""),d(""),f(""),m(""),p(!1),y(""),b(""),E(!1),T(""),R(""),$t.success("Event created")}catch(F){$t.error((F==null?void 0:F.message)||"Failed to create event")}},ve=async F=>{try{const G=await us({json:!1}),ie=await fetch(`/api/admin/events/${F}`,{method:"DELETE",headers:G});if(!ie.ok){const J=await ie.text();throw new Error(J||"Delete failed")}e(J=>J.filter(Ae=>Ae.id!==F)),$t.success("Event deleted")}catch(G){$t.error((G==null?void 0:G.message)||"Failed to delete event")}},[Fe,ot]=M.useState(""),_t=F=>{I(F.id),H(F.title??"");try{z(new Date(F.starts_at).toISOString().slice(0,10))}catch{z("")}B(F.venue??""),ne(F.luma_url??""),ye(F.status??"");const G=F.tags??[];Y(G),$(G.includes("featured")),ot(Array.isArray(F.tags)?F.tags.join(","):""),we(F.description??""),Ze(F.image_url??""),U(!!F.is_online),Se(typeof F.capacity=="number"?String(F.capacity):"");try{Me(F.ends_at?new Date(F.ends_at).toISOString().slice(0,10):"")}catch{Me("")}},L=()=>{I(null)},A=async()=>{try{if(!N)return;const F=await us();let G=Fe.trim()?Fe.split(",").map(ke=>ke.trim()).filter(Boolean):Array.isArray(pe)?[...pe]:[];const ie=G.indexOf("featured");oe&&ie===-1&&G.push("featured"),!oe&&ie!==-1&&G.splice(ie,1);const J={title:O,starts_at:V?new Date(V).toISOString():void 0,venue:D||null,luma_url:K||null,status:te||null,tags:G.length?G:null,description:ce||null,image_url:ue||null,is_online:Xe,capacity:Ne?Number(Ne):null,ends_at:Ue?new Date(Ue).toISOString():null},Ae=await fetch(`/api/admin/events/${N}`,{method:"PATCH",headers:F,body:JSON.stringify(J)});if(!Ae.ok){const ke=await Ae.text();throw new Error(ke||"Update failed")}const he=await Ae.json();e(ke=>ke.map(Oe=>Oe.id===he.id?he:Oe)),I(null),$t.success("Event updated")}catch(F){$t.error((F==null?void 0:F.message)||"Failed to update event")}};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h1",{className:"text-2xl font-semibold",children:"Events"}),x.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_200px_1fr_1fr_auto] items-end",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Title",value:r,onChange:F=>s(F.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",type:"date",placeholder:"Date",value:o,onChange:F=>a(F.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Venue",value:l,onChange:F=>c(F.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Luma URL",value:u,onChange:F=>d(F.target.value)}),x.jsx("button",{onClick:rt,className:"border rounded px-3 py-1 text-sm hover:bg-muted",children:"Add"}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Status",value:h,onChange:F=>f(F.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Tags (comma-separated)",value:v,onChange:F=>m(F.target.value)}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Featured"}),x.jsx("input",{type:"checkbox",checked:g,onChange:F=>p(F.target.checked)})]}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Image URL",value:w,onChange:F=>b(F.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",type:"number",placeholder:"Capacity",value:P,onChange:F=>T(F.target.value)}),x.jsxs("label",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"}),x.jsx("input",{type:"checkbox",checked:S,onChange:F=>E(F.target.checked)})]}),x.jsx("input",{className:"border rounded px-2 py-1",type:"date",placeholder:"End Date (optional)",value:C,onChange:F=>R(F.target.value)}),x.jsx("textarea",{className:"border rounded px-2 py-1 md:col-span-5",placeholder:"Description",value:_,onChange:F=>y(F.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[n&&x.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading"}),!n&&t.length===0&&x.jsx("div",{className:"text-sm text-muted-foreground",children:"No events yet."}),t.map(F=>x.jsx("div",{className:"border border-border rounded-md px-3 py-2",children:N===F.id?x.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_160px_1fr_1fr_220px] items-end",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Title",value:O,onChange:G=>H(G.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",type:"date",value:V,onChange:G=>z(G.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Venue",value:D,onChange:G=>B(G.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Luma URL",value:K,onChange:G=>ne(G.target.value)}),x.jsxs("div",{className:"flex gap-2 items-center",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Status",value:te,onChange:G=>ye(G.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1 hidden md:block",placeholder:"Tags (comma-separated)",value:Fe,onChange:G=>ot(G.target.value)}),x.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Featured"}),x.jsx("input",{type:"checkbox",checked:oe,onChange:G=>$(G.target.checked)})]}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:A,children:"Save"}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:L,children:"Cancel"})]}),x.jsx("input",{className:"border rounded px-2 py-1 md:col-span-2",placeholder:"Image URL",value:ue,onChange:G=>Ze(G.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",type:"number",placeholder:"Capacity",value:Ne,onChange:G=>Se(G.target.value)}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"}),x.jsx("input",{type:"checkbox",checked:Xe,onChange:G=>U(G.target.checked)})]}),x.jsx("input",{className:"border rounded px-2 py-1",type:"date",placeholder:"End Date (optional)",value:Ue,onChange:G=>Me(G.target.value)}),x.jsx("textarea",{className:"border rounded px-2 py-1 md:col-span-5",placeholder:"Description",value:ce,onChange:G=>we(G.target.value)}),K&&x.jsxs("div",{className:"md:col-span-5 mt-2",children:[x.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Luma Preview"}),x.jsx("iframe",{src:`${K}${K.includes("?")?"&":"?"}embed=true`,className:"w-full h-72 rounded-md border",loading:"lazy",allow:"clipboard-write; encrypted-media"})]})]}):x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:F.title}),x.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(F.starts_at).toLocaleString()," ",F.venue?` ${F.venue}`:""]}),Array.isArray(F.tags)&&F.tags.includes("featured")&&x.jsx("div",{className:"mt-1",children:x.jsx("span",{className:"text-xs inline-block rounded px-2 py-0.5 bg-primary/10 text-primary",children:"Featured"})}),F.luma_url&&x.jsx("a",{href:F.luma_url,target:"_blank",rel:"noreferrer",className:"text-xs underline text-primary",children:"Event page"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"text-xs text-muted-foreground mr-2",children:F.status??""}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:()=>_t(F),children:"Edit"}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm text-red-600",onClick:()=>ve(F.id),children:"Delete"})]})]})},F.id))]})]})}function mfe(){const[t,e]=M.useState([]),[n,i]=M.useState(!1),[r,s]=M.useState(""),[o,a]=M.useState(""),[l,c]=M.useState(""),[u,d]=M.useState(""),[h,f]=M.useState(""),[v,m]=M.useState(""),[g,p]=M.useState(""),[_,y]=M.useState(""),[w,b]=M.useState(null),[S,E]=M.useState(""),[P,T]=M.useState(""),[C,R]=M.useState(""),[N,I]=M.useState(""),[O,H]=M.useState(""),[V,z]=M.useState(""),[D,B]=M.useState(""),[K,ne]=M.useState("");M.useEffect(()=>{let $=!0;return(async()=>{i(!0);const{data:we,error:ue}=await Pr.from("projects").select("id,title,summary,description,repo_url,demo_url,image_url,tags,status").order("created_at",{ascending:!1});$&&(ue?$t.error("Failed to load projects"):e(we??[]),i(!1))})(),()=>{$=!1}},[]);const te=$=>{b($.id),E($.title??""),T($.repo_url??""),R($.demo_url??""),I($.image_url??""),H($.summary??""),z($.description??""),B(Array.isArray($.tags)?$.tags.join(","):""),ne($.status??"")},ye=()=>{b(null)},pe=async()=>{try{if(!w)return;const $=await us(),ce=await fetch(`/api/admin/projects/${w}`,{method:"PATCH",headers:$,body:JSON.stringify({title:S,summary:O||null,description:V||null,repo_url:P||null,demo_url:C||null,image_url:N||null,tags:D?D.split(",").map(ue=>ue.trim()).filter(Boolean):null,status:K||null})});if(!ce.ok){const ue=await ce.text();throw new Error(ue||"Update failed")}const we=await ce.json();e(ue=>ue.map(Ze=>Ze.id===we.id?we:Ze)),b(null),$t.success("Project updated")}catch($){$t.error(($==null?void 0:$.message)||"Failed to update project")}},Y=async()=>{try{if(!r.trim()){$t.error("Please provide a project name");return}const $=await us(),ce=await fetch("/api/admin/projects",{method:"POST",headers:$,body:JSON.stringify({title:r,summary:h||null,description:v||null,repo_url:o||null,demo_url:l||null,image_url:u||null,tags:g?g.split(",").map(ue=>ue.trim()).filter(Boolean):null,status:_||null})});if(!ce.ok){const ue=await ce.text();throw new Error(ue||"Failed to create project")}const we=await ce.json();e(ue=>[we,...ue]),s(""),a(""),c(""),d(""),f(""),m(""),p(""),y(""),$t.success("Project created")}catch($){$t.error(($==null?void 0:$.message)||"Failed to create project")}},oe=async $=>{try{const ce=await us({json:!1}),we=await fetch(`/api/admin/projects/${$}`,{method:"DELETE",headers:ce});if(!we.ok){const ue=await we.text();throw new Error(ue||"Delete failed")}e(ue=>ue.filter(Ze=>Ze.id!==$)),$t.success("Project deleted")}catch(ce){$t.error((ce==null?void 0:ce.message)||"Failed to delete project")}};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("h1",{className:"text-2xl font-semibold",children:"Projects"}),x.jsxs("div",{className:"grid gap-3 md:grid-cols-[1fr_1fr_1fr_1fr_auto]",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Title",value:r,onChange:$=>s($.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Repository URL",value:o,onChange:$=>a($.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Demo URL",value:l,onChange:$=>c($.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Image URL",value:u,onChange:$=>d($.target.value)}),x.jsx("button",{className:"border rounded px-3 py-1 text-sm hover:bg-muted",onClick:Y,children:"Add"}),x.jsx("input",{className:"border rounded px-2 py-1 md:col-span-2",placeholder:"Summary",value:h,onChange:$=>f($.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Tags (comma-separated)",value:g,onChange:$=>p($.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Status (draft/pending/approved/featured)",value:_,onChange:$=>y($.target.value)}),x.jsx("textarea",{className:"border rounded px-2 py-1 md:col-span-5",placeholder:"Description",value:v,onChange:$=>m($.target.value)})]}),x.jsxs("div",{className:"space-y-2",children:[t.length===0&&x.jsx("div",{className:"text-sm text-muted-foreground",children:"No projects yet."}),t.map($=>x.jsx("div",{className:"border border-border rounded-md px-3 py-2",children:w===$.id?x.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_1fr_1fr_1fr_220px] items-end",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Title",value:S,onChange:ce=>E(ce.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Repository URL",value:P,onChange:ce=>T(ce.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Demo URL",value:C,onChange:ce=>R(ce.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Image URL",value:N,onChange:ce=>I(ce.target.value)}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:pe,children:"Save"}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:ye,children:"Cancel"})]}),x.jsx("input",{className:"border rounded px-2 py-1 md:col-span-2",placeholder:"Summary",value:O,onChange:ce=>H(ce.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Tags (comma-separated)",value:D,onChange:ce=>B(ce.target.value)}),x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Status",value:K,onChange:ce=>ne(ce.target.value)}),x.jsx("textarea",{className:"border rounded px-2 py-1 md:col-span-5",placeholder:"Description",value:V,onChange:ce=>z(ce.target.value)})]}):x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:$.title}),$.repo_url&&x.jsx("a",{href:$.repo_url,target:"_blank",rel:"noreferrer",className:"text-xs text-primary underline",children:$.repo_url})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("button",{className:"border rounded px-2 py-1 text-sm",onClick:()=>te($),children:"Edit"}),x.jsx("button",{className:"border rounded px-2 py-1 text-sm text-red-600",onClick:()=>oe($.id),children:"Delete"})]})]})},$.id))]})]})}const gfe=ry("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Hk({className:t,variant:e,...n}){return x.jsx("div",{className:yt(gfe({variant:e}),t),...n})}function vfe(){const{user:t}=O4(),[e,n]=M.useState({upcomingEvents:[],userRSVPs:[],userProjects:[],clubStats:{totalMembers:0,totalEvents:0,totalProjects:0}}),[i,r]=M.useState(!0);M.useEffect(()=>{t&&s()},[t]);const s=async()=>{try{const{data:o}=await Pr.from("events").select("*").gte("starts_at",new Date().toISOString()).order("starts_at",{ascending:!0}).limit(3),{count:a}=await Pr.from("events").select("*",{count:"exact",head:!0}).gte("starts_at",new Date().toISOString()),{data:l}=await Pr.from("rsvps").select(`
          *,
          events (
            id,
            title,
            starts_at,
            venue
          )
        `).eq("user_id",t==null?void 0:t.id).limit(5),{data:c}=await Pr.from("projects").select("*").eq("owner_id",t==null?void 0:t.id).limit(5),{count:u}=await Pr.from("memberships").select("*",{count:"exact",head:!0});n(d=>({...d,upcomingEvents:o||[],userRSVPs:l||[],userProjects:c||[],clubStats:{totalMembers:u||0,totalEvents:a||0,totalProjects:(c==null?void 0:c.length)??0}}))}catch(o){console.error("Error fetching dashboard data:",o)}finally{r(!1)}};return t?x.jsx("div",{className:"min-h-screen bg-background",children:x.jsx("main",{className:"pt-20 pb-20",children:x.jsxs("div",{className:"container mx-auto px-6",children:[x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[x.jsxs("h1",{className:"text-3xl font-bold mb-2",children:["Welcome back, ",x.jsx("span",{className:"ai-text-gradient",children:(t==null?void 0:t.firstName)||"Member"}),"!"]}),x.jsx("p",{className:"text-muted-foreground",children:"Here's what's happening in AI Hackerdorm today."})]}),x.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[x.jsx(Pi,{className:"ai-card",children:x.jsx(Sr,{className:"p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Club Members"}),x.jsx("h3",{className:"text-2xl font-bold text-primary",children:e.clubStats.totalMembers})]}),x.jsx(Sf,{className:"h-8 w-8 text-primary/60"})]})})}),x.jsx(Pi,{className:"ai-card",children:x.jsx(Sr,{className:"p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Events"}),x.jsx("h3",{className:"text-2xl font-bold text-accent",children:e.clubStats.totalEvents})]}),x.jsx(og,{className:"h-8 w-8 text-accent/60"})]})})}),x.jsx(Pi,{className:"ai-card",children:x.jsx(Sr,{className:"p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Your Projects"}),x.jsx("h3",{className:"text-2xl font-bold text-primary",children:e.userProjects.length})]}),x.jsx(FW,{className:"h-8 w-8 text-primary/60"})]})})}),x.jsx(Pi,{className:"ai-card",children:x.jsx(Sr,{className:"p-6",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-muted-foreground",children:"Your RSVPs"}),x.jsx("h3",{className:"text-2xl font-bold text-accent",children:e.userRSVPs.length})]}),x.jsx(hW,{className:"h-8 w-8 text-accent/60"})]})})})]}),x.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[x.jsx(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:x.jsxs(Pi,{className:"ai-card",children:[x.jsxs(Ta,{children:[x.jsxs(Ma,{className:"flex items-center gap-2",children:[x.jsx(og,{className:"h-5 w-5"}),"Upcoming Events"]}),x.jsx(Xl,{children:"Don't miss out on these exciting events"})]}),x.jsxs(Sr,{className:"space-y-4",children:[e.upcomingEvents.length>0?e.upcomingEvents.map(o=>x.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:o.title}),x.jsxs("p",{className:"text-sm text-muted-foreground",children:[new Date(o.starts_at).toLocaleDateString(),"  ",o.venue]})]}),x.jsx(Pt,{size:"sm",variant:"outline",children:"RSVP"})]},o.id)):x.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No upcoming events. Check back soon!"}),x.jsx(jn,{to:"/events",children:x.jsx(Pt,{variant:"outline",className:"w-full",children:"View All Events"})})]})]})}),x.jsx(st.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:x.jsxs(Pi,{className:"ai-card",children:[x.jsxs(Ta,{children:[x.jsxs(Ma,{className:"flex items-center gap-2",children:[x.jsx(zL,{className:"h-5 w-5"}),"Your Projects"]}),x.jsx(Xl,{children:"Your ongoing and completed projects"})]}),x.jsxs(Sr,{className:"space-y-4",children:[e.userProjects.length>0?e.userProjects.map(o=>x.jsxs("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[x.jsxs("div",{children:[x.jsx("h4",{className:"font-semibold",children:o.title}),x.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[x.jsx(Hk,{variant:o.status==="approved"?"default":"secondary",children:o.status}),o.tags&&o.tags.slice(0,2).map(a=>x.jsx(Hk,{variant:"outline",className:"text-xs",children:a},a))]})]}),x.jsx(Pt,{size:"sm",variant:"outline",children:"View"})]},o.id)):x.jsxs("div",{className:"text-center py-4",children:[x.jsx("p",{className:"text-muted-foreground mb-4",children:"No projects yet. Start building something amazing!"}),x.jsx(Pt,{size:"sm",children:"Create Project"})]}),x.jsx(jn,{to:"/projects",children:x.jsx(Pt,{variant:"outline",className:"w-full",children:"View All Projects"})})]})]})})]}),x.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-8",children:x.jsxs(Pi,{className:"ai-card",children:[x.jsxs(Ta,{children:[x.jsxs(Ma,{className:"flex items-center gap-2",children:[x.jsx(LW,{className:"h-5 w-5"}),"Quick Actions"]}),x.jsx(Xl,{children:"Common actions to get you started"})]}),x.jsx(Sr,{children:x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsx(jn,{to:"/join",children:x.jsxs(Pt,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center space-y-2",children:[x.jsx(Sf,{className:"h-6 w-6"}),x.jsx("span",{children:"Complete Profile"})]})}),x.jsx(jn,{to:"/events",children:x.jsxs(Pt,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center space-y-2",children:[x.jsx(og,{className:"h-6 w-6"}),x.jsx("span",{children:"Browse Events"})]})}),x.jsx(jn,{to:"/resources",children:x.jsxs(Pt,{variant:"outline",className:"w-full h-auto p-4 flex flex-col items-center space-y-2",children:[x.jsx(aW,{className:"h-6 w-6"}),x.jsx("span",{children:"Learning Resources"})]})})]})})]})})]})})}):x.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:x.jsxs(Pi,{className:"max-w-md w-full mx-4",children:[x.jsxs(Ta,{children:[x.jsx(Ma,{children:"Access Denied"}),x.jsx(Xl,{children:"Please sign in to access your dashboard."})]}),x.jsx(Sr,{children:x.jsx(jn,{to:"/",children:x.jsx(Pt,{className:"w-full",children:"Go Home"})})})]})})}function yfe(){const[t,e]=M.useState([]),[n,i]=M.useState(!1),[r,s]=M.useState(""),o=M.useMemo(()=>{const c=r.trim().toLowerCase();return c?t.filter(u=>{var d;return(((d=u.profile)==null?void 0:d.name)||"").toLowerCase().includes(c)||u.user_id.toLowerCase().includes(c)||u.role.toLowerCase().includes(c)}):t},[t,r]);M.useEffect(()=>{let c=!0;return(async()=>{try{i(!0);const d=await us({json:!1}),h=await fetch("/api/admin/members",{headers:d});if(!h.ok)throw new Error(await h.text());const f=await h.json();if(!c)return;e(f)}catch(d){$t.error((d==null?void 0:d.message)||"Failed to load members")}finally{i(!1)}})(),()=>{c=!1}},[]);const a=async(c,u)=>{try{const d=await us(),h=await fetch(`/api/admin/members/${c}`,{method:"PATCH",headers:d,body:JSON.stringify({role:u})});if(!h.ok)throw new Error(await h.text());const f=await h.json();e(v=>v.map(m=>m.user_id===c?f:m)),$t.success("Role updated")}catch(d){$t.error((d==null?void 0:d.message)||"Failed to update role")}},l=async(c,u)=>{try{const d=await us(),h=await fetch(`/api/admin/members/${c}`,{method:"PATCH",headers:d,body:JSON.stringify({visibility:u})});if(!h.ok)throw new Error(await h.text());const f=await h.json();e(v=>v.map(m=>m.user_id===c?f:m)),$t.success("Visibility updated")}catch(d){$t.error((d==null?void 0:d.message)||"Failed to update visibility")}};return x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{className:"flex items-center justify-between",children:x.jsx("h1",{className:"text-2xl font-semibold",children:"Members"})}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("input",{className:"border rounded px-2 py-1",placeholder:"Search by name, role, or user id",value:r,onChange:c=>s(c.target.value)}),x.jsx("button",{className:"border rounded px-3 py-1 text-sm hover:bg-muted",onClick:()=>s(""),children:"Clear"})]}),n&&x.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading"}),!n&&o.length===0&&x.jsx("div",{className:"text-sm text-muted-foreground",children:"No members found."}),x.jsx("div",{className:"space-y-2",children:o.map(c=>{var u,d;return x.jsx("div",{className:"border border-border rounded-md px-3 py-2",children:x.jsxs("div",{className:"grid gap-2 md:grid-cols-[1fr_160px_160px_160px] items-center",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:((u=c.profile)==null?void 0:u.name)||"Unnamed"}),x.jsx("div",{className:"text-xs text-muted-foreground",children:c.user_id})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:"text-sm text-muted-foreground",children:"Role"}),x.jsxs("select",{className:"border rounded-md bg-background px-2 py-1 text-sm",value:c.role,onChange:h=>a(c.user_id,h.target.value),children:[x.jsx("option",{value:"member",children:"member"}),x.jsx("option",{value:"lead",children:"lead"}),x.jsx("option",{value:"admin",children:"admin"})]})]}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Visible"}),x.jsx("input",{type:"checkbox",checked:!!((d=c.profile)!=null&&d.visibility),onChange:h=>l(c.user_id,h.target.checked)})]}),x.jsx("div",{className:"justify-self-end",children:x.jsxs("span",{className:"text-xs text-muted-foreground",children:["Joined ",new Date(c.joined_at).toLocaleDateString()]})})]})},c.id)})})]})}function dx({slug:t,children:e}){const{map:n}=wy();return n[t]===!1?x.jsx(oo,{to:"/",replace:!0}):x.jsx(x.Fragment,{children:e})}function _fe({children:t}){const e="aihackerdorm",n=e.length>0,[i,r]=M.useState(()=>{if(!n)return!0;try{return sessionStorage.getItem("admin_pass_ok")==="1"}catch{return!1}}),[s,o]=M.useState(""),a=l=>{if(l.preventDefault(),s===e){try{sessionStorage.setItem("admin_pass_ok","1"),sessionStorage.setItem("admin_password",s)}catch{}r(!0)}else alert("Incorrect admin password")};return!n||i?x.jsx(x.Fragment,{children:t}):x.jsx("div",{className:"min-h-[40vh] flex items-center justify-center",children:x.jsxs("form",{onSubmit:a,className:"ai-card p-6 space-y-4 w-full max-w-sm",children:[x.jsx("h2",{className:"text-xl font-semibold",children:"Admin Password"}),x.jsx("input",{type:"password",className:"w-full border rounded px-3 py-2 bg-background",placeholder:"Enter admin password",value:s,onChange:l=>o(l.target.value)}),x.jsx("button",{type:"submit",className:"ai-button-primary w-full",children:"Continue"})]})})}function xfe(){return x.jsxs("div",{className:"relative flex h-[650px] w-full flex-col items-center justify-center overflow-hidden rounded-xl border bg-blue-700",children:[x.jsx(J1,{}),x.jsx("span",{className:"absolute pointer-events-none z-10 text-center text-7xl leading-none font-semibold tracking-tighter whitespace-pre-wrap text-white",children:"Shader Animation"})]})}function wfe(){const{knownPages:t,map:e,refresh:n,loading:i}=wy(),[r,s]=M.useState(null);M.useEffect(()=>{n()},[]);const o=async(a,l)=>{try{s(a);const c=await us(),u=await fetch(`/api/admin/pages/${a}`,{method:"PATCH",headers:c,body:JSON.stringify({visible:l})});if(!u.ok)throw new Error(await u.text());await n(),$t.success("Updated")}catch(c){$t.error((c==null?void 0:c.message)||"Failed to update")}finally{s(null)}};return x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h1",{className:"text-2xl font-bold",children:"Pages Visibility"}),x.jsx("button",{onClick:()=>n(),className:"ai-button-primary",children:"Refresh"})]}),x.jsx("p",{className:"text-sm text-muted-foreground",children:"Toggle visibility of pages. Home and Contact remain visible and are not listed here."}),x.jsx("div",{className:"divide-y divide-border rounded-md border",children:t.filter(a=>a.slug!=="dashboard-landing").map(a=>x.jsxs("div",{className:"flex items-center justify-between p-3",children:[x.jsxs("div",{children:[x.jsx("div",{className:"font-medium",children:a.title}),x.jsxs("div",{className:"text-xs text-muted-foreground",children:["/",a.slug]})]}),x.jsx("input",{type:"checkbox",checked:e[a.slug]!==!1,onChange:l=>o(a.slug,!!l.target.checked),disabled:i||r===a.slug})]},a.slug))}),x.jsx("p",{className:"text-xs text-muted-foreground",children:'Note: Hiding "About" will also place a condensed About section on the Home page automatically, as requested.'})]})}const bfe=new d$,Sfe=()=>x.jsx(f$,{client:bfe,children:x.jsxs(B8,{children:[x.jsx(E6,{}),x.jsx(nG,{}),x.jsx(iY,{children:x.jsx(h9,{children:x.jsxs(r9,{children:[x.jsx(Wt,{path:"/",element:x.jsx(Vde,{})}),x.jsx(Wt,{path:"/about",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/team",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/programs",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/events",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/projects",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/resources",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/contact",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/join",element:x.jsx(oo,{to:"/",replace:!0})}),x.jsx(Wt,{path:"/dashboard",element:x.jsx(Hde,{})}),x.jsx(Wt,{path:"/dashboard-landing",element:x.jsx(dx,{slug:"dashboard-landing",children:x.jsx(vfe,{})})}),x.jsx(Wt,{path:"/spiral",element:x.jsx(dx,{slug:"spiral",children:x.jsx(cfe,{})})}),x.jsx(Wt,{path:"/wavy",element:x.jsx(dx,{slug:"wavy",children:x.jsx(ufe,{})})}),x.jsx(Wt,{path:"/shader-demo",element:x.jsx(xfe,{})}),x.jsx(Wt,{path:"/error",element:x.jsx(Tk,{})}),x.jsxs(Wt,{path:"/admin",element:x.jsx(dfe,{requireAdmin:!0,children:x.jsx(_fe,{children:x.jsx(hfe,{})})}),children:[x.jsx(Wt,{index:!0,element:x.jsx(ffe,{})}),x.jsx(Wt,{path:"events",element:x.jsx(pfe,{})}),x.jsx(Wt,{path:"projects",element:x.jsx(mfe,{})}),x.jsx(Wt,{path:"members",element:x.jsx(yfe,{})}),x.jsx(Wt,{path:"pages",element:x.jsx(wfe,{})})]}),x.jsx(Wt,{path:"*",element:x.jsx(Tk,{})})]})})})]})}),Efe="pk_test_ZmFpci1zcXVpZC02Ni5jbGVyay5hY2NvdW50cy5kZXYk",Tfe=document.getElementById("root");fI(Tfe).render(x.jsx(M.StrictMode,{children:x.jsx(oL,{publishableKey:Efe,children:x.jsx(Sfe,{})})}));
